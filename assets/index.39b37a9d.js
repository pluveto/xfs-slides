var hd=Object.defineProperty,md=Object.defineProperties;var yd=Object.getOwnPropertyDescriptors;var ns=Object.getOwnPropertySymbols;var xi=Object.prototype.hasOwnProperty,ki=Object.prototype.propertyIsEnumerable;var wi=(e,t,o)=>t in e?hd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,be=(e,t)=>{for(var o in t||(t={}))xi.call(t,o)&&wi(e,o,t[o]);if(ns)for(var o of ns(t))ki.call(t,o)&&wi(e,o,t[o]);return e},Ze=(e,t)=>md(e,yd(t));var cr=(e,t)=>{var o={};for(var s in e)xi.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&ns)for(var s of ns(e))t.indexOf(s)<0&&ki.call(e,s)&&(o[s]=e[s]);return o};const gd=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}};gd();function Sl(e,t){const o=Object.create(null),s=e.split(",");for(let r=0;r<s.length;r++)o[s[r]]=!0;return t?r=>!!o[r.toLowerCase()]:r=>!!o[r]}const bd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_d=Sl(bd);function Cc(e){return!!e||e===""}function rt(e){if(ee(e)){const t={};for(let o=0;o<e.length;o++){const s=e[o],r=De(s)?wd(s):rt(s);if(r)for(const l in r)t[l]=r[l]}return t}else{if(De(e))return e;if(Ve(e))return e}}const vd=/;(?![^(]*\))/g,Fd=/:(.+)/;function wd(e){const t={};return e.split(vd).forEach(o=>{if(o){const s=o.split(Fd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Re(e){let t="";if(De(e))t=e;else if(ee(e))for(let o=0;o<e.length;o++){const s=Re(e[o]);s&&(t+=s+" ")}else if(Ve(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}function xe(e){if(!e)return null;let{class:t,style:o}=e;return t&&!De(t)&&(e.class=Re(t)),o&&(e.style=rt(o)),e}const Cn=e=>De(e)?e:e==null?"":ee(e)||Ve(e)&&(e.toString===$c||!re(e.toString))?JSON.stringify(e,Ec,2):String(e),Ec=(e,t)=>t&&t.__v_isRef?Ec(e,t.value):Vn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[s,r])=>(o[`${s} =>`]=r,o),{})}:Sc(t)?{[`Set(${t.size})`]:[...t.values()]}:Ve(t)&&!ee(t)&&!Oc(t)?String(t):t,$e={},Hn=[],St=()=>{},xd=()=>!1,kd=/^on[^a-z]/,js=e=>kd.test(e),Bl=e=>e.startsWith("onUpdate:"),tt=Object.assign,$l=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},Cd=Object.prototype.hasOwnProperty,he=(e,t)=>Cd.call(e,t),ee=Array.isArray,Vn=e=>Hs(e)==="[object Map]",Sc=e=>Hs(e)==="[object Set]",re=e=>typeof e=="function",De=e=>typeof e=="string",Ol=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",Bc=e=>Ve(e)&&re(e.then)&&re(e.catch),$c=Object.prototype.toString,Hs=e=>$c.call(e),Ed=e=>Hs(e).slice(8,-1),Oc=e=>Hs(e)==="[object Object]",Al=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hs=Sl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vs=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},Sd=/-(\w)/g,Dt=Vs(e=>e.replace(Sd,(t,o)=>o?o.toUpperCase():"")),Bd=/\B([A-Z])/g,Sn=Vs(e=>e.replace(Bd,"-$1").toLowerCase()),Us=Vs(e=>e.charAt(0).toUpperCase()+e.slice(1)),ur=Vs(e=>e?`on${Us(e)}`:""),To=(e,t)=>!Object.is(e,t),Un=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},ks=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},Rr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ci;const $d=()=>Ci||(Ci=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ct;class Ac{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ct&&(this.parent=ct,this.index=(ct.scopes||(ct.scopes=[])).push(this)-1)}run(t){if(this.active){const o=ct;try{return ct=this,t()}finally{ct=o}}}on(){ct=this}off(){ct=this.parent}stop(t){if(this.active){let o,s;for(o=0,s=this.effects.length;o<s;o++)this.effects[o].stop();for(o=0,s=this.cleanups.length;o<s;o++)this.cleanups[o]();if(this.scopes)for(o=0,s=this.scopes.length;o<s;o++)this.scopes[o].stop(!0);if(this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Od(e){return new Ac(e)}function Ad(e,t=ct){t&&t.active&&t.effects.push(e)}function Id(){return ct}function Pd(e){ct&&ct.cleanups.push(e)}const Il=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ic=e=>(e.w&an)>0,Pc=e=>(e.n&an)>0,Md=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=an},Td=e=>{const{deps:t}=e;if(t.length){let o=0;for(let s=0;s<t.length;s++){const r=t[s];Ic(r)&&!Pc(r)?r.delete(e):t[o++]=r,r.w&=~an,r.n&=~an}t.length=o}},Dr=new WeakMap;let bo=0,an=1;const Nr=30;let Ct;const Fn=Symbol(""),zr=Symbol("");class Pl{constructor(t,o=null,s){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,Ad(this,s)}run(){if(!this.active)return this.fn();let t=Ct,o=tn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ct,Ct=this,tn=!0,an=1<<++bo,bo<=Nr?Md(this):Ei(this),this.fn()}finally{bo<=Nr&&Td(this),an=1<<--bo,Ct=this.parent,tn=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ct===this?this.deferStop=!0:this.active&&(Ei(this),this.onStop&&this.onStop(),this.active=!1)}}function Ei(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let tn=!0;const Mc=[];function to(){Mc.push(tn),tn=!1}function no(){const e=Mc.pop();tn=e===void 0?!0:e}function mt(e,t,o){if(tn&&Ct){let s=Dr.get(e);s||Dr.set(e,s=new Map);let r=s.get(o);r||s.set(o,r=Il()),Tc(r)}}function Tc(e,t){let o=!1;bo<=Nr?Pc(e)||(e.n|=an,o=!Ic(e)):o=!e.has(Ct),o&&(e.add(Ct),Ct.deps.push(e))}function Ut(e,t,o,s,r,l){const i=Dr.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(o==="length"&&ee(e))i.forEach((c,u)=>{(u==="length"||u>=s)&&a.push(c)});else switch(o!==void 0&&a.push(i.get(o)),t){case"add":ee(e)?Al(o)&&a.push(i.get("length")):(a.push(i.get(Fn)),Vn(e)&&a.push(i.get(zr)));break;case"delete":ee(e)||(a.push(i.get(Fn)),Vn(e)&&a.push(i.get(zr)));break;case"set":Vn(e)&&a.push(i.get(Fn));break}if(a.length===1)a[0]&&jr(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);jr(Il(c))}}function jr(e,t){const o=ee(e)?e:[...e];for(const s of o)s.computed&&Si(s);for(const s of o)s.computed||Si(s)}function Si(e,t){(e!==Ct||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ld=Sl("__proto__,__v_isRef,__isVue"),Lc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ol)),Rd=Ml(),Dd=Ml(!1,!0),Nd=Ml(!0),Bi=zd();function zd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const s=_e(this);for(let l=0,i=this.length;l<i;l++)mt(s,"get",l+"");const r=s[t](...o);return r===-1||r===!1?s[t](...o.map(_e)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){to();const s=_e(this)[t].apply(this,o);return no(),s}}),e}function Ml(e=!1,t=!1){return function(s,r,l){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&l===(e?t?nf:jc:t?zc:Nc).get(s))return s;const i=ee(s);if(!e&&i&&he(Bi,r))return Reflect.get(Bi,r,l);const a=Reflect.get(s,r,l);return(Ol(r)?Lc.has(r):Ld(r))||(e||mt(s,"get",r),t)?a:we(a)?i&&Al(r)?a:a.value:Ve(a)?e?zn(a):Le(a):a}}const jd=Rc(),Hd=Rc(!0);function Rc(e=!1){return function(o,s,r,l){let i=o[s];if(Lo(i)&&we(i)&&!we(r))return!1;if(!e&&!Lo(r)&&(Hr(r)||(r=_e(r),i=_e(i)),!ee(o)&&we(i)&&!we(r)))return i.value=r,!0;const a=ee(o)&&Al(s)?Number(s)<o.length:he(o,s),c=Reflect.set(o,s,r,l);return o===_e(l)&&(a?To(r,i)&&Ut(o,"set",s,r):Ut(o,"add",s,r)),c}}function Vd(e,t){const o=he(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&o&&Ut(e,"delete",t,void 0),s}function Ud(e,t){const o=Reflect.has(e,t);return(!Ol(t)||!Lc.has(t))&&mt(e,"has",t),o}function Xd(e){return mt(e,"iterate",ee(e)?"length":Fn),Reflect.ownKeys(e)}const Dc={get:Rd,set:jd,deleteProperty:Vd,has:Ud,ownKeys:Xd},Gd={get:Nd,set(e,t){return!0},deleteProperty(e,t){return!0}},Kd=tt({},Dc,{get:Dd,set:Hd}),Tl=e=>e,Xs=e=>Reflect.getPrototypeOf(e);function os(e,t,o=!1,s=!1){e=e.__v_raw;const r=_e(e),l=_e(t);o||(t!==l&&mt(r,"get",t),mt(r,"get",l));const{has:i}=Xs(r),a=s?Tl:o?Dl:Ro;if(i.call(r,t))return a(e.get(t));if(i.call(r,l))return a(e.get(l));e!==r&&e.get(t)}function ss(e,t=!1){const o=this.__v_raw,s=_e(o),r=_e(e);return t||(e!==r&&mt(s,"has",e),mt(s,"has",r)),e===r?o.has(e):o.has(e)||o.has(r)}function rs(e,t=!1){return e=e.__v_raw,!t&&mt(_e(e),"iterate",Fn),Reflect.get(e,"size",e)}function $i(e){e=_e(e);const t=_e(this);return Xs(t).has.call(t,e)||(t.add(e),Ut(t,"add",e,e)),this}function Oi(e,t){t=_e(t);const o=_e(this),{has:s,get:r}=Xs(o);let l=s.call(o,e);l||(e=_e(e),l=s.call(o,e));const i=r.call(o,e);return o.set(e,t),l?To(t,i)&&Ut(o,"set",e,t):Ut(o,"add",e,t),this}function Ai(e){const t=_e(this),{has:o,get:s}=Xs(t);let r=o.call(t,e);r||(e=_e(e),r=o.call(t,e)),s&&s.call(t,e);const l=t.delete(e);return r&&Ut(t,"delete",e,void 0),l}function Ii(){const e=_e(this),t=e.size!==0,o=e.clear();return t&&Ut(e,"clear",void 0,void 0),o}function ls(e,t){return function(s,r){const l=this,i=l.__v_raw,a=_e(i),c=t?Tl:e?Dl:Ro;return!e&&mt(a,"iterate",Fn),i.forEach((u,p)=>s.call(r,c(u),c(p),l))}}function is(e,t,o){return function(...s){const r=this.__v_raw,l=_e(r),i=Vn(l),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,u=r[e](...s),p=o?Tl:t?Dl:Ro;return!t&&mt(l,"iterate",c?zr:Fn),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[p(h[0]),p(h[1])]:p(h),done:d}},[Symbol.iterator](){return this}}}}function qt(e){return function(...t){return e==="delete"?!1:this}}function qd(){const e={get(l){return os(this,l)},get size(){return rs(this)},has:ss,add:$i,set:Oi,delete:Ai,clear:Ii,forEach:ls(!1,!1)},t={get(l){return os(this,l,!1,!0)},get size(){return rs(this)},has:ss,add:$i,set:Oi,delete:Ai,clear:Ii,forEach:ls(!1,!0)},o={get(l){return os(this,l,!0)},get size(){return rs(this,!0)},has(l){return ss.call(this,l,!0)},add:qt("add"),set:qt("set"),delete:qt("delete"),clear:qt("clear"),forEach:ls(!0,!1)},s={get(l){return os(this,l,!0,!0)},get size(){return rs(this,!0)},has(l){return ss.call(this,l,!0)},add:qt("add"),set:qt("set"),delete:qt("delete"),clear:qt("clear"),forEach:ls(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=is(l,!1,!1),o[l]=is(l,!0,!1),t[l]=is(l,!1,!0),s[l]=is(l,!0,!0)}),[e,o,t,s]}const[Wd,Yd,Zd,Jd]=qd();function Ll(e,t){const o=t?e?Jd:Zd:e?Yd:Wd;return(s,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(he(o,r)&&r in s?o:s,r,l)}const Qd={get:Ll(!1,!1)},ef={get:Ll(!1,!0)},tf={get:Ll(!0,!1)},Nc=new WeakMap,zc=new WeakMap,jc=new WeakMap,nf=new WeakMap;function of(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sf(e){return e.__v_skip||!Object.isExtensible(e)?0:of(Ed(e))}function Le(e){return Lo(e)?e:Rl(e,!1,Dc,Qd,Nc)}function rf(e){return Rl(e,!1,Kd,ef,zc)}function zn(e){return Rl(e,!0,Gd,tf,jc)}function Rl(e,t,o,s,r){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=r.get(e);if(l)return l;const i=sf(e);if(i===0)return e;const a=new Proxy(e,i===2?s:o);return r.set(e,a),a}function Xn(e){return Lo(e)?Xn(e.__v_raw):!!(e&&e.__v_isReactive)}function Lo(e){return!!(e&&e.__v_isReadonly)}function Hr(e){return!!(e&&e.__v_isShallow)}function Hc(e){return Xn(e)||Lo(e)}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function Gs(e){return ks(e,"__v_skip",!0),e}const Ro=e=>Ve(e)?Le(e):e,Dl=e=>Ve(e)?zn(e):e;function Nl(e){tn&&Ct&&(e=_e(e),Tc(e.dep||(e.dep=Il())))}function zl(e,t){e=_e(e),e.dep&&jr(e.dep)}function we(e){return!!(e&&e.__v_isRef===!0)}function z(e){return Vc(e,!1)}function Nt(e){return Vc(e,!0)}function Vc(e,t){return we(e)?e:new lf(e,t)}class lf{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:_e(t),this._value=o?t:Ro(t)}get value(){return Nl(this),this._value}set value(t){t=this.__v_isShallow?t:_e(t),To(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Ro(t),zl(this))}}function _(e){return we(e)?e.value:e}const af={get:(e,t,o)=>_(Reflect.get(e,t,o)),set:(e,t,o,s)=>{const r=e[t];return we(r)&&!we(o)?(r.value=o,!0):Reflect.set(e,t,o,s)}};function Uc(e){return Xn(e)?e:new Proxy(e,af)}class cf{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:o,set:s}=t(()=>Nl(this),()=>zl(this));this._get=o,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function uf(e){return new cf(e)}function pf(e){const t=ee(e)?new Array(e.length):{};for(const o in e)t[o]=ff(e,o);return t}class df{constructor(t,o,s){this._object=t,this._key=o,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ff(e,t,o){const s=e[t];return we(s)?s:new df(e,t,o)}class hf{constructor(t,o,s,r){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Pl(t,()=>{this._dirty||(this._dirty=!0,zl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=_e(this);return Nl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function mf(e,t,o=!1){let s,r;const l=re(e);return l?(s=e,r=St):(s=e.get,r=e.set),new hf(s,r,l||!r,o)}function nn(e,t,o,s){let r;try{r=s?e(...s):e()}catch(l){Ks(l,t,o)}return r}function Bt(e,t,o,s){if(re(e)){const l=nn(e,t,o,s);return l&&Bc(l)&&l.catch(i=>{Ks(i,t,o)}),l}const r=[];for(let l=0;l<e.length;l++)r.push(Bt(e[l],t,o,s));return r}function Ks(e,t,o,s=!0){const r=t?t.vnode:null;if(t){let l=t.parent;const i=t.proxy,a=o;for(;l;){const u=l.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,i,a)===!1)return}l=l.parent}const c=t.appContext.config.errorHandler;if(c){nn(c,null,10,[e,i,a]);return}}yf(e,o,r,s)}function yf(e,t,o,s=!0){console.error(e)}let Cs=!1,Vr=!1;const dt=[];let Ht=0;const wo=[];let _o=null,Tn=0;const xo=[];let Zt=null,Ln=0;const Xc=Promise.resolve();let jl=null,Ur=null;function Ge(e){const t=jl||Xc;return e?t.then(this?e.bind(this):e):t}function gf(e){let t=Ht+1,o=dt.length;for(;t<o;){const s=t+o>>>1;Do(dt[s])<e?t=s+1:o=s}return t}function Gc(e){(!dt.length||!dt.includes(e,Cs&&e.allowRecurse?Ht+1:Ht))&&e!==Ur&&(e.id==null?dt.push(e):dt.splice(gf(e.id),0,e),Kc())}function Kc(){!Cs&&!Vr&&(Vr=!0,jl=Xc.then(Yc))}function bf(e){const t=dt.indexOf(e);t>Ht&&dt.splice(t,1)}function qc(e,t,o,s){ee(e)?o.push(...e):(!t||!t.includes(e,e.allowRecurse?s+1:s))&&o.push(e),Kc()}function _f(e){qc(e,_o,wo,Tn)}function vf(e){qc(e,Zt,xo,Ln)}function qs(e,t=null){if(wo.length){for(Ur=t,_o=[...new Set(wo)],wo.length=0,Tn=0;Tn<_o.length;Tn++)_o[Tn]();_o=null,Tn=0,Ur=null,qs(e,t)}}function Wc(e){if(qs(),xo.length){const t=[...new Set(xo)];if(xo.length=0,Zt){Zt.push(...t);return}for(Zt=t,Zt.sort((o,s)=>Do(o)-Do(s)),Ln=0;Ln<Zt.length;Ln++)Zt[Ln]();Zt=null,Ln=0}}const Do=e=>e.id==null?1/0:e.id;function Yc(e){Vr=!1,Cs=!0,qs(e),dt.sort((o,s)=>Do(o)-Do(s));const t=St;try{for(Ht=0;Ht<dt.length;Ht++){const o=dt[Ht];o&&o.active!==!1&&nn(o,null,14)}}finally{Ht=0,dt.length=0,Wc(),Cs=!1,jl=null,(dt.length||wo.length||xo.length)&&Yc(e)}}function Ff(e,t,...o){if(e.isUnmounted)return;const s=e.vnode.props||$e;let r=o;const l=t.startsWith("update:"),i=l&&t.slice(7);if(i&&i in s){const p=`${i==="modelValue"?"model":i}Modifiers`,{number:h,trim:d}=s[p]||$e;d&&(r=o.map(m=>m.trim())),h&&(r=o.map(Rr))}let a,c=s[a=ur(t)]||s[a=ur(Dt(t))];!c&&l&&(c=s[a=ur(Sn(t))]),c&&Bt(c,e,6,r);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Bt(u,e,6,r)}}function Zc(e,t,o=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const l=e.emits;let i={},a=!1;if(!re(e)){const c=u=>{const p=Zc(u,t,!0);p&&(a=!0,tt(i,p))};!o&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!l&&!a?(s.set(e,null),null):(ee(l)?l.forEach(c=>i[c]=null):tt(i,l),s.set(e,i),i)}function Ws(e,t){return!e||!js(t)?!1:(t=t.slice(2).replace(/Once$/,""),he(e,t[0].toLowerCase()+t.slice(1))||he(e,Sn(t))||he(e,t))}let qe=null,Ys=null;function Es(e){const t=qe;return qe=e,Ys=e&&e.type.__scopeId||null,t}function wk(e){Ys=e}function xk(){Ys=null}function ie(e,t=qe,o){if(!t||e._n)return e;const s=(...r)=>{s._d&&Vi(-1);const l=Es(t),i=e(...r);return Es(l),s._d&&Vi(1),i};return s._n=!0,s._c=!0,s._d=!0,s}function pr(e){const{type:t,vnode:o,proxy:s,withProxy:r,props:l,propsOptions:[i],slots:a,attrs:c,emit:u,render:p,renderCache:h,data:d,setupState:m,ctx:g,inheritAttrs:F}=e;let v,S;const x=Es(e);try{if(o.shapeFlag&4){const E=r||s;v=Mt(p.call(E,E,h,l,m,d,g)),S=c}else{const E=t;v=Mt(E.length>1?E(l,{attrs:c,slots:a,emit:u}):E(l,null)),S=t.props?c:wf(c)}}catch(E){Co.length=0,Ks(E,e,1),v=W(cn)}let k=v;if(S&&F!==!1){const E=Object.keys(S),{shapeFlag:R}=k;E.length&&R&7&&(i&&E.some(Bl)&&(S=xf(S,i)),k=En(k,S))}return o.dirs&&(k=En(k),k.dirs=k.dirs?k.dirs.concat(o.dirs):o.dirs),o.transition&&(k.transition=o.transition),v=k,Es(x),v}const wf=e=>{let t;for(const o in e)(o==="class"||o==="style"||js(o))&&((t||(t={}))[o]=e[o]);return t},xf=(e,t)=>{const o={};for(const s in e)(!Bl(s)||!(s.slice(9)in t))&&(o[s]=e[s]);return o};function kf(e,t,o){const{props:s,children:r,component:l}=e,{props:i,children:a,patchFlag:c}=t,u=l.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&c>=0){if(c&1024)return!0;if(c&16)return s?Pi(s,i,u):!!i;if(c&8){const p=t.dynamicProps;for(let h=0;h<p.length;h++){const d=p[h];if(i[d]!==s[d]&&!Ws(u,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?Pi(s,i,u):!0:!!i;return!1}function Pi(e,t,o){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const l=s[r];if(t[l]!==e[l]&&!Ws(o,l))return!0}return!1}function Cf({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const Jc=e=>e.__isSuspense;function Ef(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):vf(e)}function pt(e,t){if(Ue){let o=Ue.provides;const s=Ue.parent&&Ue.parent.provides;s===o&&(o=Ue.provides=Object.create(s)),o[e]=t}}function H(e,t,o=!1){const s=Ue||qe;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return o&&re(t)?t.call(s.proxy):t}}function Zs(e,t){return Hl(e,null,t)}const Mi={};function ae(e,t,o){return Hl(e,t,o)}function Hl(e,t,{immediate:o,deep:s,flush:r,onTrack:l,onTrigger:i}=$e){const a=Ue;let c,u=!1,p=!1;if(we(e)?(c=()=>e.value,u=Hr(e)):Xn(e)?(c=()=>e,s=!0):ee(e)?(p=!0,u=e.some(S=>Xn(S)||Hr(S)),c=()=>e.map(S=>{if(we(S))return S.value;if(Xn(S))return gn(S);if(re(S))return nn(S,a,2)})):re(e)?t?c=()=>nn(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Bt(e,a,3,[d])}:c=St,t&&s){const S=c;c=()=>gn(S())}let h,d=S=>{h=v.onStop=()=>{nn(S,a,4)}};if(zo)return d=St,t?o&&Bt(t,a,3,[c(),p?[]:void 0,d]):c(),St;let m=p?[]:Mi;const g=()=>{if(!!v.active)if(t){const S=v.run();(s||u||(p?S.some((x,k)=>To(x,m[k])):To(S,m)))&&(h&&h(),Bt(t,a,3,[S,m===Mi?void 0:m,d]),m=S)}else v.run()};g.allowRecurse=!!t;let F;r==="sync"?F=g:r==="post"?F=()=>Xe(g,a&&a.suspense):F=()=>_f(g);const v=new Pl(c,F);return t?o?g():m=v.run():r==="post"?Xe(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&$l(a.scope.effects,v)}}function Sf(e,t,o){const s=this.proxy,r=De(e)?e.includes(".")?Qc(s,e):()=>s[e]:e.bind(s,s);let l;re(t)?l=t:(l=t.handler,o=t);const i=Ue;Zn(this);const a=Hl(r,l.bind(s),o);return i?Zn(i):wn(),a}function Qc(e,t){const o=t.split(".");return()=>{let s=e;for(let r=0;r<o.length&&s;r++)s=s[o[r]];return s}}function gn(e,t){if(!Ve(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),we(e))gn(e.value,t);else if(ee(e))for(let o=0;o<e.length;o++)gn(e[o],t);else if(Sc(e)||Vn(e))e.forEach(o=>{gn(o,t)});else if(Oc(e))for(const o in e)gn(e[o],t);return e}function eu(e,t){e.shapeFlag&6&&e.component?eu(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Oe(e){return re(e)?{setup:e,name:e.name}:e}const Gn=e=>!!e.type.__asyncLoader,tu=e=>e.type.__isKeepAlive,Bf={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const o=oo(),s=o.ctx;if(!s.renderer)return()=>{const x=t.default&&t.default();return x&&x.length===1?x[0]:x};const r=new Map,l=new Set;let i=null;const a=o.suspense,{renderer:{p:c,m:u,um:p,o:{createElement:h}}}=s,d=h("div");s.activate=(x,k,E,R,P)=>{const V=x.component;u(x,k,E,0,a),c(V.vnode,x,k,E,V,a,R,x.slotScopeIds,P),Xe(()=>{V.isDeactivated=!1,V.a&&Un(V.a);const oe=x.props&&x.props.onVnodeMounted;oe&&gt(oe,V.parent,x)},a)},s.deactivate=x=>{const k=x.component;u(x,d,null,1,a),Xe(()=>{k.da&&Un(k.da);const E=x.props&&x.props.onVnodeUnmounted;E&&gt(E,k.parent,x),k.isDeactivated=!0},a)};function m(x){dr(x),p(x,o,a,!0)}function g(x){r.forEach((k,E)=>{const R=Jr(k.type);R&&(!x||!x(R))&&F(E)})}function F(x){const k=r.get(x);!i||k.type!==i.type?m(k):i&&dr(i),r.delete(x),l.delete(x)}ae(()=>[e.include,e.exclude],([x,k])=>{x&&g(E=>vo(x,E)),k&&g(E=>!vo(k,E))},{flush:"post",deep:!0});let v=null;const S=()=>{v!=null&&r.set(v,fr(o.subTree))};return Wo(S),ru(S),Qs(()=>{r.forEach(x=>{const{subTree:k,suspense:E}=o,R=fr(k);if(x.type===R.type){dr(R);const P=R.component.da;P&&Xe(P,E);return}m(x)})}),()=>{if(v=null,!t.default)return null;const x=t.default(),k=x[0];if(x.length>1)return i=null,x;if(!Yn(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return i=null,k;let E=fr(k);const R=E.type,P=Jr(Gn(E)?E.type.__asyncResolved||{}:R),{include:V,exclude:oe,max:ce}=e;if(V&&(!P||!vo(V,P))||oe&&P&&vo(oe,P))return i=E,k;const de=E.key==null?R:E.key,me=r.get(de);return E.el&&(E=En(E),k.shapeFlag&128&&(k.ssContent=E)),v=de,me?(E.el=me.el,E.component=me.component,E.transition&&eu(E,E.transition),E.shapeFlag|=512,l.delete(de),l.add(de)):(l.add(de),ce&&l.size>parseInt(ce,10)&&F(l.values().next().value)),E.shapeFlag|=256,i=E,Jc(k.type)?k:E}}},nu=Bf;function vo(e,t){return ee(e)?e.some(o=>vo(o,t)):De(e)?e.split(",").includes(t):e.test?e.test(t):!1}function $f(e,t){ou(e,"a",t)}function Of(e,t){ou(e,"da",t)}function ou(e,t,o=Ue){const s=e.__wdc||(e.__wdc=()=>{let r=o;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Js(t,s,o),o){let r=o.parent;for(;r&&r.parent;)tu(r.parent.vnode)&&Af(s,t,o,r),r=r.parent}}function Af(e,t,o,s){const r=Js(t,e,s,!0);Vl(()=>{$l(s[t],r)},o)}function dr(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function fr(e){return e.shapeFlag&128?e.ssContent:e}function Js(e,t,o=Ue,s=!1){if(o){const r=o[e]||(o[e]=[]),l=t.__weh||(t.__weh=(...i)=>{if(o.isUnmounted)return;to(),Zn(o);const a=Bt(t,o,e,i);return wn(),no(),a});return s?r.unshift(l):r.push(l),l}}const Gt=e=>(t,o=Ue)=>(!zo||e==="sp")&&Js(e,t,o),su=Gt("bm"),Wo=Gt("m"),If=Gt("bu"),ru=Gt("u"),Qs=Gt("bum"),Vl=Gt("um"),Pf=Gt("sp"),Mf=Gt("rtg"),Tf=Gt("rtc");function Lf(e,t=Ue){Js("ec",e,t)}function Ul(e,t){const o=qe;if(o===null)return e;const s=tr(o)||o.proxy,r=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[i,a,c,u=$e]=t[l];re(i)&&(i={mounted:i,updated:i}),i.deep&&gn(a),r.push({dir:i,instance:s,value:a,oldValue:void 0,arg:c,modifiers:u})}return e}function pn(e,t,o,s){const r=e.dirs,l=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];l&&(a.oldValue=l[i].value);let c=a.dir[s];c&&(to(),Bt(c,o,8,[e.el,a,e,t]),no())}}const lu="components";function Xr(e,t){return Df(lu,e,!0,t)||e}const Rf=Symbol();function Df(e,t,o=!0,s=!1){const r=qe||Ue;if(r){const l=r.type;if(e===lu){const a=Jr(l,!1);if(a&&(a===t||a===Dt(t)||a===Us(Dt(t))))return l}const i=Ti(r[e]||l[e],t)||Ti(r.appContext[e],t);return!i&&s?l:i}}function Ti(e,t){return e&&(e[t]||e[Dt(t)]||e[Us(Dt(t))])}function Yo(e,t,o,s){let r;const l=o&&o[s];if(ee(e)||De(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,l&&l[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,l&&l[i])}else if(Ve(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,l&&l[a]));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const u=i[a];r[a]=t(e[u],u,a,l&&l[a])}}else r=[];return o&&(o[s]=r),r}function Xt(e,t,o={},s,r){if(qe.isCE||qe.parent&&Gn(qe.parent)&&qe.parent.isCE)return W("slot",t==="default"?null:{name:t},s&&s());let l=e[t];l&&l._c&&(l._d=!1),C();const i=l&&iu(l(o)),a=K(ke,{key:o.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),l&&l._c&&(l._d=!0),a}function iu(e){return e.some(t=>Yn(t)?!(t.type===cn||t.type===ke&&!iu(t.children)):!0)?e:null}const Gr=e=>e?bu(e)?tr(e)||e.proxy:Gr(e.parent):null,Ss=tt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gr(e.parent),$root:e=>Gr(e.root),$emit:e=>e.emit,$options:e=>cu(e),$forceUpdate:e=>e.f||(e.f=()=>Gc(e.update)),$nextTick:e=>e.n||(e.n=Ge.bind(e.proxy)),$watch:e=>Sf.bind(e)}),Nf={get({_:e},t){const{ctx:o,setupState:s,data:r,props:l,accessCache:i,type:a,appContext:c}=e;let u;if(t[0]!=="$"){const m=i[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return r[t];case 4:return o[t];case 3:return l[t]}else{if(s!==$e&&he(s,t))return i[t]=1,s[t];if(r!==$e&&he(r,t))return i[t]=2,r[t];if((u=e.propsOptions[0])&&he(u,t))return i[t]=3,l[t];if(o!==$e&&he(o,t))return i[t]=4,o[t];Kr&&(i[t]=0)}}const p=Ss[t];let h,d;if(p)return t==="$attrs"&&mt(e,"get",t),p(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(o!==$e&&he(o,t))return i[t]=4,o[t];if(d=c.config.globalProperties,he(d,t))return d[t]},set({_:e},t,o){const{data:s,setupState:r,ctx:l}=e;return r!==$e&&he(r,t)?(r[t]=o,!0):s!==$e&&he(s,t)?(s[t]=o,!0):he(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:s,appContext:r,propsOptions:l}},i){let a;return!!o[i]||e!==$e&&he(e,i)||t!==$e&&he(t,i)||(a=l[0])&&he(a,i)||he(s,i)||he(Ss,i)||he(r.config.globalProperties,i)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:he(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};let Kr=!0;function zf(e){const t=cu(e),o=e.proxy,s=e.ctx;Kr=!1,t.beforeCreate&&Li(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:i,watch:a,provide:c,inject:u,created:p,beforeMount:h,mounted:d,beforeUpdate:m,updated:g,activated:F,deactivated:v,beforeDestroy:S,beforeUnmount:x,destroyed:k,unmounted:E,render:R,renderTracked:P,renderTriggered:V,errorCaptured:oe,serverPrefetch:ce,expose:de,inheritAttrs:me,components:Te,directives:Ne,filters:Ke}=t;if(u&&jf(u,s,null,e.appContext.config.unwrapInjectedRef),i)for(const te in i){const J=i[te];re(J)&&(s[te]=J.bind(o))}if(r){const te=r.call(o,o);Ve(te)&&(e.data=Le(te))}if(Kr=!0,l)for(const te in l){const J=l[te],fe=re(J)?J.bind(o,o):re(J.get)?J.get.bind(o,o):St,It=!re(J)&&re(J.set)?J.set.bind(o):St,Ye=$({get:fe,set:It});Object.defineProperty(s,te,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:yt=>Ye.value=yt})}if(a)for(const te in a)au(a[te],s,o,te);if(c){const te=re(c)?c.call(o):c;Reflect.ownKeys(te).forEach(J=>{pt(J,te[J])})}p&&Li(p,e,"c");function Q(te,J){ee(J)?J.forEach(fe=>te(fe.bind(o))):J&&te(J.bind(o))}if(Q(su,h),Q(Wo,d),Q(If,m),Q(ru,g),Q($f,F),Q(Of,v),Q(Lf,oe),Q(Tf,P),Q(Mf,V),Q(Qs,x),Q(Vl,E),Q(Pf,ce),ee(de))if(de.length){const te=e.exposed||(e.exposed={});de.forEach(J=>{Object.defineProperty(te,J,{get:()=>o[J],set:fe=>o[J]=fe})})}else e.exposed||(e.exposed={});R&&e.render===St&&(e.render=R),me!=null&&(e.inheritAttrs=me),Te&&(e.components=Te),Ne&&(e.directives=Ne)}function jf(e,t,o=St,s=!1){ee(e)&&(e=qr(e));for(const r in e){const l=e[r];let i;Ve(l)?"default"in l?i=H(l.from||r,l.default,!0):i=H(l.from||r):i=H(l),we(i)&&s?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function Li(e,t,o){Bt(ee(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,o)}function au(e,t,o,s){const r=s.includes(".")?Qc(o,s):()=>o[s];if(De(e)){const l=t[e];re(l)&&ae(r,l)}else if(re(e))ae(r,e.bind(o));else if(Ve(e))if(ee(e))e.forEach(l=>au(l,t,o,s));else{const l=re(e.handler)?e.handler.bind(o):t[e.handler];re(l)&&ae(r,l,e)}}function cu(e){const t=e.type,{mixins:o,extends:s}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,a=l.get(t);let c;return a?c=a:!r.length&&!o&&!s?c=t:(c={},r.length&&r.forEach(u=>Bs(c,u,i,!0)),Bs(c,t,i)),l.set(t,c),c}function Bs(e,t,o,s=!1){const{mixins:r,extends:l}=t;l&&Bs(e,l,o,!0),r&&r.forEach(i=>Bs(e,i,o,!0));for(const i in t)if(!(s&&i==="expose")){const a=Hf[i]||o&&o[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Hf={data:Ri,props:mn,emits:mn,methods:mn,computed:mn,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:mn,directives:mn,watch:Uf,provide:Ri,inject:Vf};function Ri(e,t){return t?e?function(){return tt(re(e)?e.call(this,this):e,re(t)?t.call(this,this):t)}:t:e}function Vf(e,t){return mn(qr(e),qr(t))}function qr(e){if(ee(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Je(e,t){return e?[...new Set([].concat(e,t))]:t}function mn(e,t){return e?tt(tt(Object.create(null),e),t):t}function Uf(e,t){if(!e)return t;if(!t)return e;const o=tt(Object.create(null),e);for(const s in t)o[s]=Je(e[s],t[s]);return o}function Xf(e,t,o,s=!1){const r={},l={};ks(l,er,1),e.propsDefaults=Object.create(null),uu(e,t,r,l);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);o?e.props=s?r:rf(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function Gf(e,t,o,s){const{props:r,attrs:l,vnode:{patchFlag:i}}=e,a=_e(r),[c]=e.propsOptions;let u=!1;if((s||i>0)&&!(i&16)){if(i&8){const p=e.vnode.dynamicProps;for(let h=0;h<p.length;h++){let d=p[h];if(Ws(e.emitsOptions,d))continue;const m=t[d];if(c)if(he(l,d))m!==l[d]&&(l[d]=m,u=!0);else{const g=Dt(d);r[g]=Wr(c,a,g,m,e,!1)}else m!==l[d]&&(l[d]=m,u=!0)}}}else{uu(e,t,r,l)&&(u=!0);let p;for(const h in a)(!t||!he(t,h)&&((p=Sn(h))===h||!he(t,p)))&&(c?o&&(o[h]!==void 0||o[p]!==void 0)&&(r[h]=Wr(c,a,h,void 0,e,!0)):delete r[h]);if(l!==a)for(const h in l)(!t||!he(t,h)&&!0)&&(delete l[h],u=!0)}u&&Ut(e,"set","$attrs")}function uu(e,t,o,s){const[r,l]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(hs(c))continue;const u=t[c];let p;r&&he(r,p=Dt(c))?!l||!l.includes(p)?o[p]=u:(a||(a={}))[p]=u:Ws(e.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,i=!0)}if(l){const c=_e(o),u=a||$e;for(let p=0;p<l.length;p++){const h=l[p];o[h]=Wr(r,c,h,u[h],e,!he(u,h))}}return i}function Wr(e,t,o,s,r,l){const i=e[o];if(i!=null){const a=he(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&re(c)){const{propsDefaults:u}=r;o in u?s=u[o]:(Zn(r),s=u[o]=c.call(null,t),wn())}else s=c}i[0]&&(l&&!a?s=!1:i[1]&&(s===""||s===Sn(o))&&(s=!0))}return s}function pu(e,t,o=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const l=e.props,i={},a=[];let c=!1;if(!re(e)){const p=h=>{c=!0;const[d,m]=pu(h,t,!0);tt(i,d),m&&a.push(...m)};!o&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!l&&!c)return s.set(e,Hn),Hn;if(ee(l))for(let p=0;p<l.length;p++){const h=Dt(l[p]);Di(h)&&(i[h]=$e)}else if(l)for(const p in l){const h=Dt(p);if(Di(h)){const d=l[p],m=i[h]=ee(d)||re(d)?{type:d}:d;if(m){const g=ji(Boolean,m.type),F=ji(String,m.type);m[0]=g>-1,m[1]=F<0||g<F,(g>-1||he(m,"default"))&&a.push(h)}}}const u=[i,a];return s.set(e,u),u}function Di(e){return e[0]!=="$"}function Ni(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function zi(e,t){return Ni(e)===Ni(t)}function ji(e,t){return ee(t)?t.findIndex(o=>zi(o,e)):re(t)&&zi(t,e)?0:-1}const du=e=>e[0]==="_"||e==="$stable",Xl=e=>ee(e)?e.map(Mt):[Mt(e)],Kf=(e,t,o)=>{if(t._n)return t;const s=ie((...r)=>Xl(t(...r)),o);return s._c=!1,s},fu=(e,t,o)=>{const s=e._ctx;for(const r in e){if(du(r))continue;const l=e[r];if(re(l))t[r]=Kf(r,l,s);else if(l!=null){const i=Xl(l);t[r]=()=>i}}},hu=(e,t)=>{const o=Xl(t);e.slots.default=()=>o},qf=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=_e(t),ks(t,"_",o)):fu(t,e.slots={})}else e.slots={},t&&hu(e,t);ks(e.slots,er,1)},Wf=(e,t,o)=>{const{vnode:s,slots:r}=e;let l=!0,i=$e;if(s.shapeFlag&32){const a=t._;a?o&&a===1?l=!1:(tt(r,t),!o&&a===1&&delete r._):(l=!t.$stable,fu(t,r)),i=t}else t&&(hu(e,t),i={default:1});if(l)for(const a in r)!du(a)&&!(a in i)&&delete r[a]};function mu(){return{app:null,config:{isNativeTag:xd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yf=0;function Zf(e,t){return function(s,r=null){re(s)||(s=Object.assign({},s)),r!=null&&!Ve(r)&&(r=null);const l=mu(),i=new Set;let a=!1;const c=l.app={_uid:Yf++,_component:s,_props:r,_container:null,_context:l,_instance:null,version:mh,get config(){return l.config},set config(u){},use(u,...p){return i.has(u)||(u&&re(u.install)?(i.add(u),u.install(c,...p)):re(u)&&(i.add(u),u(c,...p))),c},mixin(u){return l.mixins.includes(u)||l.mixins.push(u),c},component(u,p){return p?(l.components[u]=p,c):l.components[u]},directive(u,p){return p?(l.directives[u]=p,c):l.directives[u]},mount(u,p,h){if(!a){const d=W(s,r);return d.appContext=l,p&&t?t(d,u):e(d,u,h),a=!0,c._container=u,u.__vue_app__=c,tr(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,p){return l.provides[u]=p,c}};return c}}function Yr(e,t,o,s,r=!1){if(ee(e)){e.forEach((d,m)=>Yr(d,t&&(ee(t)?t[m]:t),o,s,r));return}if(Gn(s)&&!r)return;const l=s.shapeFlag&4?tr(s.component)||s.component.proxy:s.el,i=r?null:l,{i:a,r:c}=e,u=t&&t.r,p=a.refs===$e?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==c&&(De(u)?(p[u]=null,he(h,u)&&(h[u]=null)):we(u)&&(u.value=null)),re(c))nn(c,a,12,[i,p]);else{const d=De(c),m=we(c);if(d||m){const g=()=>{if(e.f){const F=d?p[c]:c.value;r?ee(F)&&$l(F,l):ee(F)?F.includes(l)||F.push(l):d?(p[c]=[l],he(h,c)&&(h[c]=p[c])):(c.value=[l],e.k&&(p[e.k]=c.value))}else d?(p[c]=i,he(h,c)&&(h[c]=i)):m&&(c.value=i,e.k&&(p[e.k]=i))};i?(g.id=-1,Xe(g,o)):g()}}}const Xe=Ef;function Jf(e){return Qf(e)}function Qf(e,t){const o=$d();o.__VUE__=!0;const{insert:s,remove:r,patchProp:l,createElement:i,createText:a,createComment:c,setText:u,setElementText:p,parentNode:h,nextSibling:d,setScopeId:m=St,cloneNode:g,insertStaticContent:F}=e,v=(y,b,w,A=null,O=null,L=null,N=!1,T=null,D=!!b.dynamicChildren)=>{if(y===b)return;y&&!co(y,b)&&(A=G(y),nt(y,O,L,!0),y=null),b.patchFlag===-2&&(D=!1,b.dynamicChildren=null);const{type:I,ref:Y,shapeFlag:X}=b;switch(I){case Kl:S(y,b,w,A);break;case cn:x(y,b,w,A);break;case hr:y==null&&k(b,w,A,N);break;case ke:Ne(y,b,w,A,O,L,N,T,D);break;default:X&1?P(y,b,w,A,O,L,N,T,D):X&6?Ke(y,b,w,A,O,L,N,T,D):(X&64||X&128)&&I.process(y,b,w,A,O,L,N,T,D,Ie)}Y!=null&&O&&Yr(Y,y&&y.ref,L,b||y,!b)},S=(y,b,w,A)=>{if(y==null)s(b.el=a(b.children),w,A);else{const O=b.el=y.el;b.children!==y.children&&u(O,b.children)}},x=(y,b,w,A)=>{y==null?s(b.el=c(b.children||""),w,A):b.el=y.el},k=(y,b,w,A)=>{[y.el,y.anchor]=F(y.children,b,w,A,y.el,y.anchor)},E=({el:y,anchor:b},w,A)=>{let O;for(;y&&y!==b;)O=d(y),s(y,w,A),y=O;s(b,w,A)},R=({el:y,anchor:b})=>{let w;for(;y&&y!==b;)w=d(y),r(y),y=w;r(b)},P=(y,b,w,A,O,L,N,T,D)=>{N=N||b.type==="svg",y==null?V(b,w,A,O,L,N,T,D):de(y,b,O,L,N,T,D)},V=(y,b,w,A,O,L,N,T)=>{let D,I;const{type:Y,props:X,shapeFlag:Z,transition:ne,patchFlag:ye,dirs:Ee}=y;if(y.el&&g!==void 0&&ye===-1)D=y.el=g(y.el);else{if(D=y.el=i(y.type,L,X&&X.is,X),Z&8?p(D,y.children):Z&16&&ce(y.children,D,null,A,O,L&&Y!=="foreignObject",N,T),Ee&&pn(y,null,A,"created"),X){for(const Pe in X)Pe!=="value"&&!hs(Pe)&&l(D,Pe,null,X[Pe],L,y.children,A,O,M);"value"in X&&l(D,"value",null,X.value),(I=X.onVnodeBeforeMount)&&gt(I,A,y)}oe(D,y,y.scopeId,N,A)}Ee&&pn(y,null,A,"beforeMount");const Se=(!O||O&&!O.pendingBranch)&&ne&&!ne.persisted;Se&&ne.beforeEnter(D),s(D,b,w),((I=X&&X.onVnodeMounted)||Se||Ee)&&Xe(()=>{I&&gt(I,A,y),Se&&ne.enter(D),Ee&&pn(y,null,A,"mounted")},O)},oe=(y,b,w,A,O)=>{if(w&&m(y,w),A)for(let L=0;L<A.length;L++)m(y,A[L]);if(O){let L=O.subTree;if(b===L){const N=O.vnode;oe(y,N,N.scopeId,N.slotScopeIds,O.parent)}}},ce=(y,b,w,A,O,L,N,T,D=0)=>{for(let I=D;I<y.length;I++){const Y=y[I]=T?Jt(y[I]):Mt(y[I]);v(null,Y,b,w,A,O,L,N,T)}},de=(y,b,w,A,O,L,N)=>{const T=b.el=y.el;let{patchFlag:D,dynamicChildren:I,dirs:Y}=b;D|=y.patchFlag&16;const X=y.props||$e,Z=b.props||$e;let ne;w&&dn(w,!1),(ne=Z.onVnodeBeforeUpdate)&&gt(ne,w,b,y),Y&&pn(b,y,w,"beforeUpdate"),w&&dn(w,!0);const ye=O&&b.type!=="foreignObject";if(I?me(y.dynamicChildren,I,T,w,A,ye,L):N||fe(y,b,T,null,w,A,ye,L,!1),D>0){if(D&16)Te(T,b,X,Z,w,A,O);else if(D&2&&X.class!==Z.class&&l(T,"class",null,Z.class,O),D&4&&l(T,"style",X.style,Z.style,O),D&8){const Ee=b.dynamicProps;for(let Se=0;Se<Ee.length;Se++){const Pe=Ee[Se],wt=X[Pe],An=Z[Pe];(An!==wt||Pe==="value")&&l(T,Pe,wt,An,O,y.children,w,A,M)}}D&1&&y.children!==b.children&&p(T,b.children)}else!N&&I==null&&Te(T,b,X,Z,w,A,O);((ne=Z.onVnodeUpdated)||Y)&&Xe(()=>{ne&&gt(ne,w,b,y),Y&&pn(b,y,w,"updated")},A)},me=(y,b,w,A,O,L,N)=>{for(let T=0;T<b.length;T++){const D=y[T],I=b[T],Y=D.el&&(D.type===ke||!co(D,I)||D.shapeFlag&70)?h(D.el):w;v(D,I,Y,null,A,O,L,N,!0)}},Te=(y,b,w,A,O,L,N)=>{if(w!==A){for(const T in A){if(hs(T))continue;const D=A[T],I=w[T];D!==I&&T!=="value"&&l(y,T,I,D,N,b.children,O,L,M)}if(w!==$e)for(const T in w)!hs(T)&&!(T in A)&&l(y,T,w[T],null,N,b.children,O,L,M);"value"in A&&l(y,"value",w.value,A.value)}},Ne=(y,b,w,A,O,L,N,T,D)=>{const I=b.el=y?y.el:a(""),Y=b.anchor=y?y.anchor:a("");let{patchFlag:X,dynamicChildren:Z,slotScopeIds:ne}=b;ne&&(T=T?T.concat(ne):ne),y==null?(s(I,w,A),s(Y,w,A),ce(b.children,w,Y,O,L,N,T,D)):X>0&&X&64&&Z&&y.dynamicChildren?(me(y.dynamicChildren,Z,w,O,L,N,T),(b.key!=null||O&&b===O.subTree)&&Gl(y,b,!0)):fe(y,b,w,Y,O,L,N,T,D)},Ke=(y,b,w,A,O,L,N,T,D)=>{b.slotScopeIds=T,y==null?b.shapeFlag&512?O.ctx.activate(b,w,A,N,D):Ce(b,w,A,O,L,N,D):Q(y,b,D)},Ce=(y,b,w,A,O,L,N)=>{const T=y.component=ch(y,A,O);if(tu(y)&&(T.ctx.renderer=Ie),uh(T),T.asyncDep){if(O&&O.registerDep(T,te),!y.el){const D=T.subTree=W(cn);x(null,D,b,w)}return}te(T,y,b,w,O,L,N)},Q=(y,b,w)=>{const A=b.component=y.component;if(kf(y,b,w))if(A.asyncDep&&!A.asyncResolved){J(A,b,w);return}else A.next=b,bf(A.update),A.update();else b.el=y.el,A.vnode=b},te=(y,b,w,A,O,L,N)=>{const T=()=>{if(y.isMounted){let{next:Y,bu:X,u:Z,parent:ne,vnode:ye}=y,Ee=Y,Se;dn(y,!1),Y?(Y.el=ye.el,J(y,Y,N)):Y=ye,X&&Un(X),(Se=Y.props&&Y.props.onVnodeBeforeUpdate)&&gt(Se,ne,Y,ye),dn(y,!0);const Pe=pr(y),wt=y.subTree;y.subTree=Pe,v(wt,Pe,h(wt.el),G(wt),y,O,L),Y.el=Pe.el,Ee===null&&Cf(y,Pe.el),Z&&Xe(Z,O),(Se=Y.props&&Y.props.onVnodeUpdated)&&Xe(()=>gt(Se,ne,Y,ye),O)}else{let Y;const{el:X,props:Z}=b,{bm:ne,m:ye,parent:Ee}=y,Se=Gn(b);if(dn(y,!1),ne&&Un(ne),!Se&&(Y=Z&&Z.onVnodeBeforeMount)&&gt(Y,Ee,b),dn(y,!0),X&&le){const Pe=()=>{y.subTree=pr(y),le(X,y.subTree,y,O,null)};Se?b.type.__asyncLoader().then(()=>!y.isUnmounted&&Pe()):Pe()}else{const Pe=y.subTree=pr(y);v(null,Pe,w,A,y,O,L),b.el=Pe.el}if(ye&&Xe(ye,O),!Se&&(Y=Z&&Z.onVnodeMounted)){const Pe=b;Xe(()=>gt(Y,Ee,Pe),O)}(b.shapeFlag&256||Ee&&Gn(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&y.a&&Xe(y.a,O),y.isMounted=!0,b=w=A=null}},D=y.effect=new Pl(T,()=>Gc(I),y.scope),I=y.update=()=>D.run();I.id=y.uid,dn(y,!0),I()},J=(y,b,w)=>{b.component=y;const A=y.vnode.props;y.vnode=b,y.next=null,Gf(y,b.props,A,w),Wf(y,b.children,w),to(),qs(void 0,y.update),no()},fe=(y,b,w,A,O,L,N,T,D=!1)=>{const I=y&&y.children,Y=y?y.shapeFlag:0,X=b.children,{patchFlag:Z,shapeFlag:ne}=b;if(Z>0){if(Z&128){Ye(I,X,w,A,O,L,N,T,D);return}else if(Z&256){It(I,X,w,A,O,L,N,T,D);return}}ne&8?(Y&16&&M(I,O,L),X!==I&&p(w,X)):Y&16?ne&16?Ye(I,X,w,A,O,L,N,T,D):M(I,O,L,!0):(Y&8&&p(w,""),ne&16&&ce(X,w,A,O,L,N,T,D))},It=(y,b,w,A,O,L,N,T,D)=>{y=y||Hn,b=b||Hn;const I=y.length,Y=b.length,X=Math.min(I,Y);let Z;for(Z=0;Z<X;Z++){const ne=b[Z]=D?Jt(b[Z]):Mt(b[Z]);v(y[Z],ne,w,null,O,L,N,T,D)}I>Y?M(y,O,L,!0,!1,X):ce(b,w,A,O,L,N,T,D,X)},Ye=(y,b,w,A,O,L,N,T,D)=>{let I=0;const Y=b.length;let X=y.length-1,Z=Y-1;for(;I<=X&&I<=Z;){const ne=y[I],ye=b[I]=D?Jt(b[I]):Mt(b[I]);if(co(ne,ye))v(ne,ye,w,null,O,L,N,T,D);else break;I++}for(;I<=X&&I<=Z;){const ne=y[X],ye=b[Z]=D?Jt(b[Z]):Mt(b[Z]);if(co(ne,ye))v(ne,ye,w,null,O,L,N,T,D);else break;X--,Z--}if(I>X){if(I<=Z){const ne=Z+1,ye=ne<Y?b[ne].el:A;for(;I<=Z;)v(null,b[I]=D?Jt(b[I]):Mt(b[I]),w,ye,O,L,N,T,D),I++}}else if(I>Z)for(;I<=X;)nt(y[I],O,L,!0),I++;else{const ne=I,ye=I,Ee=new Map;for(I=ye;I<=Z;I++){const lt=b[I]=D?Jt(b[I]):Mt(b[I]);lt.key!=null&&Ee.set(lt.key,I)}let Se,Pe=0;const wt=Z-ye+1;let An=!1,_i=0;const ao=new Array(wt);for(I=0;I<wt;I++)ao[I]=0;for(I=ne;I<=X;I++){const lt=y[I];if(Pe>=wt){nt(lt,O,L,!0);continue}let Pt;if(lt.key!=null)Pt=Ee.get(lt.key);else for(Se=ye;Se<=Z;Se++)if(ao[Se-ye]===0&&co(lt,b[Se])){Pt=Se;break}Pt===void 0?nt(lt,O,L,!0):(ao[Pt-ye]=I+1,Pt>=_i?_i=Pt:An=!0,v(lt,b[Pt],w,null,O,L,N,T,D),Pe++)}const vi=An?eh(ao):Hn;for(Se=vi.length-1,I=wt-1;I>=0;I--){const lt=ye+I,Pt=b[lt],Fi=lt+1<Y?b[lt+1].el:A;ao[I]===0?v(null,Pt,w,Fi,O,L,N,T,D):An&&(Se<0||I!==vi[Se]?yt(Pt,w,Fi,2):Se--)}}},yt=(y,b,w,A,O=null)=>{const{el:L,type:N,transition:T,children:D,shapeFlag:I}=y;if(I&6){yt(y.component.subTree,b,w,A);return}if(I&128){y.suspense.move(b,w,A);return}if(I&64){N.move(y,b,w,Ie);return}if(N===ke){s(L,b,w);for(let X=0;X<D.length;X++)yt(D[X],b,w,A);s(y.anchor,b,w);return}if(N===hr){E(y,b,w);return}if(A!==2&&I&1&&T)if(A===0)T.beforeEnter(L),s(L,b,w),Xe(()=>T.enter(L),O);else{const{leave:X,delayLeave:Z,afterLeave:ne}=T,ye=()=>s(L,b,w),Ee=()=>{X(L,()=>{ye(),ne&&ne()})};Z?Z(L,ye,Ee):Ee()}else s(L,b,w)},nt=(y,b,w,A=!1,O=!1)=>{const{type:L,props:N,ref:T,children:D,dynamicChildren:I,shapeFlag:Y,patchFlag:X,dirs:Z}=y;if(T!=null&&Yr(T,null,w,y,!0),Y&256){b.ctx.deactivate(y);return}const ne=Y&1&&Z,ye=!Gn(y);let Ee;if(ye&&(Ee=N&&N.onVnodeBeforeUnmount)&&gt(Ee,b,y),Y&6)U(y.component,w,A);else{if(Y&128){y.suspense.unmount(w,A);return}ne&&pn(y,null,b,"beforeUnmount"),Y&64?y.type.remove(y,b,w,O,Ie,A):I&&(L!==ke||X>0&&X&64)?M(I,b,w,!1,!0):(L===ke&&X&384||!O&&Y&16)&&M(D,b,w),A&&On(y)}(ye&&(Ee=N&&N.onVnodeUnmounted)||ne)&&Xe(()=>{Ee&&gt(Ee,b,y),ne&&pn(y,null,b,"unmounted")},w)},On=y=>{const{type:b,el:w,anchor:A,transition:O}=y;if(b===ke){B(w,A);return}if(b===hr){R(y);return}const L=()=>{r(w),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(y.shapeFlag&1&&O&&!O.persisted){const{leave:N,delayLeave:T}=O,D=()=>N(w,L);T?T(y.el,L,D):D()}else L()},B=(y,b)=>{let w;for(;y!==b;)w=d(y),r(y),y=w;r(b)},U=(y,b,w)=>{const{bum:A,scope:O,update:L,subTree:N,um:T}=y;A&&Un(A),O.stop(),L&&(L.active=!1,nt(N,y,b,w)),T&&Xe(T,b),Xe(()=>{y.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},M=(y,b,w,A=!1,O=!1,L=0)=>{for(let N=L;N<y.length;N++)nt(y[N],b,w,A,O)},G=y=>y.shapeFlag&6?G(y.component.subTree):y.shapeFlag&128?y.suspense.next():d(y.anchor||y.el),ge=(y,b,w)=>{y==null?b._vnode&&nt(b._vnode,null,null,!0):v(b._vnode||null,y,b,null,null,null,w),Wc(),b._vnode=y},Ie={p:v,um:nt,m:yt,r:On,mt:Ce,mc:ce,pc:fe,pbc:me,n:G,o:e};let ue,le;return t&&([ue,le]=t(Ie)),{render:ge,hydrate:ue,createApp:Zf(ge,ue)}}function dn({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function Gl(e,t,o=!1){const s=e.children,r=t.children;if(ee(s)&&ee(r))for(let l=0;l<s.length;l++){const i=s[l];let a=r[l];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[l]=Jt(r[l]),a.el=i.el),o||Gl(i,a))}}function eh(e){const t=e.slice(),o=[0];let s,r,l,i,a;const c=e.length;for(s=0;s<c;s++){const u=e[s];if(u!==0){if(r=o[o.length-1],e[r]<u){t[s]=r,o.push(s);continue}for(l=0,i=o.length-1;l<i;)a=l+i>>1,e[o[a]]<u?l=a+1:i=a;u<e[o[l]]&&(l>0&&(t[s]=o[l-1]),o[l]=s)}}for(l=o.length,i=o[l-1];l-- >0;)o[l]=i,i=t[i];return o}const th=e=>e.__isTeleport,ko=e=>e&&(e.disabled||e.disabled===""),Hi=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Zr=(e,t)=>{const o=e&&e.to;return De(o)?t?t(o):null:o},nh={__isTeleport:!0,process(e,t,o,s,r,l,i,a,c,u){const{mc:p,pc:h,pbc:d,o:{insert:m,querySelector:g,createText:F,createComment:v}}=u,S=ko(t.props);let{shapeFlag:x,children:k,dynamicChildren:E}=t;if(e==null){const R=t.el=F(""),P=t.anchor=F("");m(R,o,s),m(P,o,s);const V=t.target=Zr(t.props,g),oe=t.targetAnchor=F("");V&&(m(oe,V),i=i||Hi(V));const ce=(de,me)=>{x&16&&p(k,de,me,r,l,i,a,c)};S?ce(o,P):V&&ce(V,oe)}else{t.el=e.el;const R=t.anchor=e.anchor,P=t.target=e.target,V=t.targetAnchor=e.targetAnchor,oe=ko(e.props),ce=oe?o:P,de=oe?R:V;if(i=i||Hi(P),E?(d(e.dynamicChildren,E,ce,r,l,i,a),Gl(e,t,!0)):c||h(e,t,ce,de,r,l,i,a,!1),S)oe||as(t,o,R,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const me=t.target=Zr(t.props,g);me&&as(t,me,null,u,0)}else oe&&as(t,P,V,u,1)}},remove(e,t,o,s,{um:r,o:{remove:l}},i){const{shapeFlag:a,children:c,anchor:u,targetAnchor:p,target:h,props:d}=e;if(h&&l(p),(i||!ko(d))&&(l(u),a&16))for(let m=0;m<c.length;m++){const g=c[m];r(g,t,o,!0,!!g.dynamicChildren)}},move:as,hydrate:oh};function as(e,t,o,{o:{insert:s},m:r},l=2){l===0&&s(e.targetAnchor,t,o);const{el:i,anchor:a,shapeFlag:c,children:u,props:p}=e,h=l===2;if(h&&s(i,t,o),(!h||ko(p))&&c&16)for(let d=0;d<u.length;d++)r(u[d],t,o,2);h&&s(a,t,o)}function oh(e,t,o,s,r,l,{o:{nextSibling:i,parentNode:a,querySelector:c}},u){const p=t.target=Zr(t.props,c);if(p){const h=p._lpa||p.firstChild;if(t.shapeFlag&16)if(ko(t.props))t.anchor=u(i(e),t,a(e),o,s,r,l),t.targetAnchor=h;else{t.anchor=i(e);let d=h;for(;d;)if(d=i(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,p._lpa=t.targetAnchor&&i(t.targetAnchor);break}u(h,t,p,o,s,r,l)}}return t.anchor&&i(t.anchor)}const sh=nh,ke=Symbol(void 0),Kl=Symbol(void 0),cn=Symbol(void 0),hr=Symbol(void 0),Co=[];let Et=null;function C(e=!1){Co.push(Et=e?null:[])}function rh(){Co.pop(),Et=Co[Co.length-1]||null}let No=1;function Vi(e){No+=e}function yu(e){return e.dynamicChildren=No>0?Et||Hn:null,rh(),No>0&&Et&&Et.push(e),e}function j(e,t,o,s,r,l){return yu(n(e,t,o,s,r,l,!0))}function K(e,t,o,s,r){return yu(W(e,t,o,s,r,!0))}function Yn(e){return e?e.__v_isVNode===!0:!1}function co(e,t){return e.type===t.type&&e.key===t.key}const er="__vInternal",gu=({key:e})=>e!=null?e:null,ms=({ref:e,ref_key:t,ref_for:o})=>e!=null?De(e)||we(e)||re(e)?{i:qe,r:e,k:t,f:!!o}:e:null;function n(e,t=null,o=null,s=0,r=null,l=e===ke?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&gu(t),ref:t&&ms(t),scopeId:Ys,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(ql(c,o),l&128&&e.normalize(c)):o&&(c.shapeFlag|=De(o)?8:16),No>0&&!i&&Et&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Et.push(c),c}const W=lh;function lh(e,t=null,o=null,s=0,r=null,l=!1){if((!e||e===Rf)&&(e=cn),Yn(e)){const a=En(e,t,!0);return o&&ql(a,o),No>0&&!l&&Et&&(a.shapeFlag&6?Et[Et.indexOf(e)]=a:Et.push(a)),a.patchFlag|=-2,a}if(hh(e)&&(e=e.__vccOpts),t){t=ve(t);let{class:a,style:c}=t;a&&!De(a)&&(t.class=Re(a)),Ve(c)&&(Hc(c)&&!ee(c)&&(c=tt({},c)),t.style=rt(c))}const i=De(e)?1:Jc(e)?128:th(e)?64:Ve(e)?4:re(e)?2:0;return n(e,t,o,s,r,i,l,!0)}function ve(e){return e?Hc(e)||er in e?tt({},e):e:null}function En(e,t,o=!1){const{props:s,ref:r,patchFlag:l,children:i}=e,a=t?$s(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&gu(a),ref:t&&t.ref?o&&r?ee(r)?r.concat(ms(t)):[r,ms(t)]:ms(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&En(e.ssContent),ssFallback:e.ssFallback&&En(e.ssFallback),el:e.el,anchor:e.anchor}}function f(e=" ",t=0){return W(Kl,null,e,t)}function pe(e="",t=!1){return t?(C(),K(cn,null,e)):W(cn,null,e)}function Mt(e){return e==null||typeof e=="boolean"?W(cn):ee(e)?W(ke,null,e.slice()):typeof e=="object"?Jt(e):W(Kl,null,String(e))}function Jt(e){return e.el===null||e.memo?e:En(e)}function ql(e,t){let o=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ee(t))o=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),ql(e,r()),r._c&&(r._d=!0));return}else{o=32;const r=t._;!r&&!(er in t)?t._ctx=qe:r===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else re(t)?(t={default:t,_ctx:qe},o=32):(t=String(t),s&64?(o=16,t=[f(t)]):o=8);e.children=t,e.shapeFlag|=o}function $s(...e){const t={};for(let o=0;o<e.length;o++){const s=e[o];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Re([t.class,s.class]));else if(r==="style")t.style=rt([t.style,s.style]);else if(js(r)){const l=t[r],i=s[r];i&&l!==i&&!(ee(l)&&l.includes(i))&&(t[r]=l?[].concat(l,i):i)}else r!==""&&(t[r]=s[r])}return t}function gt(e,t,o,s=null){Bt(e,t,7,[o,s])}const ih=mu();let ah=0;function ch(e,t,o){const s=e.type,r=(t?t.appContext:e.appContext)||ih,l={uid:ah++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ac(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pu(s,r),emitsOptions:Zc(s,r),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:s.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Ff.bind(null,l),e.ce&&e.ce(l),l}let Ue=null;const oo=()=>Ue||qe,Zn=e=>{Ue=e,e.scope.on()},wn=()=>{Ue&&Ue.scope.off(),Ue=null};function bu(e){return e.vnode.shapeFlag&4}let zo=!1;function uh(e,t=!1){zo=t;const{props:o,children:s}=e.vnode,r=bu(e);Xf(e,o,r,t),qf(e,s);const l=r?ph(e,t):void 0;return zo=!1,l}function ph(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=Gs(new Proxy(e.ctx,Nf));const{setup:s}=o;if(s){const r=e.setupContext=s.length>1?fh(e):null;Zn(e),to();const l=nn(s,e,0,[e.props,r]);if(no(),wn(),Bc(l)){if(l.then(wn,wn),t)return l.then(i=>{Ui(e,i,t)}).catch(i=>{Ks(i,e,0)});e.asyncDep=l}else Ui(e,l,t)}else _u(e,t)}function Ui(e,t,o){re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=Uc(t)),_u(e,o)}let Xi;function _u(e,t,o){const s=e.type;if(!e.render){if(!t&&Xi&&!s.render){const r=s.template;if(r){const{isCustomElement:l,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,u=tt(tt({isCustomElement:l,delimiters:a},i),c);s.render=Xi(r,u)}}e.render=s.render||St}Zn(e),to(),zf(e),no(),wn()}function dh(e){return new Proxy(e.attrs,{get(t,o){return mt(e,"get","$attrs"),t[o]}})}function fh(e){const t=s=>{e.exposed=s||{}};let o;return{get attrs(){return o||(o=dh(e))},slots:e.slots,emit:e.emit,expose:t}}function tr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Uc(Gs(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Ss)return Ss[o](e)}}))}function Jr(e,t=!0){return re(e)?e.displayName||e.name:e.name||t&&e.__name}function hh(e){return re(e)&&"__vccOpts"in e}const $=(e,t)=>mf(e,t,zo);function $t(e,t,o){const s=arguments.length;return s===2?Ve(t)&&!ee(t)?Yn(t)?W(e,null,[t]):W(e,t):W(e,null,t):(s>3?o=Array.prototype.slice.call(arguments,2):s===3&&Yn(o)&&(o=[o]),W(e,t,o))}const mh="3.2.37",yh="http://www.w3.org/2000/svg",yn=typeof document!="undefined"?document:null,Gi=yn&&yn.createElement("template"),gh={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,s)=>{const r=t?yn.createElementNS(yh,e):yn.createElement(e,o?{is:o}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>yn.createTextNode(e),createComment:e=>yn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,o,s,r,l){const i=o?o.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),o),!(r===l||!(r=r.nextSibling)););else{Gi.innerHTML=s?`<svg>${e}</svg>`:e;const a=Gi.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,o)}return[i?i.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function bh(e,t,o){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function _h(e,t,o){const s=e.style,r=De(o);if(o&&!r){for(const l in o)Qr(s,l,o[l]);if(t&&!De(t))for(const l in t)o[l]==null&&Qr(s,l,"")}else{const l=s.display;r?t!==o&&(s.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=l)}}const Ki=/\s*!important$/;function Qr(e,t,o){if(ee(o))o.forEach(s=>Qr(e,t,s));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const s=vh(e,t);Ki.test(o)?e.setProperty(Sn(s),o.replace(Ki,""),"important"):e[s]=o}}const qi=["Webkit","Moz","ms"],mr={};function vh(e,t){const o=mr[t];if(o)return o;let s=Dt(t);if(s!=="filter"&&s in e)return mr[t]=s;s=Us(s);for(let r=0;r<qi.length;r++){const l=qi[r]+s;if(l in e)return mr[t]=l}return t}const Wi="http://www.w3.org/1999/xlink";function Fh(e,t,o,s,r){if(s&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(Wi,t.slice(6,t.length)):e.setAttributeNS(Wi,t,o);else{const l=_d(t);o==null||l&&!Cc(o)?e.removeAttribute(t):e.setAttribute(t,l?"":o)}}function wh(e,t,o,s,r,l,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,l),e[t]=o==null?"":o;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=o;const c=o==null?"":o;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),o==null&&e.removeAttribute(t);return}let a=!1;if(o===""||o==null){const c=typeof e[t];c==="boolean"?o=Cc(o):o==null&&c==="string"?(o="",a=!0):c==="number"&&(o=0,a=!0)}try{e[t]=o}catch{}a&&e.removeAttribute(t)}const[vu,xh]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const o=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(o&&Number(o[1])<=53)}return[e,t]})();let el=0;const kh=Promise.resolve(),Ch=()=>{el=0},Eh=()=>el||(kh.then(Ch),el=vu());function Rn(e,t,o,s){e.addEventListener(t,o,s)}function Sh(e,t,o,s){e.removeEventListener(t,o,s)}function Bh(e,t,o,s,r=null){const l=e._vei||(e._vei={}),i=l[t];if(s&&i)i.value=s;else{const[a,c]=$h(t);if(s){const u=l[t]=Oh(s,r);Rn(e,a,u,c)}else i&&(Sh(e,a,i,c),l[t]=void 0)}}const Yi=/(?:Once|Passive|Capture)$/;function $h(e){let t;if(Yi.test(e)){t={};let o;for(;o=e.match(Yi);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[Sn(e.slice(2)),t]}function Oh(e,t){const o=s=>{const r=s.timeStamp||vu();(xh||r>=o.attached-1)&&Bt(Ah(s,o.value),t,5,[s])};return o.value=e,o.attached=Eh(),o}function Ah(e,t){if(ee(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Zi=/^on[a-z]/,Ih=(e,t,o,s,r=!1,l,i,a,c)=>{t==="class"?bh(e,s,r):t==="style"?_h(e,o,s):js(t)?Bl(t)||Bh(e,t,o,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ph(e,t,s,r))?wh(e,t,s,l,i,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Fh(e,t,s,r))};function Ph(e,t,o,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&Zi.test(t)&&re(o)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Zi.test(t)&&De(o)?!1:t in e}const Ji=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ee(t)?o=>Un(t,o):t};function Mh(e){e.target.composing=!0}function Qi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Th={created(e,{modifiers:{lazy:t,trim:o,number:s}},r){e._assign=Ji(r);const l=s||r.props&&r.props.type==="number";Rn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;o&&(a=a.trim()),l&&(a=Rr(a)),e._assign(a)}),o&&Rn(e,"change",()=>{e.value=e.value.trim()}),t||(Rn(e,"compositionstart",Mh),Rn(e,"compositionend",Qi),Rn(e,"change",Qi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:o,trim:s,number:r}},l){if(e._assign=Ji(l),e.composing||document.activeElement===e&&e.type!=="range"&&(o||s&&e.value.trim()===t||(r||e.type==="number")&&Rr(e.value)===t))return;const i=t==null?"":t;e.value!==i&&(e.value=i)}},Lh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ea=(e,t)=>o=>{if(!("key"in o))return;const s=Sn(o.key);if(t.some(r=>r===s||Lh[r]===s))return e(o)},Fu={beforeMount(e,{value:t},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):uo(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:s}){!t!=!o&&(s?t?(s.beforeEnter(e),uo(e,!0),s.enter(e)):s.leave(e,()=>{uo(e,!1)}):uo(e,t))},beforeUnmount(e,{value:t}){uo(e,t)}};function uo(e,t){e.style.display=t?e._vod:"none"}const Rh=tt({patchProp:Ih},gh);let ta;function Dh(){return ta||(ta=Jf(Rh))}const Nh=(...e)=>{const t=Dh().createApp(...e),{mount:o}=t;return t.mount=s=>{const r=zh(s);if(!r)return;const l=t._component;!re(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.innerHTML="";const i=o(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function zh(e){return De(e)?document.querySelector(e):e}var jh=Object.defineProperty,na=Object.getOwnPropertySymbols,Hh=Object.prototype.hasOwnProperty,Vh=Object.prototype.propertyIsEnumerable,oa=(e,t,o)=>t in e?jh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Uh=(e,t)=>{for(var o in t||(t={}))Hh.call(t,o)&&oa(e,o,t[o]);if(na)for(var o of na(t))Vh.call(t,o)&&oa(e,o,t[o]);return e},wu="usehead",sa="head:count",yr="data-head-attrs",Xh=(e,t,o)=>{const s=o.createElement(e);for(const r of Object.keys(t)){let l=t[r];r==="key"||l===!1||(r==="children"?s.textContent=l:s.setAttribute(r,l))}return s};function Gh(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const o=t.getAttribute("nonce");if(o&&!e.getAttribute("nonce")){const s=t.cloneNode(!0);return s.setAttribute("nonce",""),s.nonce=o,o===e.nonce&&e.isEqualNode(s)}}return e.isEqualNode(t)}var Kh=e=>{const t=["key","id","name","property"];for(const o of t){const s=typeof e.getAttribute=="function"?e.hasAttribute(o)?e.getAttribute(o):void 0:e[o];if(s!==void 0)return{name:o,value:s}}},qh=()=>{const e=H(wu);if(!e)throw new Error("You may forget to apply app.use(head)");return e},Wh=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],Yh=e=>{const t=[];for(const o of Object.keys(e))if(e[o]!=null){if(o==="title")t.push({tag:o,props:{children:e[o]}});else if(o==="base")t.push({tag:o,props:Uh({key:"default"},e[o])});else if(Wh.includes(o)){const s=e[o];Array.isArray(s)?s.forEach(r=>{t.push({tag:o,props:r})}):s&&t.push({tag:o,props:s})}}return t},ra=(e,t)=>{const o=e.getAttribute(yr);if(o)for(const r of o.split(","))r in t||e.removeAttribute(r);const s=[];for(const r in t){const l=t[r];l!=null&&(l===!1?e.removeAttribute(r):e.setAttribute(r,l),s.push(r))}s.length?e.setAttribute(yr,s.join(",")):e.removeAttribute(yr)},Zh=(e=window.document,t,o)=>{var s;const r=e.head;let l=r.querySelector(`meta[name="${sa}"]`);const i=l?Number(l.getAttribute("content")):0,a=[];if(l)for(let u=0,p=l.previousElementSibling;u<i;u++,p=(p==null?void 0:p.previousElementSibling)||null)((s=p==null?void 0:p.tagName)==null?void 0:s.toLowerCase())===t&&a.push(p);else l=e.createElement("meta"),l.setAttribute("name",sa),l.setAttribute("content","0"),r.append(l);let c=o.map(u=>Xh(u.tag,u.props,e));c=c.filter(u=>{for(let p=0;p<a.length;p++){const h=a[p];if(Gh(h,u))return a.splice(p,1),!1}return!0}),a.forEach(u=>{var p;return(p=u.parentNode)==null?void 0:p.removeChild(u)}),c.forEach(u=>{r.insertBefore(u,l)}),l.setAttribute("content",""+(i-a.length+c.length))},Jh=()=>{let e=[],t=new Set;const o={install(s){s.config.globalProperties.$head=o,s.provide(wu,o)},get headTags(){const s=[];return e.forEach(r=>{Yh(r.value).forEach(i=>{if(i.tag==="meta"||i.tag==="base"||i.tag==="script"){const a=Kh(i.props);if(a){let c=-1;for(let u=0;u<s.length;u++){const p=s[u],h=p.props[a.name],d=i.props[a.name];if(p.tag===i.tag&&h===d){c=u;break}}c!==-1&&s.splice(c,1)}}s.push(i)})}),s},addHeadObjs(s){e.push(s)},removeHeadObjs(s){e=e.filter(r=>r!==s)},updateDOM(s=window.document){let r,l={},i={};const a={};for(const u of o.headTags){if(u.tag==="title"){r=u.props.children;continue}if(u.tag==="htmlAttrs"){Object.assign(l,u.props);continue}if(u.tag==="bodyAttrs"){Object.assign(i,u.props);continue}a[u.tag]=a[u.tag]||[],a[u.tag].push(u)}r!==void 0&&(s.title=r),ra(s.documentElement,l),ra(s.body,i);const c=new Set([...Object.keys(a),...t]);for(const u of c)Zh(s,u,a[u]||[]);t.clear(),Object.keys(a).forEach(u=>t.add(u))}};return o},Qh=typeof window!="undefined",em=e=>{const t=z(e),o=qh();o.addHeadObjs(t),Qh&&(Zs(()=>{o.updateDOM()}),Qs(()=>{o.removeHeadObjs(t),o.updateDOM()}))};const ys=Symbol("v-click-clicks"),Dn=Symbol("v-click-clicks-elements"),tl=Symbol("v-click-clicks-order-map"),gs=Symbol("v-click-clicks-disabled"),xu=Symbol("slidev-slide-scale"),q=Symbol("slidev-slidev-context"),tm=Symbol("slidev-route"),nm=Symbol("slidev-slide-context"),In="slidev-vclick-target",gr="slidev-vclick-hidden",om="slidev-vclick-fade",br="slidev-vclick-hidden-explicitly",po="slidev-vclick-current",cs="slidev-vclick-prior";function la(e,t){if(!e)return!1;const o=e.indexOf(t);return o>=0?(e.splice(o,1),!0):!1}function sm(e){return e!=null}function rm(e,t){return Object.fromEntries(Object.entries(e).map(([o,s])=>t(o,s)).filter(sm))}var bn={theme:"purplin",title:"\u6DF1\u5165\u7406\u89E3 XFS \u6587\u4EF6\u7CFB\u7EDF",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:[],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",record:"dev",position:"center",layout:"intro"};const Fe=bn;var xc;const on=(xc=Fe.aspectRatio)!=null?xc:16/9;var kc;const xn=(kc=Fe.canvasWidth)!=null?kc:980,ku=Math.round(xn/on),Cu=$(()=>rm(Fe.themeConfig||{},(e,t)=>[`--slidev-theme-${e}`,t]));function Ft(e,t,o){Object.defineProperty(e,t,{value:o,writable:!0,enumerable:!1})}const Bn=Le({page:0,clicks:0});let lm=[],im=[];Ft(Bn,"$syncUp",!0);Ft(Bn,"$syncDown",!0);Ft(Bn,"$paused",!1);Ft(Bn,"$onSet",e=>lm.push(e));Ft(Bn,"$onPatch",e=>im.push(e));Ft(Bn,"$patch",async()=>!1);function Eu(e,t,o=!1){const s=[];let r=!1,l=!1,i,a;const c=Le(t);function u(m){s.push(m)}function p(m,g){clearTimeout(i),r=!0,c[m]=g,i=setTimeout(()=>r=!1,0)}function h(m){r||(clearTimeout(a),l=!0,Object.entries(m).forEach(([g,F])=>{c[g]=F}),a=setTimeout(()=>l=!1,0))}function d(m){let g;o?o&&window.addEventListener("storage",v=>{v&&v.key===m&&v.newValue&&h(JSON.parse(v.newValue))}):(g=new BroadcastChannel(m),g.addEventListener("message",v=>h(v.data)));function F(){!o&&g&&!l?g.postMessage(_e(c)):o&&!l&&window.localStorage.setItem(m,JSON.stringify(c)),r||s.forEach(v=>v(c))}if(ae(c,F,{deep:!0}),o){const v=window.localStorage.getItem(m);v&&h(JSON.parse(v))}}return{init:d,onPatch:u,patch:p,state:c}}const{init:am,onPatch:cm,patch:ia,state:_r}=Eu(Bn,{page:1,clicks:0}),$n=Le({});let um=[],pm=[];Ft($n,"$syncUp",!0);Ft($n,"$syncDown",!0);Ft($n,"$paused",!1);Ft($n,"$onSet",e=>um.push(e));Ft($n,"$onPatch",e=>pm.push(e));Ft($n,"$patch",async()=>!1);const{init:dm,onPatch:fm,patch:Su,state:Os}=Eu($n,{},!1),hm="modulepreload",aa={},mm="/",so=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${mm}${s}`,s in aa)return;aa[s]=!0;const r=s.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":hm,r||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),r)return new Promise((a,c)=>{i.addEventListener("load",a),i.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};function ot(e,t,o){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,o),o):(e[t]=o,o)}function ym(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function un(e){return Id()?(Pd(e),!0):!1}function ze(...e){return $(()=>e.every(t=>_(t)))}function at(e){return $(()=>!_(e))}function gm(e){if(!we(e))return Le(e);const t=new Proxy({},{get(o,s,r){return _(Reflect.get(e.value,s,r))},set(o,s,r){return we(e.value[s])&&!we(r)?e.value[s].value=r:e.value[s]=r,!0},deleteProperty(o,s){return Reflect.deleteProperty(e.value,s)},has(o,s){return Reflect.has(e.value,s)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Le(t)}var ca;const vt=typeof window!="undefined",bm=e=>typeof e!="undefined",_m=Object.prototype.toString,vm=e=>typeof e=="number",Bu=e=>typeof e=="string",As=e=>_m.call(e)==="[object Object]",nl=()=>+Date.now(),sn=()=>{};vt&&((ca=window==null?void 0:window.navigator)==null?void 0:ca.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Fm(e,t){function o(...s){e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})}return o}const $u=e=>e();function wm(e=$u){const t=z(!0);function o(){t.value=!1}function s(){t.value=!0}return{isActive:t,pause:o,resume:s,eventFilter:(...l)=>{t.value&&e(...l)}}}function xm(e,t){var o;if(typeof e=="number")return e+t;const s=((o=e.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:o[0])||"",r=e.slice(s.length),l=parseFloat(s)+t;return Number.isNaN(l)?e:l+r}var km=Object.defineProperty,Cm=Object.defineProperties,Em=Object.getOwnPropertyDescriptors,ua=Object.getOwnPropertySymbols,Sm=Object.prototype.hasOwnProperty,Bm=Object.prototype.propertyIsEnumerable,pa=(e,t,o)=>t in e?km(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,$m=(e,t)=>{for(var o in t||(t={}))Sm.call(t,o)&&pa(e,o,t[o]);if(ua)for(var o of ua(t))Bm.call(t,o)&&pa(e,o,t[o]);return e},Om=(e,t)=>Cm(e,Em(t));function Am(e){if(!we(e))return pf(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const o in e.value)t[o]=uf(()=>({get(){return e.value[o]},set(s){if(Array.isArray(e.value)){const r=[...e.value];r[o]=s,e.value=r}else{const r=Om($m({},e.value),{[o]:s});Object.setPrototypeOf(r,e.value),e.value=r}}}));return t}function Im(e,t=!0){oo()?su(e):t?e():Ge(e)}function Pm(e,t=!0){oo()?Wo(e):t?e():Ge(e)}function Wl(e){oo()&&Vl(e)}function Mm(e,t=1e3,o={}){const{immediate:s=!0,immediateCallback:r=!1}=o;let l=null;const i=z(!1);function a(){l&&(clearInterval(l),l=null)}function c(){i.value=!1,a()}function u(){_(t)<=0||(i.value=!0,r&&e(),a(),l=setInterval(e,_(t)))}if(s&&vt&&u(),we(t)){const p=ae(t,()=>{s&&vt&&u()});un(p)}return un(c),{isActive:i,pause:c,resume:u}}function Ou(e=!1,t={}){const{truthyValue:o=!0,falsyValue:s=!1}=t,r=we(e),l=z(e);function i(a){return arguments.length?(l.value=a,l.value):(l.value=l.value===_(o)?_(s):_(o),l.value)}return r?i:[l,i]}var da=Object.getOwnPropertySymbols,Tm=Object.prototype.hasOwnProperty,Lm=Object.prototype.propertyIsEnumerable,Rm=(e,t)=>{var o={};for(var s in e)Tm.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&da)for(var s of da(e))t.indexOf(s)<0&&Lm.call(e,s)&&(o[s]=e[s]);return o};function Dm(e,t,o={}){const s=o,{eventFilter:r=$u}=s,l=Rm(s,["eventFilter"]);return ae(e,Fm(r,t),l)}function Nm(e,t,o){const s=ae(e,(...r)=>(Ge(()=>s()),t(...r)),o)}var zm=Object.defineProperty,jm=Object.defineProperties,Hm=Object.getOwnPropertyDescriptors,Is=Object.getOwnPropertySymbols,Au=Object.prototype.hasOwnProperty,Iu=Object.prototype.propertyIsEnumerable,fa=(e,t,o)=>t in e?zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Vm=(e,t)=>{for(var o in t||(t={}))Au.call(t,o)&&fa(e,o,t[o]);if(Is)for(var o of Is(t))Iu.call(t,o)&&fa(e,o,t[o]);return e},Um=(e,t)=>jm(e,Hm(t)),Xm=(e,t)=>{var o={};for(var s in e)Au.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&Is)for(var s of Is(e))t.indexOf(s)<0&&Iu.call(e,s)&&(o[s]=e[s]);return o};function Gm(e,t,o={}){const s=o,{eventFilter:r}=s,l=Xm(s,["eventFilter"]),{eventFilter:i,pause:a,resume:c,isActive:u}=wm(r);return{stop:Dm(e,t,Um(Vm({},l),{eventFilter:i})),pause:a,resume:c,isActive:u}}function st(e){var t;const o=_(e);return(t=o==null?void 0:o.$el)!=null?t:o}const We=vt?window:void 0,Km=vt?window.document:void 0;function Me(...e){let t,o,s,r;if(Bu(e[0])?([o,s,r]=e,t=We):[t,o,s,r]=e,!t)return sn;let l=sn;const i=ae(()=>st(t),c=>{l(),c&&(c.addEventListener(o,s,r),l=()=>{c.removeEventListener(o,s,r),l=sn})},{immediate:!0,flush:"post"}),a=()=>{i(),l()};return un(a),a}function qm(e,t,o={}){const{window:s=We,ignore:r,capture:l=!0}=o;if(!s)return;const i=z(!0);let a;const c=h=>{s.clearTimeout(a);const d=st(e),m=h.composedPath();!d||d===h.target||m.includes(d)||!i.value||r&&r.length>0&&r.some(g=>{const F=st(g);return F&&(h.target===F||m.includes(F))})||t(h)},u=[Me(s,"click",c,{passive:!0,capture:l}),Me(s,"pointerdown",h=>{const d=st(e);i.value=!!d&&!h.composedPath().includes(d)},{passive:!0}),Me(s,"pointerup",h=>{a=s.setTimeout(()=>c(h),50)},{passive:!0})];return()=>u.forEach(h=>h())}const Wm=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):e?()=>!0:()=>!1;function Ym(e,t,o={}){const{target:s=We,eventName:r="keydown",passive:l=!1}=o,i=Wm(e);return Me(s,r,c=>{i(c)&&t(c)},l)}function Zm(e={}){const{window:t=We}=e,o=z(0);return t&&(Me(t,"blur",()=>o.value+=1,!0),Me(t,"focus",()=>o.value+=1,!0)),$(()=>(o.value,t==null?void 0:t.document.activeElement))}function bs(e,t={}){const{window:o=We}=t,s=Boolean(o&&"matchMedia"in o);let r;const l=z(!1),i=()=>{!s||(r||(r=o.matchMedia(e)),l.value=r.matches)};return Im(()=>{i(),r&&("addEventListener"in r?r.addEventListener("change",i):r.addListener(i),un(()=>{"removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i)}))}),l}const Jm={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var Qm=Object.defineProperty,ha=Object.getOwnPropertySymbols,e2=Object.prototype.hasOwnProperty,t2=Object.prototype.propertyIsEnumerable,ma=(e,t,o)=>t in e?Qm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,n2=(e,t)=>{for(var o in t||(t={}))e2.call(t,o)&&ma(e,o,t[o]);if(ha)for(var o of ha(t))t2.call(t,o)&&ma(e,o,t[o]);return e};function o2(e,t={}){function o(a,c){let u=e[a];return c!=null&&(u=xm(u,c)),typeof u=="number"&&(u=`${u}px`),u}const{window:s=We}=t;function r(a){return s?s.matchMedia(a).matches:!1}const l=a=>bs(`(min-width: ${o(a)})`,t),i=Object.keys(e).reduce((a,c)=>(Object.defineProperty(a,c,{get:()=>l(c),enumerable:!0,configurable:!0}),a),{});return n2({greater:l,smaller(a){return bs(`(max-width: ${o(a,-.1)})`,t)},between(a,c){return bs(`(min-width: ${o(a)}) and (max-width: ${o(c,-.1)})`,t)},isGreater(a){return r(`(min-width: ${o(a)})`)},isSmaller(a){return r(`(max-width: ${o(a,-.1)})`)},isInBetween(a,c){return r(`(min-width: ${o(a)}) and (max-width: ${o(c,-.1)})`)}},i)}const ol=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},sl="__vueuse_ssr_handlers__";ol[sl]=ol[sl]||{};const s2=ol[sl];function r2(e,t){return s2[e]||t}function l2(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const i2={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function At(e,t,o,s={}){var r;const{flush:l="pre",deep:i=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,shallow:u,window:p=We,eventFilter:h,onError:d=P=>{console.error(P)}}=s,m=(u?Nt:z)(t);if(!o)try{o=r2("getDefaultStorage",()=>{var P;return(P=We)==null?void 0:P.localStorage})()}catch(P){d(P)}if(!o)return m;const g=_(t),F=l2(g),v=(r=s.serializer)!=null?r:i2[F],{pause:S,resume:x}=Gm(m,()=>k(m.value),{flush:l,deep:i,eventFilter:h});return p&&a&&Me(p,"storage",R),R(),m;function k(P){try{P==null?o.removeItem(e):o.setItem(e,v.write(P))}catch(V){d(V)}}function E(P){if(!(P&&P.key!==e)){S();try{const V=P?P.newValue:o.getItem(e);return V==null?(c&&g!==null&&o.setItem(e,v.write(g)),g):typeof V!="string"?V:v.read(V)}catch(V){d(V)}finally{x()}}}function R(P){P&&P.key!==e||(m.value=E(P))}}function a2(e){return bs("(prefers-color-scheme: dark)",e)}var c2=Object.defineProperty,u2=Object.defineProperties,p2=Object.getOwnPropertyDescriptors,ya=Object.getOwnPropertySymbols,d2=Object.prototype.hasOwnProperty,f2=Object.prototype.propertyIsEnumerable,ga=(e,t,o)=>t in e?c2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,h2=(e,t)=>{for(var o in t||(t={}))d2.call(t,o)&&ga(e,o,t[o]);if(ya)for(var o of ya(t))f2.call(t,o)&&ga(e,o,t[o]);return e},m2=(e,t)=>u2(e,p2(t));function kk(e,t={}){var o,s;const r=(o=t.draggingElement)!=null?o:We,l=z((s=t.initialValue)!=null?s:{x:0,y:0}),i=z(),a=d=>t.pointerTypes?t.pointerTypes.includes(d.pointerType):!0,c=d=>{_(t.preventDefault)&&d.preventDefault(),_(t.stopPropagation)&&d.stopPropagation()},u=d=>{var m;if(!a(d)||_(t.exact)&&d.target!==_(e))return;const g=_(e).getBoundingClientRect(),F={x:d.pageX-g.left,y:d.pageY-g.top};((m=t.onStart)==null?void 0:m.call(t,F,d))!==!1&&(i.value=F,c(d))},p=d=>{var m;!a(d)||!i.value||(l.value={x:d.pageX-i.value.x,y:d.pageY-i.value.y},(m=t.onMove)==null||m.call(t,l.value,d),c(d))},h=d=>{var m;!a(d)||!i.value||(i.value=void 0,(m=t.onEnd)==null||m.call(t,l.value,d),c(d))};return vt&&(Me(e,"pointerdown",u,!0),Me(r,"pointermove",p,!0),Me(r,"pointerup",h,!0)),m2(h2({},Am(l)),{position:l,isDragging:$(()=>!!i.value),style:$(()=>`left:${l.value.x}px;top:${l.value.y}px;`)})}var ba=Object.getOwnPropertySymbols,y2=Object.prototype.hasOwnProperty,g2=Object.prototype.propertyIsEnumerable,b2=(e,t)=>{var o={};for(var s in e)y2.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&ba)for(var s of ba(e))t.indexOf(s)<0&&g2.call(e,s)&&(o[s]=e[s]);return o};function _2(e,t,o={}){const s=o,{window:r=We}=s,l=b2(s,["window"]);let i;const a=r&&"ResizeObserver"in r,c=()=>{i&&(i.disconnect(),i=void 0)},u=ae(()=>st(e),h=>{c(),a&&r&&h&&(i=new ResizeObserver(t),i.observe(h,l))},{immediate:!0,flush:"post"}),p=()=>{c(),u()};return un(p),{isSupported:a,stop:p}}function Pu(e,t={}){const{immediate:o=!0,window:s=We}=t,r=z(!1);let l=null;function i(){!r.value||!s||(e(),l=s.requestAnimationFrame(i))}function a(){!r.value&&s&&(r.value=!0,i())}function c(){r.value=!1,l!=null&&s&&(s.cancelAnimationFrame(l),l=null)}return o&&a(),un(c),{isActive:r,pause:c,resume:a}}function v2(e,t={width:0,height:0},o={}){const s=z(t.width),r=z(t.height);return _2(e,([l])=>{s.value=l.contentRect.width,r.value=l.contentRect.height},o),ae(()=>st(e),l=>{s.value=l?t.width:0,r.value=l?t.height:0}),{width:s,height:r}}const _a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function F2(e,t={}){const{document:o=Km,autoExit:s=!1}=t,r=e||(o==null?void 0:o.querySelector("html")),l=z(!1);let i=!1,a=_a[0];if(!o)i=!1;else for(const F of _a)if(F[1]in o){a=F,i=!0;break}const[c,u,p,,h]=a;async function d(){!i||(o!=null&&o[p]&&await o[u](),l.value=!1)}async function m(){if(!i)return;await d();const F=st(r);F&&(await F[c](),l.value=!0)}async function g(){l.value?await d():await m()}return o&&Me(o,h,()=>{l.value=!!(o!=null&&o[p])},!1),s&&un(d),{isSupported:i,isFullscreen:l,enter:m,exit:d,toggle:g}}function w2(e,t,o={}){const{root:s,rootMargin:r="0px",threshold:l=.1,window:i=We}=o,a=i&&"IntersectionObserver"in i;let c=sn;const u=a?ae(()=>({el:st(e),root:st(s)}),({el:h,root:d})=>{if(c(),!h)return;const m=new IntersectionObserver(t,{root:d,rootMargin:r,threshold:l});m.observe(h),c=()=>{m.disconnect(),c=sn}},{immediate:!0,flush:"post"}):sn,p=()=>{c(),u()};return un(p),{isSupported:a,stop:p}}const x2={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function k2(e={}){const{reactive:t=!1,target:o=We,aliasMap:s=x2,passive:r=!0,onEventFired:l=sn}=e,i=Le(new Set),a={toJSON(){return{}},current:i},c=t?Le(a):a,u=new Set;function p(m,g){m in c&&(t?c[m]=g:c[m].value=g)}function h(m,g){var F,v;const S=(F=m.key)==null?void 0:F.toLowerCase(),x=(v=m.code)==null?void 0:v.toLowerCase(),k=[x,S].filter(Boolean);x&&(g?i.add(m.code):i.delete(m.code));for(const E of k)p(E,g);S==="meta"&&!g?(u.forEach(E=>{i.delete(E),p(E,!1)}),u.clear()):m.getModifierState("Meta")&&g&&[...i,...k].forEach(E=>u.add(E))}o&&(Me(o,"keydown",m=>(h(m,!0),l(m)),{passive:r}),Me(o,"keyup",m=>(h(m,!1),l(m)),{passive:r}));const d=new Proxy(c,{get(m,g,F){if(typeof g!="string")return Reflect.get(m,g,F);if(g=g.toLowerCase(),g in s&&(g=s[g]),!(g in c))if(/[+_-]/.test(g)){const S=g.split(/[+_-]/g).map(x=>x.trim());c[g]=$(()=>S.every(x=>_(d[x])))}else c[g]=z(!1);const v=Reflect.get(m,g,F);return t?_(v):v}});return d}function Ck(e={}){const{type:t="page",touch:o=!0,resetOnTouchEnds:s=!1,initialValue:r={x:0,y:0},window:l=We,eventFilter:i}=e,a=z(r.x),c=z(r.y),u=z(null),p=F=>{t==="page"?(a.value=F.pageX,c.value=F.pageY):t==="client"&&(a.value=F.clientX,c.value=F.clientY),u.value="mouse"},h=()=>{a.value=r.x,c.value=r.y},d=F=>{if(F.touches.length>0){const v=F.touches[0];t==="page"?(a.value=v.pageX,c.value=v.pageY):t==="client"&&(a.value=v.clientX,c.value=v.clientY),u.value="touch"}},m=F=>i===void 0?p(F):i(()=>p(F),{}),g=F=>i===void 0?d(F):i(()=>d(F),{});return l&&(Me(l,"mousemove",m,{passive:!0}),Me(l,"dragover",m,{passive:!0}),o&&(Me(l,"touchstart",g,{passive:!0}),Me(l,"touchmove",g,{passive:!0}),s&&Me(l,"touchend",h,{passive:!0}))),{x:a,y:c,sourceType:u}}var Vt;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Vt||(Vt={}));function C2(e,t={}){const o=z(e),{threshold:s=50,onSwipe:r,onSwipeEnd:l,onSwipeStart:i}=t,a=Le({x:0,y:0}),c=(P,V)=>{a.x=P,a.y=V},u=Le({x:0,y:0}),p=(P,V)=>{u.x=P,u.y=V},h=$(()=>a.x-u.x),d=$(()=>a.y-u.y),{max:m,abs:g}=Math,F=$(()=>m(g(h.value),g(d.value))>=s),v=z(!1),S=z(!1),x=$(()=>F.value?g(h.value)>g(d.value)?h.value>0?Vt.LEFT:Vt.RIGHT:d.value>0?Vt.UP:Vt.DOWN:Vt.NONE),k=P=>t.pointerTypes?t.pointerTypes.includes(P.pointerType):!0,E=[Me(e,"pointerdown",P=>{var V,oe;if(!k(P))return;S.value=!0,(oe=(V=o.value)==null?void 0:V.style)==null||oe.setProperty("touch-action","none");const ce=P.target;ce==null||ce.setPointerCapture(P.pointerId);const{clientX:de,clientY:me}=P;c(de,me),p(de,me),i==null||i(P)}),Me(e,"pointermove",P=>{if(!k(P)||!S.value)return;const{clientX:V,clientY:oe}=P;p(V,oe),!v.value&&F.value&&(v.value=!0),v.value&&(r==null||r(P))}),Me(e,"pointerup",P=>{var V,oe;!k(P)||(v.value&&(l==null||l(P,x.value)),S.value=!1,v.value=!1,(oe=(V=o.value)==null?void 0:V.style)==null||oe.setProperty("touch-action","initial"))})],R=()=>E.forEach(P=>P());return{isSwiping:zn(v),direction:zn(x),posStart:zn(a),posEnd:zn(u),distanceX:h,distanceY:d,stop:R}}var E2=Object.defineProperty,va=Object.getOwnPropertySymbols,S2=Object.prototype.hasOwnProperty,B2=Object.prototype.propertyIsEnumerable,Fa=(e,t,o)=>t in e?E2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,$2=(e,t)=>{for(var o in t||(t={}))S2.call(t,o)&&Fa(e,o,t[o]);if(va)for(var o of va(t))B2.call(t,o)&&Fa(e,o,t[o]);return e};function Ek(e={}){const{controls:t=!1,offset:o=0,immediate:s=!0,interval:r="requestAnimationFrame"}=e,l=z(nl()+o),i=()=>l.value=nl()+o,a=r==="requestAnimationFrame"?Pu(i,{immediate:s}):Mm(i,r,{immediate:s});return t?$2({timestamp:l},a):l}function Lt(e,t,o,s={}){var r;const{passive:l=!1,eventName:i,deep:a=!1,defaultValue:c}=s,u=oo(),p=o||(u==null?void 0:u.emit)||((r=u==null?void 0:u.$emit)==null?void 0:r.bind(u));let h=i;t||(t="modelValue"),h=i||h||`update:${t.toString()}`;const d=()=>bm(e[t])?e[t]:c;if(l){const m=z(d());return ae(()=>e[t],g=>m.value=g),ae(m,g=>{(g!==e[t]||a)&&p(h,g)},{deep:a}),m}else return $({get(){return d()},set(m){p(h,m)}})}function Sk({window:e=We}={}){if(!e)return z(!1);const t=z(e.document.hasFocus());return Me(e,"blur",()=>{t.value=!1}),Me(e,"focus",()=>{t.value=!0}),t}function O2({window:e=We,initialWidth:t=1/0,initialHeight:o=1/0}={}){const s=z(t),r=z(o),l=()=>{e&&(s.value=e.innerWidth,r.value=e.innerHeight)};return l(),Pm(l),Me("resize",l,{passive:!0}),{width:s,height:r}}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Mu=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ro=e=>Mu?Symbol(e):"_vr_"+e,A2=ro("rvlm"),wa=ro("rvd"),Yl=ro("r"),Tu=ro("rl"),rl=ro("rvl"),Nn=typeof window!="undefined";function I2(e){return e.__esModule||Mu&&e[Symbol.toStringTag]==="Module"}const Be=Object.assign;function vr(e,t){const o={};for(const s in t){const r=t[s];o[s]=Array.isArray(r)?r.map(e):e(r)}return o}const Eo=()=>{},P2=/\/$/,M2=e=>e.replace(P2,"");function Fr(e,t,o="/"){let s,r={},l="",i="";const a=t.indexOf("?"),c=t.indexOf("#",a>-1?a:0);return a>-1&&(s=t.slice(0,a),l=t.slice(a+1,c>-1?c:t.length),r=e(l)),c>-1&&(s=s||t.slice(0,c),i=t.slice(c,t.length)),s=D2(s!=null?s:t,o),{fullPath:s+(l&&"?")+l+i,path:s,query:r,hash:i}}function T2(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function xa(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function L2(e,t,o){const s=t.matched.length-1,r=o.matched.length-1;return s>-1&&s===r&&Jn(t.matched[s],o.matched[r])&&Lu(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Jn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!R2(e[o],t[o]))return!1;return!0}function R2(e,t){return Array.isArray(e)?ka(e,t):Array.isArray(t)?ka(t,e):e===t}function ka(e,t){return Array.isArray(t)?e.length===t.length&&e.every((o,s)=>o===t[s]):e.length===1&&e[0]===t}function D2(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),s=e.split("/");let r=o.length-1,l,i;for(l=0;l<s.length;l++)if(i=s[l],!(r===1||i==="."))if(i==="..")r--;else break;return o.slice(0,r).join("/")+"/"+s.slice(l-(l===s.length?1:0)).join("/")}var jo;(function(e){e.pop="pop",e.push="push"})(jo||(jo={}));var So;(function(e){e.back="back",e.forward="forward",e.unknown=""})(So||(So={}));function N2(e){if(!e)if(Nn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),M2(e)}const z2=/^[^#]+#/;function j2(e,t){return e.replace(z2,"#")+t}function H2(e,t){const o=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-o.left-(t.left||0),top:s.top-o.top-(t.top||0)}}const nr=()=>({left:window.pageXOffset,top:window.pageYOffset});function V2(e){let t;if("el"in e){const o=e.el,s=typeof o=="string"&&o.startsWith("#"),r=typeof o=="string"?s?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!r)return;t=H2(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ca(e,t){return(history.state?history.state.position-t:-1)+e}const ll=new Map;function U2(e,t){ll.set(e,t)}function X2(e){const t=ll.get(e);return ll.delete(e),t}let G2=()=>location.protocol+"//"+location.host;function Ru(e,t){const{pathname:o,search:s,hash:r}=t,l=e.indexOf("#");if(l>-1){let a=r.includes(e.slice(l))?e.slice(l).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),xa(c,"")}return xa(o,e)+s+r}function K2(e,t,o,s){let r=[],l=[],i=null;const a=({state:d})=>{const m=Ru(e,location),g=o.value,F=t.value;let v=0;if(d){if(o.value=m,t.value=d,i&&i===g){i=null;return}v=F?d.position-F.position:0}else s(m);r.forEach(S=>{S(o.value,g,{delta:v,type:jo.pop,direction:v?v>0?So.forward:So.back:So.unknown})})};function c(){i=o.value}function u(d){r.push(d);const m=()=>{const g=r.indexOf(d);g>-1&&r.splice(g,1)};return l.push(m),m}function p(){const{history:d}=window;!d.state||d.replaceState(Be({},d.state,{scroll:nr()}),"")}function h(){for(const d of l)d();l=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",p),{pauseListeners:c,listen:u,destroy:h}}function Ea(e,t,o,s=!1,r=!1){return{back:e,current:t,forward:o,replaced:s,position:window.history.length,scroll:r?nr():null}}function q2(e){const{history:t,location:o}=window,s={value:Ru(e,o)},r={value:t.state};r.value||l(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(c,u,p){const h=e.indexOf("#"),d=h>-1?(o.host&&document.querySelector("base")?e:e.slice(h))+c:G2()+e+c;try{t[p?"replaceState":"pushState"](u,"",d),r.value=u}catch(m){console.error(m),o[p?"replace":"assign"](d)}}function i(c,u){const p=Be({},t.state,Ea(r.value.back,c,r.value.forward,!0),u,{position:r.value.position});l(c,p,!0),s.value=c}function a(c,u){const p=Be({},r.value,t.state,{forward:c,scroll:nr()});l(p.current,p,!0);const h=Be({},Ea(s.value,c,null),{position:p.position+1},u);l(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:i}}function W2(e){e=N2(e);const t=q2(e),o=K2(e,t.state,t.location,t.replace);function s(l,i=!0){i||o.pauseListeners(),history.go(l)}const r=Be({location:"",base:e,go:s,createHref:j2.bind(null,e)},t,o);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Y2(e){return typeof e=="string"||e&&typeof e=="object"}function Du(e){return typeof e=="string"||typeof e=="symbol"}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nu=ro("nf");var Sa;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Sa||(Sa={}));function Qn(e,t){return Be(new Error,{type:e,[Nu]:!0},t)}function Yt(e,t){return e instanceof Error&&Nu in e&&(t==null||!!(e.type&t))}const Ba="[^/]+?",Z2={sensitive:!1,strict:!1,start:!0,end:!0},J2=/[.+*?^${}()[\]/\\]/g;function Q2(e,t){const o=Be({},Z2,t),s=[];let r=o.start?"^":"";const l=[];for(const u of e){const p=u.length?[]:[90];o.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const d=u[h];let m=40+(o.sensitive?.25:0);if(d.type===0)h||(r+="/"),r+=d.value.replace(J2,"\\$&"),m+=40;else if(d.type===1){const{value:g,repeatable:F,optional:v,regexp:S}=d;l.push({name:g,repeatable:F,optional:v});const x=S||Ba;if(x!==Ba){m+=10;try{new RegExp(`(${x})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+E.message)}}let k=F?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(k=v&&u.length<2?`(?:/${k})`:"/"+k),v&&(k+="?"),r+=k,m+=20,v&&(m+=-8),F&&(m+=-20),x===".*"&&(m+=-50)}p.push(m)}s.push(p)}if(o.strict&&o.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}o.strict||(r+="/?"),o.end?r+="$":o.strict&&(r+="(?:/|$)");const i=new RegExp(r,o.sensitive?"":"i");function a(u){const p=u.match(i),h={};if(!p)return null;for(let d=1;d<p.length;d++){const m=p[d]||"",g=l[d-1];h[g.name]=m&&g.repeatable?m.split("/"):m}return h}function c(u){let p="",h=!1;for(const d of e){(!h||!p.endsWith("/"))&&(p+="/"),h=!1;for(const m of d)if(m.type===0)p+=m.value;else if(m.type===1){const{value:g,repeatable:F,optional:v}=m,S=g in u?u[g]:"";if(Array.isArray(S)&&!F)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=Array.isArray(S)?S.join("/"):S;if(!x)if(v)d.length<2&&e.length>1&&(p.endsWith("/")?p=p.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);p+=x}}return p}return{re:i,score:s,keys:l,parse:a,stringify:c}}function ey(e,t){let o=0;for(;o<e.length&&o<t.length;){const s=t[o]-e[o];if(s)return s;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ty(e,t){let o=0;const s=e.score,r=t.score;for(;o<s.length&&o<r.length;){const l=ey(s[o],r[o]);if(l)return l;o++}return r.length-s.length}const ny={type:0,value:""},oy=/[a-zA-Z0-9_]/;function sy(e){if(!e)return[[]];if(e==="/")return[[ny]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${o})/"${u}": ${m}`)}let o=0,s=o;const r=[];let l;function i(){l&&r.push(l),l=[]}let a=0,c,u="",p="";function h(){!u||(o===0?l.push({type:0,value:u}):o===1||o===2||o===3?(l.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:u,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&o!==2){s=o,o=4;continue}switch(o){case 0:c==="/"?(u&&h(),i()):c===":"?(h(),o=1):d();break;case 4:d(),o=s;break;case 1:c==="("?o=2:oy.test(c)?d():(h(),o=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:o=3:p+=c;break;case 3:h(),o=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,p="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),i(),r}function ry(e,t,o){const s=Q2(sy(e.path),o),r=Be(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function ly(e,t){const o=[],s=new Map;t=Oa({strict:!1,end:!0,sensitive:!1},t);function r(p){return s.get(p)}function l(p,h,d){const m=!d,g=ay(p);g.aliasOf=d&&d.record;const F=Oa(t,p),v=[g];if("alias"in p){const k=typeof p.alias=="string"?[p.alias]:p.alias;for(const E of k)v.push(Be({},g,{components:d?d.record.components:g.components,path:E,aliasOf:d?d.record:g}))}let S,x;for(const k of v){const{path:E}=k;if(h&&E[0]!=="/"){const R=h.record.path,P=R[R.length-1]==="/"?"":"/";k.path=h.record.path+(E&&P+E)}if(S=ry(k,h,F),d?d.alias.push(S):(x=x||S,x!==S&&x.alias.push(S),m&&p.name&&!$a(S)&&i(p.name)),"children"in g){const R=g.children;for(let P=0;P<R.length;P++)l(R[P],S,d&&d.children[P])}d=d||S,c(S)}return x?()=>{i(x)}:Eo}function i(p){if(Du(p)){const h=s.get(p);h&&(s.delete(p),o.splice(o.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=o.indexOf(p);h>-1&&(o.splice(h,1),p.record.name&&s.delete(p.record.name),p.children.forEach(i),p.alias.forEach(i))}}function a(){return o}function c(p){let h=0;for(;h<o.length&&ty(p,o[h])>=0&&(p.record.path!==o[h].record.path||!zu(p,o[h]));)h++;o.splice(h,0,p),p.record.name&&!$a(p)&&s.set(p.record.name,p)}function u(p,h){let d,m={},g,F;if("name"in p&&p.name){if(d=s.get(p.name),!d)throw Qn(1,{location:p});F=d.record.name,m=Be(iy(h.params,d.keys.filter(x=>!x.optional).map(x=>x.name)),p.params),g=d.stringify(m)}else if("path"in p)g=p.path,d=o.find(x=>x.re.test(g)),d&&(m=d.parse(g),F=d.record.name);else{if(d=h.name?s.get(h.name):o.find(x=>x.re.test(h.path)),!d)throw Qn(1,{location:p,currentLocation:h});F=d.record.name,m=Be({},h.params,p.params),g=d.stringify(m)}const v=[];let S=d;for(;S;)v.unshift(S.record),S=S.parent;return{name:F,path:g,params:m,matched:v,meta:uy(v)}}return e.forEach(p=>l(p)),{addRoute:l,resolve:u,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function iy(e,t){const o={};for(const s of t)s in e&&(o[s]=e[s]);return o}function ay(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:cy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function cy(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const s in e.components)t[s]=typeof o=="boolean"?o:o[s];return t}function $a(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function uy(e){return e.reduce((t,o)=>Be(t,o.meta),{})}function Oa(e,t){const o={};for(const s in e)o[s]=s in t?t[s]:e[s];return o}function zu(e,t){return t.children.some(o=>o===e||zu(e,o))}const ju=/#/g,py=/&/g,dy=/\//g,fy=/=/g,hy=/\?/g,Hu=/\+/g,my=/%5B/g,yy=/%5D/g,Vu=/%5E/g,gy=/%60/g,Uu=/%7B/g,by=/%7C/g,Xu=/%7D/g,_y=/%20/g;function Zl(e){return encodeURI(""+e).replace(by,"|").replace(my,"[").replace(yy,"]")}function vy(e){return Zl(e).replace(Uu,"{").replace(Xu,"}").replace(Vu,"^")}function il(e){return Zl(e).replace(Hu,"%2B").replace(_y,"+").replace(ju,"%23").replace(py,"%26").replace(gy,"`").replace(Uu,"{").replace(Xu,"}").replace(Vu,"^")}function Fy(e){return il(e).replace(fy,"%3D")}function wy(e){return Zl(e).replace(ju,"%23").replace(hy,"%3F")}function xy(e){return e==null?"":wy(e).replace(dy,"%2F")}function Ps(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ky(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const l=s[r].replace(Hu," "),i=l.indexOf("="),a=Ps(i<0?l:l.slice(0,i)),c=i<0?null:Ps(l.slice(i+1));if(a in t){let u=t[a];Array.isArray(u)||(u=t[a]=[u]),u.push(c)}else t[a]=c}return t}function Aa(e){let t="";for(let o in e){const s=e[o];if(o=Fy(o),s==null){s!==void 0&&(t+=(t.length?"&":"")+o);continue}(Array.isArray(s)?s.map(l=>l&&il(l)):[s&&il(s)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+o,l!=null&&(t+="="+l))})}return t}function Cy(e){const t={};for(const o in e){const s=e[o];s!==void 0&&(t[o]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}function fo(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function o(){e=[]}return{add:t,list:()=>e,reset:o}}function Qt(e,t,o,s,r){const l=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((i,a)=>{const c=h=>{h===!1?a(Qn(4,{from:o,to:t})):h instanceof Error?a(h):Y2(h)?a(Qn(2,{from:t,to:h})):(l&&s.enterCallbacks[r]===l&&typeof h=="function"&&l.push(h),i())},u=e.call(s&&s.instances[r],t,o,c);let p=Promise.resolve(u);e.length<3&&(p=p.then(c)),p.catch(h=>a(h))})}function wr(e,t,o,s){const r=[];for(const l of e)for(const i in l.components){let a=l.components[i];if(!(t!=="beforeRouteEnter"&&!l.instances[i]))if(Ey(a)){const u=(a.__vccOpts||a)[t];u&&r.push(Qt(u,o,s,l,i))}else{let c=a();r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${l.path}"`));const p=I2(u)?u.default:u;l.components[i]=p;const d=(p.__vccOpts||p)[t];return d&&Qt(d,o,s,l,i)()}))}}return r}function Ey(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ia(e){const t=H(Yl),o=H(Tu),s=$(()=>t.resolve(_(e.to))),r=$(()=>{const{matched:c}=s.value,{length:u}=c,p=c[u-1],h=o.matched;if(!p||!h.length)return-1;const d=h.findIndex(Jn.bind(null,p));if(d>-1)return d;const m=Pa(c[u-2]);return u>1&&Pa(p)===m&&h[h.length-1].path!==m?h.findIndex(Jn.bind(null,c[u-2])):d}),l=$(()=>r.value>-1&&Oy(o.params,s.value.params)),i=$(()=>r.value>-1&&r.value===o.matched.length-1&&Lu(o.params,s.value.params));function a(c={}){return $y(c)?t[_(e.replace)?"replace":"push"](_(e.to)).catch(Eo):Promise.resolve()}return{route:s,href:$(()=>s.value.href),isActive:l,isExactActive:i,navigate:a}}const Sy=Oe({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ia,setup(e,{slots:t}){const o=Le(Ia(e)),{options:s}=H(Yl),r=$(()=>({[Ma(e.activeClass,s.linkActiveClass,"router-link-active")]:o.isActive,[Ma(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const l=t.default&&t.default(o);return e.custom?l:$t("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:r.value},l)}}}),By=Sy;function $y(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Oy(e,t){for(const o in t){const s=t[o],r=e[o];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((l,i)=>l!==r[i]))return!1}return!0}function Pa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ma=(e,t,o)=>e!=null?e:t!=null?t:o,Ay=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const s=H(rl),r=$(()=>e.route||s.value),l=H(wa,0),i=$(()=>r.value.matched[l]);pt(wa,l+1),pt(A2,i),pt(rl,r);const a=z();return ae(()=>[a.value,i.value,e.name],([c,u,p],[h,d,m])=>{u&&(u.instances[p]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Jn(u,d)||!h)&&(u.enterCallbacks[p]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=i.value,p=u&&u.components[e.name],h=e.name;if(!p)return Ta(o.default,{Component:p,route:c});const d=u.props[e.name],m=d?d===!0?c.params:typeof d=="function"?d(c):d:null,F=$t(p,Be({},m,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(u.instances[h]=null)},ref:a}));return Ta(o.default,{Component:F,route:c})||F}}});function Ta(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const Iy=Ay;function Py(e){const t=ly(e.routes,e),o=e.parseQuery||ky,s=e.stringifyQuery||Aa,r=e.history,l=fo(),i=fo(),a=fo(),c=Nt(Wt);let u=Wt;Nn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=vr.bind(null,B=>""+B),h=vr.bind(null,xy),d=vr.bind(null,Ps);function m(B,U){let M,G;return Du(B)?(M=t.getRecordMatcher(B),G=U):G=B,t.addRoute(G,M)}function g(B){const U=t.getRecordMatcher(B);U&&t.removeRoute(U)}function F(){return t.getRoutes().map(B=>B.record)}function v(B){return!!t.getRecordMatcher(B)}function S(B,U){if(U=Be({},U||c.value),typeof B=="string"){const le=Fr(o,B,U.path),y=t.resolve({path:le.path},U),b=r.createHref(le.fullPath);return Be(le,y,{params:d(y.params),hash:Ps(le.hash),redirectedFrom:void 0,href:b})}let M;if("path"in B)M=Be({},B,{path:Fr(o,B.path,U.path).path});else{const le=Be({},B.params);for(const y in le)le[y]==null&&delete le[y];M=Be({},B,{params:h(B.params)}),U.params=h(U.params)}const G=t.resolve(M,U),ge=B.hash||"";G.params=p(d(G.params));const Ie=T2(s,Be({},B,{hash:vy(ge),path:G.path})),ue=r.createHref(Ie);return Be({fullPath:Ie,hash:ge,query:s===Aa?Cy(B.query):B.query||{}},G,{redirectedFrom:void 0,href:ue})}function x(B){return typeof B=="string"?Fr(o,B,c.value.path):Be({},B)}function k(B,U){if(u!==B)return Qn(8,{from:U,to:B})}function E(B){return V(B)}function R(B){return E(Be(x(B),{replace:!0}))}function P(B){const U=B.matched[B.matched.length-1];if(U&&U.redirect){const{redirect:M}=U;let G=typeof M=="function"?M(B):M;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=x(G):{path:G},G.params={}),Be({query:B.query,hash:B.hash,params:B.params},G)}}function V(B,U){const M=u=S(B),G=c.value,ge=B.state,Ie=B.force,ue=B.replace===!0,le=P(M);if(le)return V(Be(x(le),{state:ge,force:Ie,replace:ue}),U||M);const y=M;y.redirectedFrom=U;let b;return!Ie&&L2(s,G,M)&&(b=Qn(16,{to:y,from:G}),It(G,G,!0,!1)),(b?Promise.resolve(b):ce(y,G)).catch(w=>Yt(w)?Yt(w,2)?w:fe(w):te(w,y,G)).then(w=>{if(w){if(Yt(w,2))return V(Be(x(w.to),{state:ge,force:Ie,replace:ue}),U||y)}else w=me(y,G,!0,ue,ge);return de(y,G,w),w})}function oe(B,U){const M=k(B,U);return M?Promise.reject(M):Promise.resolve()}function ce(B,U){let M;const[G,ge,Ie]=My(B,U);M=wr(G.reverse(),"beforeRouteLeave",B,U);for(const le of G)le.leaveGuards.forEach(y=>{M.push(Qt(y,B,U))});const ue=oe.bind(null,B,U);return M.push(ue),Pn(M).then(()=>{M=[];for(const le of l.list())M.push(Qt(le,B,U));return M.push(ue),Pn(M)}).then(()=>{M=wr(ge,"beforeRouteUpdate",B,U);for(const le of ge)le.updateGuards.forEach(y=>{M.push(Qt(y,B,U))});return M.push(ue),Pn(M)}).then(()=>{M=[];for(const le of B.matched)if(le.beforeEnter&&!U.matched.includes(le))if(Array.isArray(le.beforeEnter))for(const y of le.beforeEnter)M.push(Qt(y,B,U));else M.push(Qt(le.beforeEnter,B,U));return M.push(ue),Pn(M)}).then(()=>(B.matched.forEach(le=>le.enterCallbacks={}),M=wr(Ie,"beforeRouteEnter",B,U),M.push(ue),Pn(M))).then(()=>{M=[];for(const le of i.list())M.push(Qt(le,B,U));return M.push(ue),Pn(M)}).catch(le=>Yt(le,8)?le:Promise.reject(le))}function de(B,U,M){for(const G of a.list())G(B,U,M)}function me(B,U,M,G,ge){const Ie=k(B,U);if(Ie)return Ie;const ue=U===Wt,le=Nn?history.state:{};M&&(G||ue?r.replace(B.fullPath,Be({scroll:ue&&le&&le.scroll},ge)):r.push(B.fullPath,ge)),c.value=B,It(B,U,M,ue),fe()}let Te;function Ne(){Te||(Te=r.listen((B,U,M)=>{const G=S(B),ge=P(G);if(ge){V(Be(ge,{replace:!0}),G).catch(Eo);return}u=G;const Ie=c.value;Nn&&U2(Ca(Ie.fullPath,M.delta),nr()),ce(G,Ie).catch(ue=>Yt(ue,12)?ue:Yt(ue,2)?(V(ue.to,G).then(le=>{Yt(le,20)&&!M.delta&&M.type===jo.pop&&r.go(-1,!1)}).catch(Eo),Promise.reject()):(M.delta&&r.go(-M.delta,!1),te(ue,G,Ie))).then(ue=>{ue=ue||me(G,Ie,!1),ue&&(M.delta?r.go(-M.delta,!1):M.type===jo.pop&&Yt(ue,20)&&r.go(-1,!1)),de(G,Ie,ue)}).catch(Eo)}))}let Ke=fo(),Ce=fo(),Q;function te(B,U,M){fe(B);const G=Ce.list();return G.length?G.forEach(ge=>ge(B,U,M)):console.error(B),Promise.reject(B)}function J(){return Q&&c.value!==Wt?Promise.resolve():new Promise((B,U)=>{Ke.add([B,U])})}function fe(B){return Q||(Q=!B,Ne(),Ke.list().forEach(([U,M])=>B?M(B):U()),Ke.reset()),B}function It(B,U,M,G){const{scrollBehavior:ge}=e;if(!Nn||!ge)return Promise.resolve();const Ie=!M&&X2(Ca(B.fullPath,0))||(G||!M)&&history.state&&history.state.scroll||null;return Ge().then(()=>ge(B,U,Ie)).then(ue=>ue&&V2(ue)).catch(ue=>te(ue,B,U))}const Ye=B=>r.go(B);let yt;const nt=new Set;return{currentRoute:c,addRoute:m,removeRoute:g,hasRoute:v,getRoutes:F,resolve:S,options:e,push:E,replace:R,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:l.add,beforeResolve:i.add,afterEach:a.add,onError:Ce.add,isReady:J,install(B){const U=this;B.component("RouterLink",By),B.component("RouterView",Iy),B.config.globalProperties.$router=U,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>_(c)}),Nn&&!yt&&c.value===Wt&&(yt=!0,E(r.location).catch(ge=>{}));const M={};for(const ge in Wt)M[ge]=$(()=>c.value[ge]);B.provide(Yl,U),B.provide(Tu,Le(M)),B.provide(rl,c);const G=B.unmount;nt.add(B),B.unmount=function(){nt.delete(B),nt.size<1&&(u=Wt,Te&&Te(),Te=null,c.value=Wt,yt=!1,Q=!1),G()}}}}function Pn(e){return e.reduce((t,o)=>t.then(()=>o()),Promise.resolve())}function My(e,t){const o=[],s=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let i=0;i<l;i++){const a=t.matched[i];a&&(e.matched.find(u=>Jn(u,a))?s.push(a):o.push(a));const c=e.matched[i];c&&(t.matched.find(u=>Jn(u,c))||r.push(c))}return[o,s,r]}const xr=z(!1),Bo=z(!1),jn=z(!1),Ty=z(!0),al=o2(be({xs:460},Jm)),kn=O2(),Gu=k2(),Ly=$(()=>kn.height.value-kn.width.value/on>180),Ku=F2(vt?document.body:null),Kn=Zm(),Ry=$(()=>{var e,t;return["INPUT","TEXTAREA"].includes(((e=Kn.value)==null?void 0:e.tagName)||"")||((t=Kn.value)==null?void 0:t.classList.contains("CodeMirror-code"))}),Dy=$(()=>{var e;return["BUTTON","A"].includes(((e=Kn.value)==null?void 0:e.tagName)||"")});At("slidev-camera","default");At("slidev-mic","default");const _s=At("slidev-scale",0),Qe=At("slidev-show-overview",!1),kr=At("slidev-presenter-cursor",!0),La=At("slidev-show-editor",!1);At("slidev-editor-width",vt?window.innerWidth*.4:100);const qu=Ou(Qe);function Ra(e,t,o,s=r=>r){return e*s(.5-t*(.5-o))}function Ny(e){return[-e[0],-e[1]]}function kt(e,t){return[e[0]+t[0],e[1]+t[1]]}function _t(e,t){return[e[0]-t[0],e[1]-t[1]]}function xt(e,t){return[e[0]*t,e[1]*t]}function zy(e,t){return[e[0]/t,e[1]/t]}function ho(e){return[e[1],-e[0]]}function jy(e,t){return e[0]*t[0]+e[1]*t[1]}function Hy(e,t){return e[0]===t[0]&&e[1]===t[1]}function Vy(e){return Math.hypot(e[0],e[1])}function Uy(e){return e[0]*e[0]+e[1]*e[1]}function Da(e,t){return Uy(_t(e,t))}function Wu(e){return zy(e,Vy(e))}function Xy(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function mo(e,t,o){let s=Math.sin(o),r=Math.cos(o),l=e[0]-t[0],i=e[1]-t[1],a=l*r-i*s,c=l*s+i*r;return[a+t[0],c+t[1]]}function cl(e,t,o){return kt(e,xt(_t(t,e),o))}function Na(e,t,o){return kt(e,xt(t,o))}var{min:Mn,PI:Gy}=Math,za=.275,yo=Gy+1e-4;function Ky(e,t={}){let{size:o=16,smoothing:s=.5,thinning:r=.5,simulatePressure:l=!0,easing:i=Q=>Q,start:a={},end:c={},last:u=!1}=t,{cap:p=!0,easing:h=Q=>Q*(2-Q)}=a,{cap:d=!0,easing:m=Q=>--Q*Q*Q+1}=c;if(e.length===0||o<=0)return[];let g=e[e.length-1].runningLength,F=a.taper===!1?0:a.taper===!0?Math.max(o,g):a.taper,v=c.taper===!1?0:c.taper===!0?Math.max(o,g):c.taper,S=Math.pow(o*s,2),x=[],k=[],E=e.slice(0,10).reduce((Q,te)=>{let J=te.pressure;if(l){let fe=Mn(1,te.distance/o),It=Mn(1,1-fe);J=Mn(1,Q+(It-Q)*(fe*za))}return(Q+J)/2},e[0].pressure),R=Ra(o,r,e[e.length-1].pressure,i),P,V=e[0].vector,oe=e[0].point,ce=oe,de=oe,me=ce;for(let Q=0;Q<e.length;Q++){let{pressure:te}=e[Q],{point:J,vector:fe,distance:It,runningLength:Ye}=e[Q];if(Q<e.length-1&&g-Ye<3)continue;if(r){if(l){let M=Mn(1,It/o),G=Mn(1,1-M);te=Mn(1,E+(G-E)*(M*za))}R=Ra(o,r,te,i)}else R=o/2;P===void 0&&(P=R);let yt=Ye<F?h(Ye/F):1,nt=g-Ye<v?m((g-Ye)/v):1;if(R=Math.max(.01,R*Math.min(yt,nt)),Q===e.length-1){let M=xt(ho(fe),R);x.push(_t(J,M)),k.push(kt(J,M));continue}let On=e[Q+1].vector,B=jy(fe,On);if(B<0){let M=xt(ho(V),R);for(let G=1/13,ge=0;ge<=1;ge+=G)de=mo(_t(J,M),J,yo*ge),x.push(de),me=mo(kt(J,M),J,yo*-ge),k.push(me);oe=de,ce=me;continue}let U=xt(ho(cl(On,fe,B)),R);de=_t(J,U),(Q<=1||Da(oe,de)>S)&&(x.push(de),oe=de),me=kt(J,U),(Q<=1||Da(ce,me)>S)&&(k.push(me),ce=me),E=te,V=fe}let Te=e[0].point.slice(0,2),Ne=e.length>1?e[e.length-1].point.slice(0,2):kt(e[0].point,[1,1]),Ke=[],Ce=[];if(e.length===1){if(!(F||v)||u){let Q=Na(Te,Wu(ho(_t(Te,Ne))),-(P||R)),te=[];for(let J=1/13,fe=J;fe<=1;fe+=J)te.push(mo(Q,Te,yo*2*fe));return te}}else{if(!(F||v&&e.length===1))if(p)for(let te=1/13,J=te;J<=1;J+=te){let fe=mo(k[0],Te,yo*J);Ke.push(fe)}else{let te=_t(x[0],k[0]),J=xt(te,.5),fe=xt(te,.51);Ke.push(_t(Te,J),_t(Te,fe),kt(Te,fe),kt(Te,J))}let Q=ho(Ny(e[e.length-1].vector));if(v||F&&e.length===1)Ce.push(Ne);else if(d){let te=Na(Ne,Q,R);for(let J=1/29,fe=J;fe<1;fe+=J)Ce.push(mo(te,Ne,yo*3*fe))}else Ce.push(kt(Ne,xt(Q,R)),kt(Ne,xt(Q,R*.99)),_t(Ne,xt(Q,R*.99)),_t(Ne,xt(Q,R)))}return x.concat(Ce,k.reverse(),Ke)}function qy(e,t={}){var o;let{streamline:s=.5,size:r=16,last:l=!1}=t;if(e.length===0)return[];let i=.15+(1-s)*.85,a=Array.isArray(e[0])?e:e.map(({x:m,y:g,pressure:F=.5})=>[m,g,F]);if(a.length===2){let m=a[1];a=a.slice(0,-1);for(let g=1;g<5;g++)a.push(cl(a[0],m,g/4))}a.length===1&&(a=[...a,[...kt(a[0],[1,1]),...a[0].slice(2)]]);let c=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,p=0,h=c[0],d=a.length-1;for(let m=1;m<a.length;m++){let g=l&&m===d?a[m].slice(0,2):cl(h.point,a[m],i);if(Hy(h.point,g))continue;let F=Xy(g,h.point);if(p+=F,m<d&&!u){if(p<r)continue;u=!0}h={point:g,pressure:a[m][2]>=0?a[m][2]:.5,vector:Wu(_t(h.point,g)),distance:F,runningLength:p},c.push(h)}return c[0].vector=((o=c[1])==null?void 0:o.vector)||[0,0],c}function Wy(e,t={}){return Ky(qy(e,t),t)}var Yy=Wy,Zy=Object.defineProperty,ja=Object.getOwnPropertySymbols,Jy=Object.prototype.hasOwnProperty,Qy=Object.prototype.propertyIsEnumerable,Ha=(e,t,o)=>t in e?Zy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,ul=(e,t)=>{for(var o in t||(t={}))Jy.call(t,o)&&Ha(e,o,t[o]);if(ja)for(var o of ja(t))Qy.call(t,o)&&Ha(e,o,t[o]);return e},eg=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(o=>o(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(o=>o!==t)}});function Ms(e,t){return e-t}function tg(e){return e<0?-1:1}function Ts(e){return[Math.abs(e),tg(e)]}function Yu(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var ng=2,jt=ng,lo=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var t,o;const s=this.drauu.el,r=(t=this.drauu.options.coordinateScale)!=null?t:1;if(this.drauu.options.coordinateTransform===!1){const l=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-l.left)*r,y:(e.pageY-l.top)*r,pressure:e.pressure}}else{const l=this.drauu.svgPoint;l.x=e.clientX,l.y=e.clientY;const i=l.matrixTransform((o=s.getScreenCTM())==null?void 0:o.inverse());return{x:i.x*r,y:i.y*r,pressure:e.pressure}}}createElement(e,t){var o;const s=document.createElementNS("http://www.w3.org/2000/svg",e),r=t?ul(ul({},this.brush),t):this.brush;return s.setAttribute("fill",(o=r.fill)!=null?o:"transparent"),s.setAttribute("stroke",r.color),s.setAttribute("stroke-width",r.size.toString()),s.setAttribute("stroke-linecap","round"),r.dasharray&&s.setAttribute("stroke-dasharray",r.dasharray),s}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(jt))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},og=class extends lo{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){const t=Yy(e,ul({size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},this.brush.stylusOptions));if(!t.length)return"";const o=t.reduce((s,[r,l],i,a)=>{const[c,u]=a[(i+1)%a.length];return s.push(r,l,(r+c)/2,(l+u)/2),s},["M",...t[0],"Q"]);return o.push("Z"),o.map(s=>typeof s=="number"?s.toFixed(2):s).join(" ")}},sg=class extends lo{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,o]=Ts(e.x-this.start.x),[s,r]=Ts(e.y-this.start.y);if(this.shiftPressed){const l=Math.min(t,s);t=l,s=l}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",s);else{const[l,i]=[this.start.x,this.start.x+t*o].sort(Ms),[a,c]=[this.start.y,this.start.y+s*r].sort(Ms);this.attr("cx",(l+i)/2),this.attr("cy",(a+c)/2),this.attr("rx",(i-l)/2),this.attr("ry",(c-a)/2)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function Zu(e,t){const o=document.createElementNS("http://www.w3.org/2000/svg","defs"),s=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",t),s.setAttribute("id",e),s.setAttribute("viewBox","0 -5 10 10"),s.setAttribute("refX","5"),s.setAttribute("refY","0"),s.setAttribute("markerWidth","4"),s.setAttribute("markerHeight","4"),s.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),s.appendChild(r),o.appendChild(s),o}var rg=class extends lo{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Yu(),o=document.createElementNS("http://www.w3.org/2000/svg","g");return o.append(Zu(t,this.brush.color)),o.append(this.el),this.attr("marker-end",`url(#${t})`),o}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:o}=e;if(this.shiftPressed){const s=e.x-this.start.x,r=e.y-this.start.y;if(r!==0){let l=s/r;l=Math.round(l),Math.abs(l)<=1?(t=this.start.x+r*l,o=this.start.y+r):(t=this.start.x+s,o=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-o),this.attr("x2",t),this.attr("y2",o)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",o)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||e.getTotalLength()<5)}},lg=class extends lo{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,o]=Ts(e.x-this.start.x),[s,r]=Ts(e.y-this.start.y);if(this.shiftPressed){const l=Math.min(t,s);t=l,s=l}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-s),this.attr("width",t*2),this.attr("height",s*2);else{const[l,i]=[this.start.x,this.start.x+t*o].sort(Ms),[a,c]=[this.start.y,this.start.y+s*r].sort(Ms);this.attr("x",l),this.attr("y",a),this.attr("width",i-l),this.attr("height",c-a)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function ig(e,t){const o=e.x-t.x,s=e.y-t.y;return o*o+s*s}function ag(e,t,o){let s=t.x,r=t.y,l=o.x-s,i=o.y-r;if(l!==0||i!==0){const a=((e.x-s)*l+(e.y-r)*i)/(l*l+i*i);a>1?(s=o.x,r=o.y):a>0&&(s+=l*a,r+=i*a)}return l=e.x-s,i=e.y-r,l*l+i*i}function cg(e,t){let o=e[0];const s=[o];let r;for(let l=1,i=e.length;l<i;l++)r=e[l],ig(r,o)>t&&(s.push(r),o=r);return o!==r&&r&&s.push(r),s}function pl(e,t,o,s,r){let l=s,i=0;for(let a=t+1;a<o;a++){const c=ag(e[a],e[t],e[o]);c>l&&(i=a,l=c)}l>s&&(i-t>1&&pl(e,t,i,s,r),r.push(e[i]),o-i>1&&pl(e,i,o,s,r))}function ug(e,t){const o=e.length-1,s=[e[0]];return pl(e,0,o,t,s),s.push(e[o]),s}function Va(e,t,o=!1){if(e.length<=2)return e;const s=t!==void 0?t*t:1;return e=o?e:cg(e,s),e=ug(e,s),e}var pg=class extends lo{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=Yu();const t=Zu(this.arrowId,this.brush.color);this.el.appendChild(t)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=Va(this.points,1,!0),this.count=0),this.attr("d",Xa(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||(e.setAttribute("d",Xa(Va(this.points,1,!0))),!e.getTotalLength()))}};function dg(e,t){const o=t.x-e.x,s=t.y-e.y;return{length:Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),angle:Math.atan2(s,o)}}function Ua(e,t,o,s){const r=t||e,l=o||e,i=.2,a=dg(r,l),c=a.angle+(s?Math.PI:0),u=a.length*i,p=e.x+Math.cos(c)*u,h=e.y+Math.sin(c)*u;return{x:p,y:h}}function fg(e,t,o){const s=Ua(o[t-1],o[t-2],e),r=Ua(e,o[t-1],o[t+1],!0);return`C ${s.x.toFixed(jt)},${s.y.toFixed(jt)} ${r.x.toFixed(jt)},${r.y.toFixed(jt)} ${e.x.toFixed(jt)},${e.y.toFixed(jt)}`}function Xa(e){return e.reduce((t,o,s,r)=>s===0?`M ${o.x.toFixed(jt)},${o.y.toFixed(jt)}`:`${t} ${fg(o,s,r)}`,"")}var hg=class extends lo{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(e){const t=(o,s)=>{if(o&&o.length)for(let r=0;r<o.length;r++){const l=o[r];if(l.getTotalLength){const i=l.getTotalLength();for(let a=0;a<this.pathSubFactor;a++){const c=l.getPointAtLength(i*a/this.pathSubFactor),u=l.getPointAtLength(i*(a+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:u.x,y1:c.y,y2:u.y,segment:a,element:s||l})}}else l.children&&t(l.children,l)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const e=[];if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const o=this.pathFragments[t],s={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(o,s)&&(o.element.remove(),e.push(t))}return e.length&&(this.pathFragments=this.pathFragments.filter((t,o)=>!e.includes(o))),e.length>0}lineLineIntersect(e,t){const o=e.x1,s=e.x2,r=t.x1,l=t.x2,i=e.y1,a=e.y2,c=t.y1,u=t.y2,p=(o-s)*(c-u)-(i-a)*(r-l),h=(o*a-i*s)*(r-l)-(o-s)*(r*u-c*l),d=(o*a-i*s)*(c-u)-(i-a)*(r*u-c*l),m=(g,F,v)=>g>=F&&g<=v?!0:g>=v&&g<=F;if(p===0)return!1;{const g={x:h/p,y:d/p};return m(g.x,o,s)&&m(g.y,i,a)&&m(g.x,r,l)&&m(g.y,c,u)}}};function mg(e){return{draw:new pg(e),stylus:new og(e),line:new rg(e),rectangle:new lg(e),ellipse:new sg(e),eraseLine:new hg(e)}}var yg=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=eg(),this._models=mg(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const o=this.resolveSelector(t)||this.el,s=this.eventStart.bind(this),r=this.eventMove.bind(this),l=this.eventEnd.bind(this),i=this.eventKeyboard.bind(this);o.addEventListener("pointerdown",s,{passive:!1}),window.addEventListener("pointermove",r,{passive:!1}),window.addEventListener("pointerup",l,{passive:!1}),window.addEventListener("pointercancel",l,{passive:!1}),window.addEventListener("keydown",i,!1),window.addEventListener("keyup",i,!1),this._disposables.push(()=>{o.removeEventListener("pointerdown",s),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",l),window.removeEventListener("keydown",i,!1),window.removeEventListener("keyup",i,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){const e=this.el;return e.lastElementChild?(this._undoStack.push(e.lastElementChild.cloneNode(!0)),e.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var e;return!!((e=this.el)!=null&&e.lastElementChild)}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){!this.acceptsInput(e)||(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);t?(t instanceof Element&&t!==this._currentNode&&(this._currentNode=t),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(e){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}};function gg(e){return new yg(e)}const dl=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Rt=At("slidev-drawing-enabled",!1),Bk=At("slidev-drawing-pinned",!1),bg=z(!1),_g=z(!1),vg=z(!1),Ho=z(!1),_n=gm(At("slidev-drawing-brush",{color:dl[0],size:4,mode:"stylus"})),Ga=z("stylus"),Ju=$(()=>Fe.drawings.syncAll||Tt.value);let Vo=!1;const go=$({get(){return Ga.value},set(e){Ga.value=e,e==="arrow"?(_n.mode="line",_n.arrowEnd=!0):(_n.mode=e,_n.arrowEnd=!1)}}),Fg=Le({brush:_n,acceptsInputTypes:$(()=>Rt.value?void 0:["pen"]),coordinateTransform:!1}),et=Gs(gg(Fg));function wg(){et.clear(),Ju.value&&Su(He.value,"")}function Qu(){var e;_g.value=et.canRedo(),bg.value=et.canUndo(),vg.value=!!((e=et.el)!=null&&e.children.length)}function xg(e){Vo=!0;const t=Os[e||He.value];t!=null?et.load(t):et.clear(),Vo=!1}et.on("changed",()=>{if(Qu(),!Vo){const e=et.dump(),t=He.value;(Os[t]||"")!==e&&Ju.value&&Su(t,et.dump())}});fm(e=>{Vo=!0,e[He.value]!=null&&et.load(e[He.value]||""),Vo=!1,Qu()});Ge(()=>{ae(He,()=>{!et.mounted||xg()},{immediate:!0})});et.on("start",()=>Ho.value=!0);et.on("end",()=>Ho.value=!1);window.addEventListener("keydown",e=>{if(!Rt.value)return;const t=!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey;let o=!0;e.code==="KeyZ"&&(e.ctrlKey||e.metaKey)?e.shiftKey?et.redo():et.undo():e.code==="Escape"?Rt.value=!1:e.code==="KeyL"&&t?go.value="line":e.code==="KeyA"&&t?go.value="arrow":e.code==="KeyS"&&t?go.value="stylus":e.code==="KeyR"&&t?go.value="rectangle":e.code==="KeyE"&&t?go.value="ellipse":e.code==="KeyC"&&t?wg():e.code.startsWith("Digit")&&t&&+e.code[5]<=dl.length?_n.color=dl[+e.code[5]-1]:o=!1,o&&(e.preventDefault(),e.stopPropagation())},!1);const Ka=a2(),Cr=At("slidev-color-schema","auto"),fl=$(()=>Fe.colorSchema!=="auto"),Jl=$({get(){return fl.value?Fe.colorSchema==="dark":Cr.value==="auto"?Ka.value:Cr.value==="dark"},set(e){fl.value||(Cr.value=e===Ka.value?"auto":e?"dark":"light")}}),ep=Ou(Jl);vt&&ae(Jl,e=>{const t=document.querySelector("html");t.classList.toggle("dark",e),t.classList.toggle("light",!e)},{immediate:!0});function kg(){return[]}const vs=z(1),Fs=$(()=>je.length-1),ft=z(0),Ql=z(0);function Cg(){ft.value>vs.value&&(ft.value-=1)}function Eg(){ft.value<Fs.value&&(ft.value+=1)}function Sg(){if(ft.value>vs.value){let e=ft.value-Ql.value;e<vs.value&&(e=vs.value),ft.value=e}}function Bg(){if(ft.value<Fs.value){let e=ft.value+Ql.value;e>Fs.value&&(e=Fs.value),ft.value=e}}const tp=ze(at(Ry),at(Dy),Ty);function $g(e,t,o=!1){typeof e=="string"&&(e=Gu[e]);const s=ze(e,tp);let r=0,l;const i=()=>{if(clearTimeout(l),!s.value){r=0;return}o&&(l=setTimeout(i,Math.max(1e3-r*250,150)),r++),t()};return ae(s,i,{flush:"sync"})}function Og(e,t){return Ym(e,o=>{!tp.value||o.repeat||t()})}function Ag(){const e=kg(),{escape:t,space:o,shift:s,left:r,right:l,up:i,down:a,enter:c,d:u,g:p,o:h}=Gu;new Map([{key:ze(o,at(s)),fn:rn,autoRepeat:!0},{key:ze(o,s),fn:ln,autoRepeat:!0},{key:ze(l,at(s),at(Qe)),fn:rn,autoRepeat:!0},{key:ze(r,at(s),at(Qe)),fn:ln,autoRepeat:!0},{key:"pageDown",fn:rn,autoRepeat:!0},{key:"pageUp",fn:ln,autoRepeat:!0},{key:ze(i,at(Qe)),fn:()=>Xo(!1),autoRepeat:!0},{key:ze(a,at(Qe)),fn:Uo,autoRepeat:!0},{key:ze(r,s),fn:()=>Xo(!1),autoRepeat:!0},{key:ze(l,s),fn:Uo,autoRepeat:!0},{key:ze(u,at(Rt)),fn:ep},{key:ze(h,at(Rt)),fn:qu},{key:ze(t,at(Rt)),fn:()=>Qe.value=!1},{key:ze(p,at(Rt)),fn:()=>jn.value=!jn.value},{key:ze(r,Qe),fn:Cg},{key:ze(l,Qe),fn:Eg},{key:ze(i,Qe),fn:Sg},{key:ze(a,Qe),fn:Bg},{key:ze(c,Qe),fn:()=>{eo(ft.value),Qe.value=!1}},...e].map(m=>[m.key,m])).forEach(m=>{m.fn&&$g(m.key,m.fn,m.autoRepeat)}),Og("f",()=>Ku.toggle())}const Ig={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Pg=n("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),Mg=[Pg];function Tg(e,t){return C(),j("svg",Ig,Mg)}var Lg={name:"carbon-close",render:Tg};function ei(e){var o,s;const t=(s=(o=e==null?void 0:e.meta)==null?void 0:o.slide)==null?void 0:s.no;return t!=null?`slidev-page-${t}`:""}const np=Oe({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(e){const t=e;H(q);const o=z(),s=v2(o),r=$(()=>t.width?t.width:s.width.value),l=$(()=>t.width?t.width/on:s.height.value);t.width&&Zs(()=>{o.value&&(o.value.style.width=`${r.value}px`,o.value.style.height=`${l.value}px`)});const i=$(()=>r.value/l.value),a=$(()=>t.scale?t.scale:i.value<on?r.value/xn:l.value*on/xn),c=$(()=>({height:`${ku}px`,width:`${xn}px`,transform:`translate(-50%, -50%) scale(${a.value})`})),u=$(()=>({"select-none":!Fe.selectable,"slidev-code-line-numbers":Fe.lineNumbers}));return pt(xu,a),(p,h)=>(C(),j("div",{id:"slide-container",ref_key:"root",ref:o,class:Re(_(u))},[n("div",{id:"slide-content",style:rt(_(c))},[Xt(p.$slots,"default")],4),Xt(p.$slots,"controls")],2))}});var ti=Oe({props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(e,{emit:t}){const o=Lt(e,"clicks",t),s=Lt(e,"clicksElements",t),r=Lt(e,"clicksDisabled",t),l=Lt(e,"clicksOrderMap",t);s.value.length=0,pt(tm,e.route),pt(nm,e.context),pt(ys,o),pt(gs,r),pt(Dn,s),pt(tl,l)},render(){var e,t;return this.$props.is?$t(this.$props.is):(t=(e=this.$slots)==null?void 0:e.default)==null?void 0:t.call(e)}});const Rg=["innerHTML"],op=Oe({__name:"DrawingPreview",props:{page:null},setup(e){return H(q),(t,o)=>_(Os)[e.page]?(C(),j("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:_(Os)[e.page]},null,8,Rg)):pe("v-if",!0)}});var Dg=Object.freeze(Object.defineProperty({__proto__:null,default:op},Symbol.toStringTag,{value:"Module"}));const Ng={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},zg=["onClick"],jg=Oe({__name:"SlidesOverview",props:{modelValue:{type:Boolean}},emits:[],setup(e,{emit:t}){const o=e;H(q);const s=Lt(o,"modelValue",t);function r(){s.value=!1}function l(m){eo(m),r()}function i(m){return m===ft.value}const a=al.smaller("xs"),c=al.smaller("sm"),u=4*16*2,p=2*16,h=$(()=>a.value?kn.width.value-u:c.value?(kn.width.value-u-p)/2:300),d=$(()=>Math.floor((kn.width.value-u)/(h.value+p)));return Zs(()=>{ft.value=He.value,Ql.value=d.value}),(m,g)=>{const F=Lg;return C(),j(ke,null,[Ul(n("div",Ng,[n("div",{class:"grid gap-y-4 gap-x-8 w-full",style:rt(`grid-template-columns: repeat(auto-fit,minmax(${_(h)}px,1fr))`)},[(C(!0),j(ke,null,Yo(_(je).slice(0,-1),(v,S)=>(C(),j("div",{key:v.path,class:"relative"},[n("div",{class:Re(["inline-block border border-gray-400 rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":i(S+1)}]),onClick:x=>l(+v.path)},[(C(),K(np,{key:v.path,width:_(h),"clicks-disabled":!0,class:"pointer-events-none"},{default:ie(()=>[W(_(ti),{is:v==null?void 0:v.component,"clicks-disabled":!0,class:Re(_(ei)(v)),route:v,context:"overview"},null,8,["is","class","route"]),W(op,{page:+v.path},null,8,["page"])]),_:2},1032,["width"]))],10,zg),n("div",{class:"absolute top-0 opacity-50",style:rt(`left: ${_(h)+5}px`)},Cn(S+1),5)]))),128))],4)],512),[[Fu,_(s)]]),_(s)?(C(),j("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:r},[W(F)])):pe("v-if",!0)],64)}}});var Hg="/assets/logo.b72bde5d.png";const Vg={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},Ug=Oe({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(e,{emit:t}){const o=e;H(q);const s=Lt(o,"modelValue",t);function r(){s.value=!1}return(l,i)=>(C(),K(nu,null,[_(s)?(C(),j("div",Vg,[n("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:i[0]||(i[0]=a=>r())}),n("div",{class:Re(["m-auto rounded-md bg-main shadow",o.class]),"dark:border":"~ gray-400 opacity-10"},[Xt(l.$slots,"default")],2)])):pe("v-if",!0)],1024))}});const Xg={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},Gg=["innerHTML"],Kg=n("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[n("div",{class:"flex gap-1 children:my-auto"},[n("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),n("img",{class:"w-5 h-5",src:Hg,alt:"Slidev"}),n("div",{style:{color:"#2082A6"}},[n("b",null,"Sli"),f("dev ")])])],-1),qg=Oe({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(e,{emit:t}){const o=e;H(q);const s=Lt(o,"modelValue",t),r=$(()=>typeof Fe.info=="string");return(l,i)=>(C(),K(Ug,{modelValue:_(s),"onUpdate:modelValue":i[0]||(i[0]=a=>we(s)?s.value=a:null),class:"px-6 py-4"},{default:ie(()=>[n("div",Xg,[_(r)?(C(),j("div",{key:0,class:"mb-4",innerHTML:_(Fe).info},null,8,Gg)):pe("v-if",!0),Kg])]),_:1},8,["modelValue"]))}}),Wg=["disabled","onKeydown"],Yg=Oe({__name:"Goto",setup(e){H(q);const t=z(),o=z(""),s=$(()=>{if(o.value.startsWith("/"))return!!je.find(i=>i.path===o.value.substring(1));{const i=+o.value;return!isNaN(i)&&i>0&&i<=fp.value}});function r(){s.value&&(o.value.startsWith("/")?eo(o.value.substring(1)):eo(+o.value)),l()}function l(){jn.value=!1}return ae(jn,async i=>{var a,c;i?(await Ge(),o.value="",(a=t.value)==null||a.focus()):(c=t.value)==null||c.blur()}),ae(o,i=>{i.match(/^[^0-9/]/)&&(o.value=o.value.substring(1))}),(i,a)=>(C(),j("div",{id:"slidev-goto-dialog",class:Re(["fixed right-5 bg-main transform transition-all",_(jn)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[Ul(n("input",{ref_key:"input",ref:t,"onUpdate:modelValue":a[0]||(a[0]=c=>o.value=c),type:"text",disabled:!_(jn),class:Re(["outline-none bg-transparent",{"text-red-400":!_(s)&&o.value}]),placeholder:"Goto...",onKeydown:[ea(r,["enter"]),ea(l,["escape"])],onBlur:l},null,42,Wg),[[Th,o.value]])],2))}}),Zg=Oe({__name:"Controls",setup(e){H(q);const t=Nt(),o=Nt();return(s,r)=>(C(),j(ke,null,[W(jg,{modelValue:_(Qe),"onUpdate:modelValue":r[0]||(r[0]=l=>we(Qe)?Qe.value=l:null)},null,8,["modelValue"]),W(Yg),_(t)?(C(),K(_(t),{key:0})):pe("v-if",!0),_(o)?(C(),K(_(o),{key:1,modelValue:_(xr),"onUpdate:modelValue":r[1]||(r[1]=l=>we(xr)?xr.value=l:null)},null,8,["modelValue"])):pe("v-if",!0),_(Fe).info?(C(),K(qg,{key:2,modelValue:_(Bo),"onUpdate:modelValue":r[2]||(r[2]=l=>we(Bo)?Bo.value=l:null)},null,8,["modelValue"])):pe("v-if",!0)],64))}}),Jg={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Qg=n("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),e0=[Qg];function t0(e,t){return C(),j("svg",Jg,e0)}var n0={name:"carbon-settings-adjust",render:t0};const o0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},s0=n("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),r0=n("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),l0=[s0,r0];function i0(e,t){return C(),j("svg",o0,l0)}var a0={name:"carbon-information",render:i0};const c0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},u0=n("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),p0=[u0];function d0(e,t){return C(),j("svg",c0,p0)}var f0={name:"carbon-download",render:d0};const h0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},m0=n("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),y0=n("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),g0=[m0,y0];function b0(e,t){return C(),j("svg",h0,g0)}var _0={name:"carbon-user-speaker",render:b0};const v0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},F0=n("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),w0=n("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),x0=[F0,w0];function k0(e,t){return C(),j("svg",v0,x0)}var C0={name:"carbon-presentation-file",render:k0};const E0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},S0=n("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),B0=[S0];function $0(e,t){return C(),j("svg",E0,B0)}var O0={name:"carbon-pen",render:$0};const A0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},I0=n("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),P0=n("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),M0=[I0,P0];function T0(e,t){return C(),j("svg",A0,M0)}var L0={name:"ph-cursor-duotone",render:T0};const R0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},D0=n("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),N0=[D0];function z0(e,t){return C(),j("svg",R0,N0)}var sp={name:"ph-cursor-fill",render:z0};const j0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},H0=n("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),V0=[H0];function U0(e,t){return C(),j("svg",j0,V0)}var X0={name:"carbon-sun",render:U0};const G0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},K0=n("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),q0=[K0];function W0(e,t){return C(),j("svg",G0,q0)}var Y0={name:"carbon-moon",render:W0};const Z0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},J0=n("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),Q0=[J0];function eb(e,t){return C(),j("svg",Z0,Q0)}var tb={name:"carbon-apps",render:eb};const nb={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ob=n("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),sb=[ob];function rb(e,t){return C(),j("svg",nb,sb)}var rp={name:"carbon-arrow-right",render:rb};const lb={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ib=n("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),ab=[ib];function cb(e,t){return C(),j("svg",lb,ab)}var ub={name:"carbon-arrow-left",render:cb};const pb={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},db=n("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),fb=[db];function hb(e,t){return C(),j("svg",pb,fb)}var mb={name:"carbon-maximize",render:hb};const yb={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},gb=n("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),bb=[gb];function _b(e,t){return C(),j("svg",yb,bb)}var vb={name:"carbon-minimize",render:_b};const Fb={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},wb=n("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),xb=[wb];function kb(e,t){return C(),j("svg",Fb,xb)}var Cb={name:"carbon-checkmark",render:kb};var lp=(e,t)=>{const o=e.__vccOpts||e;for(const[s,r]of t)o[s]=r;return o};const Eb={class:"select-list"},Sb={class:"title"},Bb={class:"items"},$b=["onClick"],Ob=Oe({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(e,{emit:t}){const o=e;H(q);const s=Lt(o,"modelValue",t,{passive:!0});return(r,l)=>{const i=Cb;return C(),j("div",Eb,[n("div",Sb,Cn(e.title),1),n("div",Bb,[(C(!0),j(ke,null,Yo(e.items,a=>(C(),j("div",{key:a.value,class:Re(["item",{active:_(s)===a.value}]),onClick:()=>{var c;s.value=a.value,(c=a.onClick)==null||c.call(a)}},[W(i,{class:Re(["text-green-500",{"opacity-0":_(s)!==a.value}])},null,8,["class"]),f(" "+Cn(a.display||a.value),1)],10,$b))),128))])])}}});var Ab=lp(Ob,[["__scopeId","data-v-427604ef"]]);const Ib={class:"text-sm"},Pb=Oe({__name:"Settings",setup(e){H(q);const t=[{display:"Fit",value:0},{display:"1:1",value:1}];return(o,s)=>(C(),j("div",Ib,[W(Ab,{modelValue:_(_s),"onUpdate:modelValue":s[0]||(s[0]=r=>we(_s)?_s.value=r:null),title:"Scale",items:t},null,8,["modelValue"])]))}}),Mb={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},Tb=Oe({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const o=e;H(q);const s=Lt(o,"modelValue",t,{passive:!0}),r=z();return qm(r,()=>{s.value=!1}),(l,i)=>(C(),j("div",{ref_key:"el",ref:r,class:"flex relative"},[n("button",{class:Re({disabled:e.disabled}),onClick:i[0]||(i[0]=a=>s.value=!_(s))},[Xt(l.$slots,"button",{class:Re({disabled:e.disabled})})],2),(C(),K(nu,null,[_(s)?(C(),j("div",Mb,[Xt(l.$slots,"menu")])):pe("v-if",!0)],1024))],512))}}),Lb={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},us={__name:"VerticalDivider",setup(e){return H(q),(t,o)=>(C(),j("div",Lb))}};var Rb={render(){return[]}};const Db={class:"icon-btn"},Nb={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},zb={class:"my-auto"},jb={class:"opacity-50"},Hb=Oe({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e;H(q);const o=al.smaller("md"),{isFullscreen:s,toggle:r}=Ku,l=$(()=>hl.value?`?password=${hl.value}`:""),i=$(()=>`/presenter/${He.value}${l.value}`),a=$(()=>`/${He.value}${l.value}`),c=z(),u=()=>{c.value&&Kn.value&&c.value.contains(Kn.value)&&Kn.value.blur()},p=$(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),h=Nt(),d=Nt();return so(()=>import("./DrawingControls.50a6a16f.js"),[]).then(m=>d.value=m.default),(m,g)=>{const F=vb,v=mb,S=ub,x=rp,k=tb,E=Y0,R=X0,P=sp,V=L0,oe=O0,ce=C0,de=Xr("RouterLink"),me=_0,Te=f0,Ne=a0,Ke=n0;return C(),j("nav",{ref_key:"root",ref:c,class:"flex flex-col"},[n("div",{class:Re(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",_(p)]),onMouseleave:u},[_(zt)?pe("v-if",!0):(C(),j("button",{key:0,class:"icon-btn",onClick:g[0]||(g[0]=(...Ce)=>_(r)&&_(r)(...Ce))},[_(s)?(C(),K(F,{key:0})):(C(),K(v,{key:1}))])),n("button",{class:Re(["icon-btn",{disabled:!_(LF)}]),onClick:g[1]||(g[1]=(...Ce)=>_(ln)&&_(ln)(...Ce))},[W(S)],2),n("button",{class:Re(["icon-btn",{disabled:!_(TF)}]),title:"Next",onClick:g[2]||(g[2]=(...Ce)=>_(rn)&&_(rn)(...Ce))},[W(x)],2),_(zt)?pe("v-if",!0):(C(),j("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:g[3]||(g[3]=Ce=>_(qu)())},[W(k)])),_(fl)?pe("v-if",!0):(C(),j("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:g[4]||(g[4]=Ce=>_(ep)())},[_(Jl)?(C(),K(E,{key:0})):(C(),K(R,{key:1}))])),W(us),_(zt)?pe("v-if",!0):(C(),j(ke,{key:3},[!_(Tt)&&!_(o)&&_(h)?(C(),j(ke,{key:0},[W(_(h)),W(us)],64)):pe("v-if",!0),_(Tt)?(C(),j("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:g[5]||(g[5]=Ce=>kr.value=!_(kr))},[_(kr)?(C(),K(P,{key:0})):(C(),K(V,{key:1,class:"opacity-50"}))])):pe("v-if",!0)],64)),!_(Fe).drawings.presenterOnly&&!_(zt)?(C(),j(ke,{key:4},[n("button",{class:"icon-btn relative",title:"Drawing",onClick:g[6]||(g[6]=Ce=>Rt.value=!_(Rt))},[W(oe),_(Rt)?(C(),j("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:rt({background:_(_n).color})},null,4)):pe("v-if",!0)]),W(us)],64)):pe("v-if",!0),_(zt)?pe("v-if",!0):(C(),j(ke,{key:5},[_(Tt)?(C(),K(de,{key:0,to:_(a),class:"icon-btn",title:"Play Mode"},{default:ie(()=>[W(ce)]),_:1},8,["to"])):pe("v-if",!0),_(IF)?(C(),K(de,{key:1,to:_(i),class:"icon-btn",title:"Presenter Mode"},{default:ie(()=>[W(me)]),_:1},8,["to"])):pe("v-if",!0),pe("v-if",!0)],64)),(C(),j(ke,{key:6},[_(Fe).download?(C(),j("button",{key:0,class:"icon-btn",onClick:g[8]||(g[8]=(...Ce)=>_(ml)&&_(ml)(...Ce))},[W(Te)])):pe("v-if",!0)],64)),!_(Tt)&&_(Fe).info&&!_(zt)?(C(),j("button",{key:7,class:"icon-btn",onClick:g[9]||(g[9]=Ce=>Bo.value=!_(Bo))},[W(Ne)])):pe("v-if",!0),!_(Tt)&&!_(zt)?(C(),K(Tb,{key:8},{button:ie(()=>[n("button",Db,[W(Ke)])]),menu:ie(()=>[W(Pb)]),_:1})):pe("v-if",!0),_(zt)?pe("v-if",!0):(C(),K(us,{key:9})),n("div",Nb,[n("div",zb,[f(Cn(_(He))+" ",1),n("span",jb,"/ "+Cn(_(fp)),1)])]),W(_(Rb))],34)],512)}}});var ip={render(){return[]}},ap={render(){return[]}};const Vb={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},Ub=Oe({__name:"PresenterMouse",setup(e){return H(q),(t,o)=>{const s=sp;return _(_r).cursor?(C(),j("div",Vb,[W(s,{class:"absolute",style:rt({left:`${_(_r).cursor.x}%`,top:`${_(_r).cursor.y}%`})},null,8,["style"])])):pe("v-if",!0)}}}),Xb=Oe({__name:"SlidesShow",props:{context:null},setup(e){H(q),ae(ut,()=>{var o,s;((o=ut.value)==null?void 0:o.meta)&&ut.value.meta.preload!==!1&&(ut.value.meta.__preloaded=!0),((s=Er.value)==null?void 0:s.meta)&&Er.value.meta.preload!==!1&&(Er.value.meta.__preloaded=!0)},{immediate:!0});const t=Nt();return so(()=>import("./DrawingLayer.03dd6718.js"),[]).then(o=>t.value=o.default),(o,s)=>(C(),j(ke,null,[pe(" Global Bottom "),W(_(ap)),pe(" Slides "),(C(!0),j(ke,null,Yo(_(je),r=>{var l,i;return C(),j(ke,{key:r.path},[((l=r.meta)==null?void 0:l.__preloaded)||r===_(ut)?Ul((C(),K(_(ti),{key:0,is:r==null?void 0:r.component,clicks:r===_(ut)?_(Ot):0,"clicks-elements":((i=r.meta)==null?void 0:i.__clicksElements)||[],"clicks-disabled":!1,class:Re(_(ei)(r)),route:r,context:e.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[Fu,r===_(ut)]]):pe("v-if",!0)],64)}),128)),pe(" Global Top "),W(_(ip)),_(t)?(C(),K(_(t),{key:0})):pe("v-if",!0),_(Tt)?pe("v-if",!0):(C(),K(Ub,{key:1}))],64))}}),Gb=Oe({__name:"Play",setup(e){H(q),Ag();const t=z();function o(l){var i;La.value||((i=l.target)==null?void 0:i.id)==="slide-container"&&(l.screenX/window.innerWidth>.6?rn():ln())}NF(t);const s=$(()=>Ly.value||La.value);Nt();const r=Nt();return so(()=>import("./DrawingControls.50a6a16f.js"),[]).then(l=>r.value=l.default),(l,i)=>(C(),j(ke,null,[n("div",{id:"page-root",ref_key:"root",ref:t,class:"grid grid-cols-[1fr,max-content]",style:rt(_(Cu))},[W(np,{class:"w-full h-full",style:rt({background:"var(--slidev-slide-container-background, black)"}),width:_(ni)?_(kn).width.value:void 0,scale:_(_s),onPointerdown:o},{default:ie(()=>[W(Xb,{context:"slide"})]),controls:ie(()=>[n("div",{class:Re(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[_(s)?"opacity-100 right-0":"opacity-0 p-2",_(Ho)?"pointer-events-none":""]])},[W(Hb,{class:"m-auto",persist:_(s)},null,8,["persist"])],2),!_(Fe).drawings.presenterOnly&&!_(zt)&&_(r)?(C(),K(_(r),{key:0,class:"ml-0"})):pe("v-if",!0)]),_:1},8,["style","width","scale"]),pe("v-if",!0)],4),W(Zg)],64))}});function cp(e){const t=$(()=>e.value.path),o=$(()=>je.length-1),s=$(()=>parseInt(t.value.split(/\//g).slice(-1)[0])||1),r=$(()=>or(s.value)),l=$(()=>je.find(d=>d.path===`${s.value}`)),i=$(()=>{var d,m,g;return(g=(m=(d=l.value)==null?void 0:d.meta)==null?void 0:m.slide)==null?void 0:g.id}),a=$(()=>{var d,m;return(m=(d=l.value)==null?void 0:d.meta)==null?void 0:m.layout}),c=$(()=>je.find(d=>d.path===`${Math.min(je.length,s.value+1)}`)),u=$(()=>je.filter(d=>{var m,g;return(g=(m=d.meta)==null?void 0:m.slide)==null?void 0:g.title}).reduce((d,m)=>(oi(d,m),d),[])),p=$(()=>si(u.value,l.value)),h=$(()=>ri(p.value));return{route:e,path:t,total:o,currentPage:s,currentPath:r,currentRoute:l,currentSlideId:i,currentLayout:a,nextRoute:c,rawTree:u,treeWithActiveStatuses:p,tree:h}}function up(e,t,o){const s=z(0);Ge(()=>{ht.afterEach(async()=>{await Ge(),s.value+=1})});const r=$(()=>{var c,u;return s.value,((u=(c=t.value)==null?void 0:c.meta)==null?void 0:u.__clicksElements)||[]}),l=$(()=>{var c,u,p;return+((p=(u=(c=t.value)==null?void 0:c.meta)==null?void 0:u.clicks)!=null?p:r.value.length)}),i=$(()=>o.value<je.length-1||e.value<l.value),a=$(()=>o.value>1||e.value>0);return{clicks:e,clicksElements:r,clicksTotal:l,hasNext:i,hasPrev:a}}const Kb=["id"],qa=Oe({__name:"PrintSlideClick",props:{clicks:null,clicksElements:null,nav:null,route:null},emits:["update:clicksElements"],setup(e,{emit:t}){const o=e,s=Lt(o,"clicksElements",t),r=$(()=>({height:`${ku}px`,width:`${xn}px`})),l=Nt();so(()=>Promise.resolve().then(function(){return Dg}),void 0).then(u=>l.value=u.default);const i=$(()=>o.clicks),a=up(i,o.nav.currentRoute,o.nav.currentPage),c=$(()=>`${o.route.path.toString().padStart(3,"0")}-${(i.value+1).toString().padStart(2,"0")}`);return pt(q,Le({nav:be(be({},o.nav),a),configs:Fe,themeConfigs:$(()=>Fe.themeConfig)})),(u,p)=>{var h;return C(),j("div",{id:_(c),class:"slide-container",style:rt(_(r))},[W(_(ap)),W(_(ti),{is:(h=e.route)==null?void 0:h.component,"clicks-elements":_(s),"onUpdate:clicks-elements":p[0]||(p[0]=d=>we(s)?s.value=d:null),clicks:_(i),"clicks-disabled":!1,class:Re(_(ei)(e.route)),route:e.route},null,8,["is","clicks-elements","clicks","class","route"]),_(l)?(C(),K(_(l),{key:0,page:+e.route.path},null,8,["page"])):pe("v-if",!0),W(_(ip))],12,Kb)}}}),qb=Oe({__name:"PrintSlide",props:{route:null},setup(e){var l;const t=e;H(q);const o=Le(((l=t.route.meta)==null?void 0:l.__clicksElements)||[]),s=$(()=>t.route),r=cp(s);return(i,a)=>(C(),j(ke,null,[W(qa,{"clicks-elements":o,"onUpdate:clicks-elements":a[0]||(a[0]=c=>we(o)?o.value=c:null),clicks:0,nav:_(r),route:_(s)},null,8,["clicks-elements","nav","route"]),_($o)?pe("v-if",!0):(C(!0),j(ke,{key:0},Yo(o.length,c=>(C(),K(qa,{key:c,clicks:c,nav:_(r),route:_(s)},null,8,["clicks","nav","route"]))),128))],64))}});const Wb={id:"print-content"},Yb=Oe({__name:"PrintContainer",props:{width:null},setup(e){const t=e;H(q);const o=$(()=>t.width),s=$(()=>t.width/on),r=$(()=>o.value/s.value),l=$(()=>r.value<on?o.value/xn:s.value*on/xn),i=je.slice(0,-1),a=$(()=>({"select-none":!Fe.selectable,"slidev-code-line-numbers":Fe.lineNumbers}));return pt(xu,l),(c,u)=>(C(),j("div",{id:"print-container",class:Re(_(a))},[n("div",Wb,[(C(!0),j(ke,null,Yo(_(i),p=>(C(),K(qb,{key:p.path,route:p},null,8,["route"]))),128))]),Xt(c.$slots,"controls")],2))}});const Zb=Oe({__name:"Print",setup(e){H(q);const t=bn.canvasWidth,o=Math.round(t/bn.aspectRatio)+1;function s(r,{slots:l}){if(l.default)return $t("style",l.default())}return Zs(()=>{ni?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(r,l)=>(C(),j(ke,null,[W(s,null,{default:ie(()=>[f(" @page { size: "+Cn(_(t))+"px "+Cn(o)+"px; margin: 0px; } ",1)]),_:1}),n("div",{id:"page-root",class:"grid grid-cols-[1fr,max-content]",style:rt(_(Cu))},[W(Yb,{class:"w-full h-full",style:rt({background:"var(--slidev-slide-container-background, black)"}),width:_(kn).width.value},null,8,["style","width"])],4)],64))}});const Jb={class:"slidev-layout end"},Qb={__name:"end",setup(e){return H(q),(t,o)=>(C(),j("div",Jb," END "))}};var e_=lp(Qb,[["__scopeId","data-v-024c70b4"]]);const t_={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},n_=n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2Z"},null,-1),o_=[n_];function s_(e,t){return C(),j("svg",t_,o_)}var r_={name:"carbon-logo-github",render:s_};const l_={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},i_=n("path",{fill:"currentColor",d:"M2 26h28v2H2zM25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z"},null,-1),a_=[i_];function c_(e,t){return C(),j("svg",l_,a_)}var u_={name:"carbon-edit",render:c_};const p_={class:"slidev-layout intro"},d_={class:"my-auto"},f_={__name:"intro",setup(e){return H(q),(t,o)=>(C(),j("div",p_,[n("div",d_,[Xt(t.$slots,"default")])]))}},h_=n("h1",null,"\u6DF1\u5165\u7406\u89E3 XFS \u6587\u4EF6\u7CFB\u7EDF",-1),m_=n("p",null,"\u9AD8\u5EA6\u53EF\u6269\u5C55\u3001\u9AD8\u6027\u80FD\u3001\u73B0\u4EE3\u5316",-1),y_={class:"pt-12"},g_=f(" \u5F00\u59CB "),b_={class:"abs-br m-6 flex gap-2"},__={href:"https://github.com/slidevjs/slidev",target:"_blank",alt:"GitHub",class:"text-xl icon-btn opacity-50 !border-none !hover:text-white"},v_={__name:"1",setup(e){const t={theme:"purplin",position:"center",highlighter:"shiki",lineNumbers:!1,layout:"intro"},o=H(q);return(s,r)=>{const l=rp,i=u_,a=r_;return C(),K(f_,xe(ve(t)),{default:ie(()=>[h_,m_,n("div",y_,[n("span",{onClick:r[0]||(r[0]=(...c)=>_(o).nav.next&&_(o).nav.next(...c)),class:"px-2 py-1 rounded cursor-pointer",hover:"bg-white bg-opacity-10"},[g_,W(l,{class:"inline"})])]),n("div",b_,[n("button",{onClick:r[1]||(r[1]=c=>_(o).nav.openInEditor()),title:"Open in Editor",class:"text-xl icon-btn opacity-50 !border-none !hover:text-white"},[W(i)]),n("a",__,[W(a)])])]),_:1},16)}}},F_={class:"slidev-layout h-full grid image-x"},w_={class:"my-auto flex"},x_=["src"],k_=Oe({props:{image:{type:String,required:!0},imageOrder:{type:Number,required:!0}},setup(e){const t=e.imageOrder===1?"order-1":"order-2",o=e.imageOrder===1?"text-right order-2 justify-end":"text-left order-1 justify-start";return{imageOrder:t,textAlignment:o}}}),pp=Object.assign(k_,{__name:"image-x",setup(e){return H(q),(t,o)=>(C(),j("div",F_,[n("div",w_,[n("div",{class:Re(["w-1/2 flex justify-center items-center p-8 max-h-md object-cover",t.imageOrder])},[n("img",{src:t.image,class:"rounded-2xl border-image h-full object-cover"},null,8,x_)],2),n("div",{class:Re(["w-1/2 flex flex-col justify-center",t.textAlignment])},[Xt(t.$slots,"default")],2)])]))}}),C_=n("h1",null,"\u4E3A\u4EC0\u4E48\u8981\u7814\u7A76 XFS\uFF1F",-1),E_=n("ul",null,[n("li",null,"\u6587\u4EF6\u7CFB\u7EDF\u662F\u6570\u636E\u53EF\u9760\u6027\u8F6F\u4EF6\u5C42\u9762\u7684\u57FA\u77F3"),n("li",null,"\u4E0A\u53E4\u6587\u4EF6\u7CFB\u7EDF\uFF1AFAT\u3001EXT2\u3001EXT3 \u7ED3\u6784\u7B80\u5355\u4F46\u96BE\u4EE5\u9002\u5E94\u73B0\u4EE3\u9700\u8981"),n("li",null,[f("\u6280\u672F\u57FA\u7840\uFF1A\u5E76\u884C\u8BFB\u5199\u3001\u65E5\u5FD7\u4E8B\u52A1\u3001\u5EF6\u8FDF\u5206\u914D\u3001\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u3001\u53CD\u5411\u7D22\u5F15 "),n("ul",null,[n("li",null,"\u6211\u4EEC\u80FD\u5B66\u4E60\u5230\u8BA1\u7B97\u673A\u9886\u57DF\u7684\u6838\u5FC3\u5DE5\u7A0B\u6280\u672F")])]),n("li",null,"\u9762\u5411\u672A\u6765\uFF1A\u8BBE\u8BA1\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\u3001\u6570\u636E\u5E93\u5B58\u50A8\u5F15\u64CE\u65F6\u7684\u53C2\u8003")],-1),S_=n("p",null,"XFS \u76EE\u524D\u5DF2\u7ECF\u662F CentOS 7 \u7684\u9ED8\u8BA4\u6587\u4EF6\u7CFB\u7EDF\u3002",-1),B_={__name:"2",setup(e){const t={layout:"image-x",imageOrder:2,image:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654682585.png"};return H(q),(o,s)=>(C(),K(pp,xe(ve(t)),{default:ie(()=>[C_,E_,S_]),_:1},16))}},$_={class:"slidev-layout default"},Ae={__name:"default",setup(e){return H(q),(t,o)=>(C(),j("div",$_,[Xt(t.$slots,"default")]))}},O_=n("h1",null,"XFS \u7684\u6574\u4F53\u67B6\u6784",-1),A_=n("ul",null,[n("li",null,"On-Disk / In-memory Structure\uFF08\u78C1\u76D8\u4E0A/\u5185\u5B58\u4E2D\u7ED3\u6784\uFF09"),n("li",null,"Metadata Integrity\uFF08\u5143\u6570\u636E\u5B8C\u6574\u6027\uFF09"),n("li",null,"Delayed Logging\uFF08\u5EF6\u8FDF\u65E5\u5FD7\uFF09"),n("li",null,"Sharing Data Blocks\uFF08\u5171\u4EAB\u6570\u636E\u5757\uFF09")],-1),I_={__name:"3",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[O_,A_]),_:1},16))}},P_=n("h1",null,"\u6211\u4EEC\u7684\u91CD\u70B9",-1),M_=n("ul",null,[n("li",null,[n("p",null,"XFS \u7684\u78C1\u76D8\u7ED3\u6784\u7EC4\u7EC7"),n("ul",null,[n("li",null,"\u6574\u4F53 On-Disk \u5E03\u5C40"),n("li",null,"B+tree \u7684\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u673A\u5236"),n("li",null,"B+tree + Extend \u7684\u6570\u636E\u7BA1\u7406\u673A\u5236"),n("li",null,"inode \u7684\u5B9E\u73B0\u3001\u5206\u914D\u548C\u7BA1\u7406\u673A\u5236")])]),n("li",null,[n("p",null,"\u65E5\u5FD7\u3001\u4E8B\u52A1\u5316\u6587\u4EF6\u7CFB\u7EDF\u7684\u5B9E\u73B0"),n("ul",null,[n("li",null,"\u4E8B\u52A1\u7BA1\u7406"),n("li",null,"journals/logs \u7684 in-core log buffer -> on-disk log")])])],-1),T_={__name:"4",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[P_,M_]),_:1},16))}},L_=n("h1",null,"\u78C1\u76D8\u5757\u62BD\u8C61",-1),R_=n("p",null,"\u201C\u4E5D\u5C42\u4E4B\u53F0\uFF0C\u8D77\u4E8E\u7D2F\u571F\u201D",-1),D_=n("p",null,"\u5728\u9519\u7EFC\u590D\u6742\u7684\u6587\u4EF6\u7CFB\u7EDF\u6700\u5E95\u5C42\uFF0C\u6240\u6709\u64CD\u4F5C\u90FD\u53EF\u4EE5\u5F52\u7ED3\u4E3A\u4E24\u4E2A\u7B80\u5355\u7684\u7269\u7406\u5757\u8BFB\u5199\u64CD\u4F5C\uFF1A",-1),N_=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"trait"),n("span",{style:{color:"#B392F0"}}," BlockDevice"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," Send "),n("span",{style:{color:"#F97583"}},"+"),n("span",{style:{color:"#B392F0"}}," Sync {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"fn"),n("span",{style:{color:"#B392F0"}}," read_block("),n("span",{style:{color:"#F97583"}},"&"),n("span",{style:{color:"#B392F0"}},"self, block_id"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," usize, buf"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"&mut"),n("span",{style:{color:"#B392F0"}}," [u8]) "),n("span",{style:{color:"#F97583"}},"->"),n("span",{style:{color:"#B392F0"}}," bool;")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"fn"),n("span",{style:{color:"#B392F0"}}," write_block("),n("span",{style:{color:"#F97583"}},"&"),n("span",{style:{color:"#B392F0"}},"self, block_id"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," usize, buf"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"&"),n("span",{style:{color:"#B392F0"}},"[u8]) "),n("span",{style:{color:"#F97583"}},"->"),n("span",{style:{color:"#B392F0"}}," bool;")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"trait"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"BlockDevice"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"Send"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"+"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"Sync"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"fn"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"read_block"),n("span",{style:{color:"#24292EFF"}},"("),n("span",{style:{color:"#D32F2F"}},"&"),n("span",{style:{color:"#24292EFF"}},"self, block_id"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"usize"),n("span",{style:{color:"#24292EFF"}},", buf"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"&mut"),n("span",{style:{color:"#24292EFF"}}," ["),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},"]) "),n("span",{style:{color:"#D32F2F"}},"->"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"bool"),n("span",{style:{color:"#24292EFF"}},";")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"fn"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"write_block"),n("span",{style:{color:"#24292EFF"}},"("),n("span",{style:{color:"#D32F2F"}},"&"),n("span",{style:{color:"#24292EFF"}},"self, block_id"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"usize"),n("span",{style:{color:"#24292EFF"}},", buf"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"&"),n("span",{style:{color:"#24292EFF"}},"["),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},"]) "),n("span",{style:{color:"#D32F2F"}},"->"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"bool"),n("span",{style:{color:"#24292EFF"}},";")])])])],-1),z_=n("p",null,[f("\u5982\u679C\u9700\u8981"),n("strong",null,"\u4EFB\u610F\u8BFB\u53D6"),f("\uFF0C\u5373\u4ECE\u968F\u673A\u4F4D\u7F6E\uFF0C\u8BFB\u53D6\u968F\u5373\u957F\u5EA6\uFF0C\u5219\u9700\u8981\u8BA1\u7B97\u51FA\u8BFB\u53D6\u7684\u5757\u53F7\uFF0C"),n("strong",null,"\u5B8C\u6574\u8BFB\u53D6"),f("\u540E\u9009\u51FA\u60F3\u8981\u7684\u90E8\u5206\u3002 "),n("strong",null,"\u4EFB\u610F\u5199\u5165"),f("\u4E5F\u662F\u540C\u7406\uFF0C\u9700\u8981\u8BA1\u7B97\u51FA\u5199\u5165\u7684\u5757\u53F7\uFF0C\u7136\u540E\u5148\u8BFB\u51FA\u5757\u4E2D\u5185\u5BB9\u5230\u7F13\u51B2\uFF0C"),n("strong",null,"\u5728\u7F13\u51B2\u5B8C\u6210\u5408\u5E76"),f("\uFF0C\u7136\u540E\u5B8C\u6574\u5199\u5165\u78C1\u76D8\u5757\u3002\u56E0\u6B64\uFF0C\u662F\u5426\u5BF9\u9F50\uFF0C\u5BF9\u9F50\u7684\u53C2\u6570\uFF0C\u5BF9\u8BFB\u5199\u6027\u80FD\u4F1A\u4EA7\u751F\u91CD\u8981\u7684\u5F71\u54CD\u3002")],-1),j_=n("blockquote",null,[n("p",null,"\u9644\u6CE8\uFF1A\u51E0\u4E2A\u57FA\u672C\u6982\u5FF5"),n("ul",null,[n("li",null,"\u7269\u7406\u6247\u533A\uFF1A\u786C\u76D8\u7684\u6700\u5C0F\u5B58\u50A8\u5355\u5143\uFF0C\u5E38\u89C1\u5927\u5C0F\uFF1A512 \u5B57\u8282\u30014096 \u5B57\u8282"),n("li",null,"\u903B\u8F91\u6247\u533A\uFF1A\u5373\u901A\u5E38\u610F\u4E49\u4E0A\u7684\u6247\u533A\u3002\u51FA\u4E8E\u517C\u5BB9\u6027\u8003\u8651\uFF0C\u786C\u76D8\u82AF\u7247\u4F1A\u5C06\u7269\u7406\u6247\u533A\u7EDF\u4E00\u4E3A 512 \u5B57\u8282\u7684\u903B\u8F91\u6247\u533A\uFF0C\u8FD9\u6837\u5BF9\u4E8E OS \u800C\u8A00\uFF0C\u6247\u533A\u5927\u5C0F> \u597D\u50CF\u662F 512 \u5B57\u8282\uFF0C\u4F46\u5B9E\u9645\u4E0A\u786C\u76D8\u5185\u90E8\u7684\u5B58\u50A8\u5355\u5143\u662F 4096 \u5B57\u8282\u3002\u5F53\u7136\uFF0C\u591A\u6570\u60C5\u51B5\u4E0B\u7269\u7406\u6247\u533A\u5927\u5C0F\u7B49\u4E8E\u903B\u8F91\u6247\u533A\u5927\u5C0F\u3002"),n("li",null,"\u7269\u7406\u5757\uFF1A\u4E00\u822C\u8BA4\u4E3A\u5C31\u662F\u903B\u8F91\u6247\u533A\uFF0C\u4E5F\u79F0\u78C1\u76D8\u5757\u3002"),n("li",null,[f("\u903B\u8F91\u5757\uFF1A\u683C\u5F0F\u5316\u78C1\u76D8\u65F6\u8BBE\u7F6E\u7684\u5C31"),n("strong",null,"\u6587\u4EF6\u7CFB\u7EDF\u800C\u8A00"),f("\u7684\u5206\u914D\u5355\u5143\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u7531\u8BBE\u7F6E\uFF0C\u662F\u7269\u7406\u5757\u7684\u6574\u6570\u500D")])]),n("p",null,"\u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u63A5\u89E6\u5230\u7684\u4E0A\u8FF0\u56DB\u4E2A\u503C\u90FD\u662F 512B \u4E3A\u5355\u4F4D\u3002")],-1),H_={__name:"5",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[L_,R_,D_,N_,z_,j_]),_:1},16))}},V_=n("h1",null,"AG (Allocation Group)",-1),U_=n("p",null,"XFS \u5C06\u4E00\u4E2A\u5206\u533A\uFF08\u4E5F\u53EF\u4EE5\u662F\u6574\u5757\u78C1\u76D8\uFF09\u5206\u6210\u591A\u4E2A Group\uFF0C\u5BF9\u4E8E\u4E0D\u540C AG \u53D1\u8D77\u7684 IO \u53EF\u4EE5\u5E76\u884C\u6267\u884C\u3002",-1),X_=n("p",null,"\u7B2C\u4E00\u4E2A AG \u79F0\u4E3A Primary AG.",-1),G_=n("p",null,[n("img",{src:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654684291.png",alt:"upgit_20220608_1654684291.png"})],-1),K_=n("p",null,"\u7C7B\u4F3C AG \u7684\u62BD\u8C61\u5728\u4F20\u7EDF\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u662F\u6CA1\u6709\u7684\u3002\u8FD9\u662F\u78C1\u76D8\u5BB9\u91CF\u7684\u98DE\u6DA8\uFF08\u6570 TB \u5DF2\u6210\u4E3A\u5E38\u6001\uFF09\u3001\u78C1\u76D8\u5B9E\u73B0\uFF08\u5982\u56FA\u6001\u786C\u76D8\uFF09\u7684\u6F14\u8FDB\u7684\u5FC5\u7136\u9009\u62E9\u3002\u9664\u4E86\u66F4\u4FBF\u4E8E\u5E76\u53D1\u5916\uFF0CAG \u7684\u62BD\u8C61\u4F7F\u5F97 XFS \u53EF\u4EE5\u4F7F\u7528 AG \u5185\u76F8\u5BF9\u4F4D\u7F6E\u8FDB\u884C\u5730\u5740\u8868\u793A\uFF0C\u6709 LHDR\u3001SHDR \u4E24\u79CD\u5757\u5934\u7ED3\u6784\uFF0C\u8FDB\u4E00\u6B65\u51CF\u5C0F\u4E86\u5143\u6570\u636E\u5BF9\u7A7A\u95F4\u7684\u5360\u7528\uFF0C\u4E5F\u63D0\u9AD8\u4E86\u6587\u4EF6\u7CFB\u7EDF\u7684\u5730\u5740\u8868\u793A\u80FD\u529B\u3002",-1),q_=n("p",null,"XFS \u7684\u5355\u5206\u533A\u6700\u5927\u5BB9\u91CF\u7EA6 8EB\uFF08\u76F8\u5F53\u4E8E 8 x 1024 x 1024 TB)",-1),W_={__name:"6",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[V_,U_,X_,G_,K_,q_]),_:1},16))}},Y_=n("h2",null,"\u5355 AG \u7ED3\u6784",-1),Z_=n("img",{src:"",alt:""},null,-1),J_=n("ul",null,[n("li",null,"SB - Superblock"),n("li",null,[f("AGF - AG free block info. \u5B58\u653E\u56DB\u4E2A\u6307\u9488 "),n("ul",null,[n("li",null,"BNO root"),n("li",null,"CNT root"),n("li",null,"RMAP root"),n("li",null,"REFC root")])]),n("li",null,"AGFL"),n("li",null,"AGI"),n("li",null,"BNO root block"),n("li",null,"CNT root block"),n("li",null,"INO root block"),n("li",null,"FINO root block"),n("li",null,"RMAP root block"),n("li",null,"NULL terminating block")],-1),Q_={__name:"7",setup(e){const t={layout:"image-x",image:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654687979.png"};return H(q),(o,s)=>(C(),K(pp,xe(ve(t)),{default:ie(()=>[Y_,Z_,J_]),_:1},16))}},e1=n("h2",null,"AG / Superblock \uFF08\u4E0A\uFF09",-1),t1=n("p",null,"Superblock\uFF08SB\uFF09\u5360\u7528\u4E00\u4E2A\u6247\u533A\u7684\u5927\u5C0F\u3002\u5B58\u50A8\u7ED3\u6784\u5982\u4E0B\uFF1A",-1),n1=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," SuperBlock {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," magicnum"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"  // \u9B54\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," blocksize"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u903B\u8F91\u5757\u5927\u5C0F \u901A\u5E38\u662F4096\u5B57\u8282\uFF084KB\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," dblocks"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"   // \u6570\u636E\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," rblocks"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"   // \u5B9E\u65F6\u5757\u6570 https://www.cnblogs.com/orange-CC/p/12711078.html")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," rextents"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"  // \u5B9E\u65F6\u6269\u5C55\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," uuid"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," UUID,"),n("span",{style:{color:"#6B737C"}},"     // \u552F\u4E00\u6807\u8BC6\u7B26")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    logstart"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"      // \u65E5\u5FD7\u8D77\u59CB\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    rootino"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"       // \u6839\u76EE\u5F55Inode\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    rbmino"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"        // \u5B9E\u65F6\u5757\u4F4D\u56FEInode\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    rextsize"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"      // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    agblocks"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"      // \u5757\u7EC4\u5927\u5C0F \u6700\u540E\u4E00\u4E2AAG\u7684\u5B9E\u9645\u5927\u5C0F\u53EF\u80FD\u4F1A\u4E0D\u4E00\u6837")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    agcount"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"       // \u5757\u7EC4\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    rbmblocks"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"     // \u5B9E\u65F6\u5757\u4F4D\u56FE\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    logblocks"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"     // \u65E5\u5FD7\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    version"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u16,"),n("span",{style:{color:"#6B737C"}},"       // \u7248\u672C\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    sectsize"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u16,"),n("span",{style:{color:"#6B737C"}},"      // \u6247\u533A\u5927\u5C0F bytes")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    inodesize"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u16,"),n("span",{style:{color:"#6B737C"}},"     // Inode\u5927\u5C0F bytes")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    inopblock"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u16,"),n("span",{style:{color:"#6B737C"}},"     // Inode per block")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"SuperBlock"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," magicnum"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // \u9B54\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," blocksize"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u903B\u8F91\u5757\u5927\u5C0F \u901A\u5E38\u662F4096\u5B57\u8282\uFF084KB\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," dblocks"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"   // \u6570\u636E\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," rblocks"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"   // \u5B9E\u65F6\u5757\u6570 https://www.cnblogs.com/orange-CC/p/12711078.html")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," rextents"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // \u5B9E\u65F6\u6269\u5C55\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," uuid"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," UUID,"),n("span",{style:{color:"#C2C3C5"}},"     // \u552F\u4E00\u6807\u8BC6\u7B26")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    logstart"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"      // \u65E5\u5FD7\u8D77\u59CB\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    rootino"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"       // \u6839\u76EE\u5F55Inode\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    rbmino"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"        // \u5B9E\u65F6\u5757\u4F4D\u56FEInode\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    rextsize"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"      // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    agblocks"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"      // \u5757\u7EC4\u5927\u5C0F \u6700\u540E\u4E00\u4E2AAG\u7684\u5B9E\u9645\u5927\u5C0F\u53EF\u80FD\u4F1A\u4E0D\u4E00\u6837")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    agcount"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"       // \u5757\u7EC4\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    rbmblocks"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // \u5B9E\u65F6\u5757\u4F4D\u56FE\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    logblocks"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // \u65E5\u5FD7\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    version"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u16"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"       // \u7248\u672C\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    sectsize"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u16"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"      // \u6247\u533A\u5927\u5C0F bytes")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    inodesize"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u16"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // Inode\u5927\u5C0F bytes")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    inopblock"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u16"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // Inode per block")])])])],-1),o1={__name:"8",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[e1,t1,n1]),_:1},16))}},s1=n("h2",null,"AG / Superblock \uFF08\u4E0B\uFF09",-1),r1=n("p",null,"\u53EF\u4EE5\u770B\u5230\uFF0CAG0 \u7684 Superblock \u5305\u542B\u4E86\u6574\u4E2A\u6587\u4EF6\u7CFB\u7EDF\u7684\u4E00\u4E9B\u5173\u952E\u4FE1\u606F\u3002\u5176\u4E2D\u6BD4\u8F83\u503C\u5F97\u6CE8\u610F\u7684\u662F\u51E0\u4E2A\u6307\u9488\uFF1A",-1),l1=n("ul",null,[n("li",null,"logstart\uFF1A\u65E5\u5FD7\u8D77\u59CB\u5757\u53F7"),n("li",null,"rootino\uFF1A\u6839\u76EE\u5F55Inode\u53F7")],-1),i1=n("blockquote",null,[n("p",null,"\u6CE8\uFF1A"),n("ul",null,[n("li",null,"r \u5F00\u5934\u7684\u5C5E\u6027\u5C5E\u4E8E\u5B9E\u65F6\u8BBE\u5907\uFF0C\u8FD9\u662F\u56E0\u4E3A XFS \u517C\u5BB9\u4E86\u5B9E\u65F6\u6A21\u5F0F\u7684 Linux. \u6B64\u5904\u6682\u65F6\u7565\u8FC7\u3002"),n("li",null,"\u78C1\u76D8\u4E0A\u7684\u6307\u9488\uFF0C\u90FD\u662F\u6307\u5757\u53F7\uFF0C\u4E0D\u8981\u4E0E\u5185\u5B58\u4E2D\u7684\u6307\u9488\u76F8\u6DF7\u6DC6\u3002")])],-1),a1=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    fsname"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," [u8; "),n("span",{style:{color:"#F8F8F8"}},"16"),n("span",{style:{color:"#B392F0"}},"],"),n("span",{style:{color:"#6B737C"}},"   // \u6587\u4EF6\u7CFB\u7EDF\u540D\u79F0")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    blocksize_bits"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}}," // \u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    sectsize_bits"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"  // \u6247\u533A\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    inodesize_bits"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}}," // Inode\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    inpblock_bits"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"  // Inode per block\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    agblocks_bits"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"  // \u5757\u7EC4\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    rextents_bits"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"  // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    inprogress"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"     // \u662F\u5426\u6B63\u5728\u8FDB\u884C\u683C\u5F0F\u5316")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    imax_pct"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"       // \u6700\u5927Inode\u767E\u5206\u6BD4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    icount"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}},"        // Inode\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    ifree"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}},"         // \u7A7A\u95F2Inode\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    fdblocks"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}},"      // \u7A7A\u95F2\u6570\u636E\u5757\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    frextents"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}},"     // \u7A7A\u95F2\u5B9E\u65F6\u6269\u5C55\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    fsname"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," ["),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},"; "),n("span",{style:{color:"#1976D2"}},"16"),n("span",{style:{color:"#24292EFF"}},"],"),n("span",{style:{color:"#C2C3C5"}},"   // \u6587\u4EF6\u7CFB\u7EDF\u540D\u79F0")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    blocksize_bits"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    sectsize_bits"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // \u6247\u533A\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    inodesize_bits"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // Inode\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    inpblock_bits"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // Inode per block\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    agblocks_bits"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // \u5757\u7EC4\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    rextents_bits"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    inprogress"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // \u662F\u5426\u6B63\u5728\u8FDB\u884C\u683C\u5F0F\u5316")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    imax_pct"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"       // \u6700\u5927Inode\u767E\u5206\u6BD4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    icount"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"        // Inode\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    ifree"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"         // \u7A7A\u95F2Inode\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    fdblocks"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"      // \u7A7A\u95F2\u6570\u636E\u5757\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    frextents"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // \u7A7A\u95F2\u5B9E\u65F6\u6269\u5C55\u603B\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")])])])],-1),c1={__name:"9",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[s1,r1,l1,i1,a1]),_:1},16))}},u1=n("p",null,"Superblock \u662F\u6587\u4EF6\u7CFB\u7EDF\u6700\u91CD\u8981\u7684\u7ED3\u6784\u3002",-1),p1=n("hr",null,null,-1),d1=n("p",null,"\u7531\u4E8E XFS \u7684\u4F53\u7CFB\u8FC7\u4E8E\u590D\u6742\uFF0C\u82E5\u662F\u7EBF\u6027\u53D9\u4E8B\uFF0C\u5219\u6CA1\u6709\u51E0\u5341\u4E2A\u5C0F\u65F6\uFF0C\u662F\u65E0\u6CD5\u8BF4\u6E05\u695A\u7684\u3002",-1),f1=n("p",null,[n("strong",null,"\u6211\u4EEC\u5C06\u4ECE\u4E00\u4E2A\u6587\u4EF6/\u6587\u4EF6\u5939\u7684\u5982\u4F55\u88AB\u521B\u5EFA\u7684\u89D2\u5EA6\uFF0C\u89E3\u6790 XFS \u7684\u7ED3\u6784\u3002")],-1),h1={__name:"10",setup(e){const t={class:"text-center"};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[u1,p1,d1,f1]),_:1},16))}},m1=n("h2",null,"\u7A7A\u95F2 inode \u7BA1\u7406",-1),y1=n("p",null,"\u5F53\u521B\u5EFA\u4E00\u4E2A\u65B0\u6587\u4EF6\u65F6\uFF0C\u9996\u5148\u8981\u5206\u914D\u4E00\u4E2A\u7A7A\u95F2\u7684 Inode\uFF0C\u7136\u540E\u518D\u5206\u914D\u4E00\u4E2A\u7A7A\u95F2\u7684\u6570\u636E\u5757\u3002",-1),g1=n("p",null,"\u800C\u8981\u5206\u914D inode\uFF0C\u9996\u5148\u68C0\u67E5 AGI \u7684 agi_freecount\uFF0C\u786E\u5B9A\u662F\u5426\u6709\u7A7A\u95F2\u7684 Inode\u3002",-1),b1=n("p",null,"\u5982\u679C\u6709\uFF0C\u5219\u4ECE AGF \u53EF\u4EE5\u627E\u5230 FINO B+tree \u7684 root \u5757\u3002\uFF08AGI \u4E2D\uFF0C\u5B58\u6709 root \u5B57\u6BB5\uFF0C\u6307\u5411 finobt\uFF08\u7A7A\u95F2 inode \u7D22\u5F15 b+tree\uFF09\uFF09",-1),_1=n("p",null,"root \u662F\u4E00\u4E2A B+ \u6811\u5757. \u5176\u7ED3\u70B9\u7ED3\u6784\u5982\u4E0B\uFF1A",-1),v1=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," BtreeBlock {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    magicnum"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // B+\u6811\u5757\u7684 Magic Number AB3B")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    level"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"   // B+\u6811\u5757\u7684\u5C42\u7EA7\uFF0C\u5982\u679Clevel\u662F0\uFF0C\u8868\u793A\u5F53\u524D\u7684 block \u5B58\u50A8\u7684\u90FD\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u5426\u5219\u662F\u7D22\u5F15\u8282\u70B9\u3002\u8D8A\u9760\u8FD1\u6839\u90E8\u8D8A\u5927")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    numrecs"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u5982\u679C\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u8868\u793A\u5F53\u524D B+\u6811\u5757\u4E2D\u7684\u8BB0\u5F55\u6570\u3002\u5426\u5219\u8868\u793A\u6709\u591A\u5C11\u5B50\u8282\u70B9\uFF08AllocRec\uFF09\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    header"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," BtreeBlockUnion,")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"BtreeBlock"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    magicnum"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // B+\u6811\u5757\u7684 Magic Number AB3B")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    level"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"   // B+\u6811\u5757\u7684\u5C42\u7EA7\uFF0C\u5982\u679Clevel\u662F0\uFF0C\u8868\u793A\u5F53\u524D\u7684 block \u5B58\u50A8\u7684\u90FD\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u5426\u5219\u662F\u7D22\u5F15\u8282\u70B9\u3002\u8D8A\u9760\u8FD1\u6839\u90E8\u8D8A\u5927")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    numrecs"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u5982\u679C\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u8868\u793A\u5F53\u524D B+\u6811\u5757\u4E2D\u7684\u8BB0\u5F55\u6570\u3002\u5426\u5219\u8868\u793A\u6709\u591A\u5C11\u5B50\u8282\u70B9\uFF08AllocRec\uFF09\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    header"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"BtreeBlockUnion"),n("span",{style:{color:"#24292EFF"}},",")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")])])])],-1),F1=n("blockquote",null,[n("p",null,"\u6CE8\uFF1A\u4E3A\u4EC0\u4E48\u4F1A\u6709\u7A7A\u95F2\u7684 inode? \u5F53\u5206\u914D inode \u65F6\uFF0C\u4F1A\u4E00\u6B21\u6027\u5206\u914D\u6574\u4E2A chunk \u7684 inode\uFF0C\u6570\u91CF\u4E3A 64 \u4E2A\uFF08\u53D6\u51B3\u4E8E XFS_INODES_PER_CHUNK \u5E38\u91CF\uFF09\u3002 \u5982\u679C\u53EA\u7528\u5230\u4E00\u4E2A\uFF0C\u5219\u5269\u4F59 63 \u4E2A inode \u4F1A\u88AB\u7D22\u5F15\u81F3\u7A7A\u95F2\u8868\u3002")],-1),w1={__name:"11",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[m1,y1,g1,b1,_1,v1,F1]),_:1},16))}},x1=n("h2",null,"B+tree blk \u7684\u901A\u7528\u7ED3\u6784",-1),k1=n("p",null,"\u5728\u4ECB\u7ECD\u7A7A\u95F2 inode \u7684\u5B9A\u4F4D\u4E4B\u524D\uFF0C\u6709\u5FC5\u8981\u4ECB\u7ECD\u4E00\u4E0B XFS \u7684 B+tree \u662F\u5982\u4F55\u7EC4\u7EC7\u8D77\u6765\u7684\u3002\u4EE5 BtreeBlockShdr \u4E3A header \u7684 B+ \u6811\u5757\u4E3A\u4F8B\uFF0C\u4E00\u4E2A B+tree \u5757\u53EF\u4EE5\u5206\u4E3A\u4EE5\u4E0B\u90E8\u5206\uFF1A",-1),C1=n("p",null,[n("img",{src:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654693240.png",alt:"upgit_20220608_1654693240.png"})],-1),E1=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"#[derive(Copy, Clone)]")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," BtreeBlockShdr {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    leftSibling"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"  // \u5DE6\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    rightSibling"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u53F3\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"}),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    blkno"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}}," // \u5F53\u524D\u8282\u70B9\u7684\u5757\u53F7\u3002\u5B57\u8282\u6570/512 \u53EF\u5F97\u4E4B")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    lsn"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}},"   // \u6700\u540E\u5199\u5165\u8282\u70B9\u7684\u65E5\u5FD7 SN\uFF08\u5E8F\u5217\u53F7\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    uuid"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," UUID,"),n("span",{style:{color:"#6B737C"}}," // \u5F53\u524D\u8282\u70B9\u7684UUID")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    owner"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u5F53\u524D\u8282\u70B9\u7684\u6240\u6709\u8005\uFF08\u5373\u54EA\u4E2A ag\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    crc"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"   // \u672C\u5757\u7684 CRC \u6821\u9A8C\u503C")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"#[derive("),n("span",{style:{color:"#6F42C1"}},"Copy"),n("span",{style:{color:"#24292EFF"}},", "),n("span",{style:{color:"#6F42C1"}},"Clone"),n("span",{style:{color:"#24292EFF"}},")]")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"BtreeBlockShdr"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    leftSibling"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // \u5DE6\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    rightSibling"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u53F3\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"}),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    blkno"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u5F53\u524D\u8282\u70B9\u7684\u5757\u53F7\u3002\u5B57\u8282\u6570/512 \u53EF\u5F97\u4E4B")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    lsn"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"   // \u6700\u540E\u5199\u5165\u8282\u70B9\u7684\u65E5\u5FD7 SN\uFF08\u5E8F\u5217\u53F7\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    uuid"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," UUID,"),n("span",{style:{color:"#C2C3C5"}}," // \u5F53\u524D\u8282\u70B9\u7684UUID")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    owner"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u5F53\u524D\u8282\u70B9\u7684\u6240\u6709\u8005\uFF08\u5373\u54EA\u4E2A ag\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    crc"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"   // \u672C\u5757\u7684 CRC \u6821\u9A8C\u503C")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")])])])],-1),S1=n("h2",null,"\u7A7A\u95F2 inode \u7684\u5B9A\u4F4D",-1),B1=n("p",null,"\u4ECE B+tree \u6839\u8282\u70B9\u5F00\u59CB\uFF0C\u67E5\u8BE2 recs\uFF0C\u53EF\u6309\u7167 startino \u5B9A\u4F4D\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684 inode\uFF0C\u5E76\u4E14\u77E5\u9053\u5177\u4F53\u7684\u7A7A\u95F2\u8BE6\u60C5\u3002\u8FD9\u662F\u56E0\u4E3A inode \u7684 Records \uFF08\u540C\u65F6\u5B58\u5728\u4E8E\u53F6\u8282\u70B9\u548C\u4E2D\u95F4\u8282\u70B9\uFF09\u7ED3\u6784\u5982\u4E0B\uFF1A",-1),$1=n("img",{src:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654693473.png",style:{"max-height":"240px"}},null,-1),O1=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," InodeBtreeRecord {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    startino"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u4E00\u4E2A inode chunk \u91CC inode num \u6700\u5C0F\u7684\u90A3 inode\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E2A chunk \u7684\u8D77\u59CB inode")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    holemask"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u16,"),n("span",{style:{color:"#6B737C"}}," // \u7A7A\u6D1E\u63A9\u7801\u3002\u7A00\u758F inode \u5141\u8BB8\u4EE5\u5C0F\u4E8E chunk \u7684\u5927\u5C0F\u5206\u914D inodes\uFF0C\u4ECE\u800C chunk \u4E2D\u6709\u7684\u4F4D\u7F6E\u9700\u8981\u8DF3\u8FC7\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"    // 16 \u4F4D\uFF0C\u6BCF\u4F4D\u4EE3\u8868 4 \u4E2A\u8FDE\u7EED inode \u7A7A\u6D1E\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    count"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}}," // \u8868\u793A\u4E00\u5171\u6709\u591A\u5C11\u5DF2\u5206\u914D\u7684 inode\uFF0C\u5F53\u672A\u542F\u7528 sparse \u65F6\u4E3A 64\uFF0C\u4F46\u82E5\u542F\u7528\u4E86 sparse\uFF0C\u5219\u4E3A 64 - 4 * n(holemask)")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    freecount"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}}," // \u5F53\u524D\u8BB0\u5F55\u7684\u7A7A\u4F59 inode \u6570\u91CF\uFF08\u5DF2\u5206\u914D\u4F46\u5C1A\u672A\u4F7F\u7528\u7684 inode \u6570\u91CF\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    free"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}}," // finode \u4F4D\u56FE\uFF0C64 \u4F4D\u5BF9\u5E94 inode chunk \u91CC\u7684 inode \u7684\u7A7A\u95F2\u60C5\u51B5\u30021 \u8868\u793A\u53EF\u7528\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"InodeBtreeRecord"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    startino"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u4E00\u4E2A inode chunk \u91CC inode num \u6700\u5C0F\u7684\u90A3 inode\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E2A chunk \u7684\u8D77\u59CB inode")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    holemask"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u16"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u7A7A\u6D1E\u63A9\u7801\u3002\u7A00\u758F inode \u5141\u8BB8\u4EE5\u5C0F\u4E8E chunk \u7684\u5927\u5C0F\u5206\u914D inodes\uFF0C\u4ECE\u800C chunk \u4E2D\u6709\u7684\u4F4D\u7F6E\u9700\u8981\u8DF3\u8FC7\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"    // 16 \u4F4D\uFF0C\u6BCF\u4F4D\u4EE3\u8868 4 \u4E2A\u8FDE\u7EED inode \u7A7A\u6D1E\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    count"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u8868\u793A\u4E00\u5171\u6709\u591A\u5C11\u5DF2\u5206\u914D\u7684 inode\uFF0C\u5F53\u672A\u542F\u7528 sparse \u65F6\u4E3A 64\uFF0C\u4F46\u82E5\u542F\u7528\u4E86 sparse\uFF0C\u5219\u4E3A 64 - 4 * n(holemask)")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    freecount"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u5F53\u524D\u8BB0\u5F55\u7684\u7A7A\u4F59 inode \u6570\u91CF\uFF08\u5DF2\u5206\u914D\u4F46\u5C1A\u672A\u4F7F\u7528\u7684 inode \u6570\u91CF\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    free"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // finode \u4F4D\u56FE\uFF0C64 \u4F4D\u5BF9\u5E94 inode chunk \u91CC\u7684 inode \u7684\u7A7A\u95F2\u60C5\u51B5\u30021 \u8868\u793A\u53EF\u7528\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")])])])],-1),A1={__name:"12",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[x1,k1,C1,E1,S1,B1,$1,O1]),_:1},16))}},I1=n("h2",null,"\uFF08\u5168\u65B0\uFF09inode \u7684\u5206\u914D",-1),P1=n("p",null,"\u5728\u5C0F\u6982\u7387\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u65E0\u6CD5\u627E\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684 inode\u3002\u6B64\u65F6\u4F1A\u8FDB\u884C inode \u5206\u914D\u3002\u65B9\u6CD5\u662F\u901A\u8FC7\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u5668\uFF0C\u5B9A\u4F4D\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684\u903B\u8F91\u5757\uFF0C\u7136\u540E\u5C06\u8FD9\u4E2A\u903B\u8F91\u5757\u4F5C\u4E3A chunk\uFF0C\u5206\u914D 64 \u4E2A inode \u4E8E\u5176\u4E2D\uFF0C\u5E76\u5229\u7528\u5176\u4E00\u3002",-1),M1=n("p",null,"\u4F7F\u7528\u540E\uFF0C\u5C06\u5DF2\u7528\u7684\uFF0C\u7EB3\u5165 INO Btree \u7D22\u5F15\uFF0C\u5C06\u672A\u7528\u7684\uFF0C\u7EB3\u5165 FINO Btree \u7D22\u5F15\u3002",-1),T1=n("p",null,[f("\u90A3\u4E48\uFF0C\u600E\u4E48\u5C31\u5B8C\u6210\u5206\u914D\u4E86\u5462\uFF1F\u5B9E\u9645\u4E0A\uFF0C\u65E0\u8BBA\u662F\u5206\u914D inode chunk\uFF0C\u8FD8\u662F\u7ED9\u521A\u521B\u5EFA\u7684\u6587\u4EF6\u5206\u914D\u6570\u636E\u5757\uFF0C\u90FD\u9700\u8981\u7528\u5230"),n("strong",null,"\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u5668"),f("\u3002\u56E0\u6B64\u63A5\u4E0B\u6765\u8BE6\u7EC6\u4ECB\u7ECD\u3002")],-1),L1=n("p",null,"\u987A\u5E26\u4E00\u63D0\uFF0CXFS \u4E2D inode \u7684\u547D\u540D\u89C4\u5219\u4E3A\uFF1AAGno + blockno + block offset",-1),R1=n("p",null,"\u8FD9\u6837\uFF0C\u6211\u4EEC\u65E0\u9700\u5BF9 inode \u518D\u8FDB\u884C\u4E00\u9053\u7D22\u5F15\uFF0C\u76F4\u63A5\u6839\u636E inode \u7F16\u53F7\u5C31\u80FD\u5B9A\u4F4D\u5230\u6570\u636E\u4F4D\u7F6E\u3002\u975E\u5E38\u5DE7\u5999\u3002",-1),D1={__name:"13",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[I1,P1,M1,T1,L1,R1]),_:1},16))}},N1=n("h2",null,"\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u6982\u89C8",-1),z1=n("p",null,"\u8BD5\u60F3\uFF0C\u6211\u4EEC\u5982\u679C\u8981\u521B\u5EFA\u4E00\u4E2A 100KB \u7684\u6587\u4EF6\uFF0C\u90A3\u4E48\u6700\u597D\u7684\u65B9\u5F0F\u4FBF\u662F\u76F4\u63A5\u5206\u914D\u4E00\u4E2A 100KB \u7684\u8FDE\u7EED\u7269\u7406\u5757\u3002",-1),j1=n("p",null,"\u4F46\u73B0\u5B9E\u4E2D\uFF0C\u4E3A\u4E86\u5145\u5206\u5229\u7528\u7A7A\u95F4\uFF0C\u6211\u4EEC\u4E0D\u5F97\u4E0D\u628A\u4E00\u4E2A\u6587\u4EF6\u7684\u7269\u7406\u5757\u5206\u6563\u5230\u51E0\u4E2A\u5730\u65B9\u3002",-1),H1=n("p",null,"\uFF08\u5F53\u7136\uFF0C\u5BF9\u4E8E\u5E94\u7528\u7A0B\u5E8F\u800C\u8A00\uFF0C\u4ED6\u4EEC\u770B\u5230\u7684\u662F\u903B\u8F91\u7EBF\u6027\u7684\u6587\u4EF6\u7A7A\u95F4\u3002\uFF09",-1),V1=n("p",null,"\u56E0\u6B64\uFF0C\u6709\u5FC5\u8981\u8BBE\u8BA1\u4E00\u4E2A\u7ED3\u6784\u3002\u65E2\u8981\u6EE1\u8DB3\u5145\u5206\u5229\u7528\u7A7A\u95F4\u7684\u8981\u6C42\uFF0C\u53C8\u8981\u80FD\u591F\u5FEB\u901F\u5B9A\u4F4D\u5230\u7A7A\u95F2\u7684\u7269\u7406\u5757\u3002",-1),U1=n("p",null,"\u7A7A\u95F2\u7A7A\u95F4\u540C\u6837\u901A\u8FC7 B+tree \u6765\u7BA1\u7406\uFF0C\u4F46\u662F\u5B83\u7684\u8BB0\u5F55\u7ED3\u6784\u7565\u6709\u4E0D\u540C\u3002",-1),X1=n("blockquote",null,[n("p",null,"\u6CE8\uFF1A\u7ED3\u70B9\u5934\u548C FINOB+tree \u57FA\u672C\u76F8\u540C\uFF0C\u56E0\u6B64\u7565\u8FC7\u3002")],-1),G1={__name:"14",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[N1,z1,j1,H1,V1,U1,X1]),_:1},16))}},K1=n("h2",null,"\u7528\u4E8E\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u65F6\u7684 Records (\u5185\u90E8\u8282\u70B9)",-1),q1=n("p",null,"\u5185\u90E8\u7ED3\u70B9\u7528\u4E8E\u5FEB\u901F\u5B9A\u4F4D\u5230\u76EE\u6807\u7ED3\u70B9\u3002\u6709\u4E24\u79CD\u7D22\u5F15\u65B9\u5F0F\uFF0CBNO \u7D22\u5F15\u548C CNT \u7D22\u5F15\u3002",-1),W1=n("img",{src:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654694396.png",style:{"max-height":"250px"}},null,-1),Y1=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," AllocRec {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    startblock"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u5F53\u524D\u8BB0\u5F55\u7684\u8D77\u59CB\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    blockcount"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u5F53\u524D\u8BB0\u5F55\u7684\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"AllocRec"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    startblock"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u5F53\u524D\u8BB0\u5F55\u7684\u8D77\u59CB\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    blockcount"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u5F53\u524D\u8BB0\u5F55\u7684\u5757\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")])])])],-1),Z1=n("p",null,"\u4ECE\u5B8F\u89C2\u4E0A\u770B\uFF0C\u76F8\u5F53\u4E8E\u5EFA\u7ACB\u4E86\u4E24\u4E2A\u6620\u5C04\uFF0C\u5206\u522B\u53EF\u4EE5\u7528\u6765\u5B9A\u4F4D\u5757\u53F7\u548C\u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4\u3002",-1),J1={__name:"15",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[K1,q1,W1,Y1,Z1]),_:1},16))}},Q1=n("h2",null,"\u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4",-1),ev=n("p",null,"\u7B2C\u4E00\u6B65\uFF0CAGF \u7684 roots \u5B57\u6BB5\uFF0C\u5206\u522B\u5B58\u653E\u4E86 bnoroot\u3001cntroot\u3001rmaproot\uFF08\u6CE8\uFF1Armaproot \u662F\u5BF9\u5DF2\u7528\u7A7A\u95F4\u7684\u5012\u6392\u7D22\u5F15\uFF09",-1),tv=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," AGF {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    magicnum"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"   // AG\u6247\u533A\u7684 Magic Number")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#6B737C"}},"/**")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"     * \u4ECE\u4E0B\u6807 0 \u5F00\u59CB\uFF0C\u4F9D\u6B21\u662F")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"     * bnoroot  \u8868\u793A\u201C\u4EE5\u5757\u53F7\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"     * cntroot  \u8868\u793A\u201C\u4EE5\u5757\u6570\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"     * rmaproot \u8868\u793A\u201C\u8868\u793A\u5BF9\u5DF2\u7528\u7A7A\u95F4\u7684\u5012\u6392\u7D22\u5F15 B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"     */")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    roots"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," [u32; XFS_BTNUM_AGF],"),n("span",{style:{color:"#6B737C"}}," // \u7528\u6765\u7BA1\u7406\u7A7A\u95F4\u6240\u9700\u7684\u51E0\u4E2A\u7ED3\u6784\u7684\u5934\u5730\u5740")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    spare0"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"     // \u6709\u610F\u7559\u7A7A\u7684\u5B57\u6BB5")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    levels"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," [u32; XFS_BTNUM_AGF],"),n("span",{style:{color:"#6B737C"}}," // B+\u6811\u7684\u5C42\u7EA7\u6216\u6DF1\u5EA6\uFF0C\u4E0Eagf_roots\u4E00\u4E00\u5BF9\u5E94\u3002\u5BF9\u4E8E\u65B0\u521B\u5EFA\u7684AG\uFF0C\u4E09\u4E2A level \u90FD\u662F 1")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    spare1"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"                  // \u5360\u4F4D")]),f(`
`),n("span",{class:"line"}),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    flfirst"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // FL(\u7A7A\u95F2\u94FE\u8868)\u5757\u7684\u5F00\u59CB\u4F4D\u7F6E")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    fllast"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"  // FL \u5757\u7684\u7ED3\u675F\u4F4D\u7F6E\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    flcount"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // FL \u4E2D\u7684\u5757\u6570\u91CF\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"AGF"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    magicnum"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"   // AG\u6247\u533A\u7684 Magic Number")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#C2C3C5"}},"/**")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"     * \u4ECE\u4E0B\u6807 0 \u5F00\u59CB\uFF0C\u4F9D\u6B21\u662F")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"     * bnoroot  \u8868\u793A\u201C\u4EE5\u5757\u53F7\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"     * cntroot  \u8868\u793A\u201C\u4EE5\u5757\u6570\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"     * rmaproot \u8868\u793A\u201C\u8868\u793A\u5BF9\u5DF2\u7528\u7A7A\u95F4\u7684\u5012\u6392\u7D22\u5F15 B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"     */")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    roots"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," ["),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},"; XFS_BTNUM_AGF],"),n("span",{style:{color:"#C2C3C5"}}," // \u7528\u6765\u7BA1\u7406\u7A7A\u95F4\u6240\u9700\u7684\u51E0\u4E2A\u7ED3\u6784\u7684\u5934\u5730\u5740")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    spare0"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // \u6709\u610F\u7559\u7A7A\u7684\u5B57\u6BB5")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    levels"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," ["),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},"; XFS_BTNUM_AGF],"),n("span",{style:{color:"#C2C3C5"}}," // B+\u6811\u7684\u5C42\u7EA7\u6216\u6DF1\u5EA6\uFF0C\u4E0Eagf_roots\u4E00\u4E00\u5BF9\u5E94\u3002\u5BF9\u4E8E\u65B0\u521B\u5EFA\u7684AG\uFF0C\u4E09\u4E2A level \u90FD\u662F 1")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    spare1"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"                  // \u5360\u4F4D")]),f(`
`),n("span",{class:"line"}),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    flfirst"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // FL(\u7A7A\u95F2\u94FE\u8868)\u5757\u7684\u5F00\u59CB\u4F4D\u7F6E")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    fllast"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"  // FL \u5757\u7684\u7ED3\u675F\u4F4D\u7F6E\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    flcount"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // FL \u4E2D\u7684\u5757\u6570\u91CF\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")])])])],-1),nv={__name:"16",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[Q1,ev,tv]),_:1},16))}},ov=n("h2",null,"\u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4",-1),sv=n("p",null,"\u7B2C\u4E8C\u6B65\uFF0C\u6839\u636E cntroot \u7684\u5757\u53F7\uFF0C\u53EF\u4EE5\u627E\u5230 CNT B+tree \u7684\u6839\u8282\u70B9\u3002\u4ECE\u800C\u627E\u5230\u7B2C\u4E00\u7EA7\u7D22\u5F15\u3002",-1),rv=n("p",null,"\u7B2C\u4E09\u6B65\uFF0C\u6839\u636E\u5404\u7EA7\u7D22\u5F15\u7684 blockcount \u5B57\u6BB5\uFF0C\u53EF\u4EE5\u627E\u5230\u7A7A\u95F2\u7A7A\u95F4\u7684\u8D77\u59CB\u5757\u53F7\u3002",-1),lv=n("p",null,"\u63A5\u4E0B\u6765\u5C31\u53EF\u4EE5\u4F7F\u7528\u8BE5\u7A7A\u95F4\u7A7A\u95F4\u3002",-1),iv={__name:"17",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[ov,sv,rv,lv]),_:1},16))}},av=n("h2",null,"\u63D2\u64AD\uFF1A\u7A7A\u95F4\u788E\u7247\u5316\u95EE\u9898",-1),cv=n("p",null,"\u7531\u4E8E XFS \u4F7F\u7528 FINOB+tree \u6765\u7BA1\u7406\u7A7A\u95F4\uFF0C\u867D\u7136\u5EF6\u8FDF\u5206\u914D\u4F7F\u5176\u788E\u7247\u95EE\u9898\u4F18\u4E8E\u5176\u5B83\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F46\u539F\u7406\u4E0A\u51B3\u5B9A\u4E86\u4ECD\u7136\u5B58\u5728\u7A7A\u95F4\u788E\u7247\u5316\u7684\u95EE\u9898\u3002startblock \u548C blockcount \u7684\u8BB0\u5F55\u5BF9\u4F1A\u589E\u957F\u3002\u5BFC\u81F4 b+tree \u9700\u8981\u6269\u5BB9\u3002",-1),uv=n("p",null,"\u4E3A\u4E86\u6EE1\u8DB3\u6269\u5BB9\u9700\u6C42\uFF0Cmkfs \u65F6\u6BCF\u4E2A AG \u9884\u7559\u51FA 4 \u4E2A block \u7684 Free List \u533A\u95F4\uFF0C\u5E76\u5C06\u5BF9\u5E94\u7684 block number \u8BB0\u5F55\u5230 internal Free List \u96C6\u5408 (\u6BCF\u4E2A AG \u7684\u7B2C\u56DB\u4E2A sector)\u3002",-1),pv=n("p",null,"internal Free List \u5185\u90E8\u662F\u91C7\u7528 ring buffer \u7684\u65B9\u5F0F\u5BF9 block \u505A\u7BA1\u7406\uFF0C\u7EC6\u8282\u6BD4\u8F83\u7E41\u6742\uFF0C\u7B80\u5355\u6765\u8BF4\uFF0C\u82E5 b+tree \u9700\u8981\u6269\u5BB9\uFF0C\u5219\u9700\u8981\u5BF9\u53F6\u5B50\u8282\u70B9\u8FDB\u884C\u62C6\u5206\uFF0C\u5219\u53EF\u4EE5\u4ECE freelist \u4E2D\u53D6\u51FA\u7A7A\u95F2\u7684 block \u8FDB\u884C\u4F7F\u7528\u3002freelist \u7528\u6EE1\u540E\uFF0C\u53EF\u6267\u884C\u6269\u5BB9\u3002",-1),dv=n("p",null,"\u82E5\u788E\u7247\u95EE\u9898\u5F71\u54CD\u4ECD\u7136\u5B58\u5728\uFF0C\u5219\u53EF\u901A\u8FC7 xfs_fsr \u8FDB\u884C\u788E\u7247\u6574\u7406\u3002",-1),fv={__name:"18",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[av,cv,uv,pv,dv]),_:1},16))}},hv=n("h2",null,"inode \u7684\u521D\u59CB\u5316",-1),mv=n("p",null,"inodesize \u9ED8\u8BA4\u4E3A 512 \u5B57\u8282\uFF0C\u7531\u4E09\u90E8\u5206\u6784\u6210\u3002",-1),yv=n("img",{src:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654697411.png",style:{"max-height":"130px"}},null,-1),gv=n("p",null,"\u6BD4\u8F83\u6709\u8DA3\u7684\u4E00\u70B9\u662F datafork \u548C xattrfork \u662F\u52A8\u6001\u5927\u5C0F\u7684\uFF0C\u901A\u8FC7 forkoff \u7ED9\u5B9A\u7684\u503C\u5206\u754C\u3002",-1),bv=n("p",null,"\u4E0B\u9762\u4ECB\u7ECD\u4E00\u4E0B\u8FD9\u4E09\u90E8\u5206\u3002",-1),_v={__name:"19",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[hv,mv,yv,gv,bv]),_:1},16))}},vv=n("h2",null,"inode core",-1),Fv=n("p",null,"\u4E0B\u9762\u662F inode core \u7684\u7ED3\u6784\uFF08D\u524D\u7F00\u662F\u56E0\u4E3A\u6B64\u7ED3\u6784\u5B58\u653E\u4E8E\u78C1\u76D8\u4E4B\u4E2D\uFF09\uFF0C\u7531\u4E8E\u6B64\u7ED3\u6784\u975E\u5E38\u957F\uFF0C\u4EC5\u6458\u53D6\u6700\u4E3A\u5173\u952E\u7684\u90E8\u5206\u5217\u51FA\u3002\u6587\u4EF6\u548C\u76EE\u5F55\u5171\u4EAB\u4F7F\u7528\u7684 inode \u7ED3\u6784\u5E76\u65E0\u7279\u5F02\u4E4B\u5904\u3002",-1),wv=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," Dinode {   ")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    mode"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u16,"),n("span",{style:{color:"#6B737C"}},"         // st_mode \u6743\u9650\u4F4D\u3002\u524D3\u4E2A8\u8FDB\u5236\u4E3A\u8868\u793A\u6587\u4EF6\u7684\u7C7B\u578B\u7B49\uFF0C\u6BD4\u5982\u666E\u901A\u6587\u4EF6 S_IFREG")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"                       // \u5E38\u89C1\u7684\u6709 S_IFBLK, S_IFCHR, S_IFDIR, S_IFIFO, S_IFLNK\u3002\u540E\u4E09\u4F4D\u5C31\u662F\u6587\u4EF6\u7684\u6743\u9650\u5982 rwxrwxrwx\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    format"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"        // \u683C\u5F0F\uFF0C\u5E38\u89C1\u6709 FMT_LOCAL, FMT_EXTENTS, FMT_BTREE. FMT_DEV \u7528\u4E8E\u5B57\u7B26\u6216\u5757\u8BBE\u5907")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    uid"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"          // \u6587\u4EF6\u6240\u6709\u4EBA")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    gid"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"          // \u6587\u4EF6\u6240\u5C5E\u7EC4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    nlink"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}},"        // \u786C\u94FE\u63A5\u8BA1\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    atime"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," timestamp,"),n("span",{style:{color:"#6B737C"}},"  // \u6700\u540E\u8BBF\u95EE\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    mtime"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," timestamp,"),n("span",{style:{color:"#6B737C"}},"  // \u6700\u540E\u4FEE\u6539\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    ctime"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," timestamp,"),n("span",{style:{color:"#6B737C"}},"  // \u6700\u540E inode \u72B6\u6001\u4FEE\u6539\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    size"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}}," // Inode\u7684\u5927\u5C0F\uFF0C\u5BF9\u4E8E\u6587\u4EF6inode\u6765\u8BF4\u5E76\u4E0D\u662F\u5176\u5B9E\u9645\u5360\u7528\u7A7A\u95F4\u7684\u5927\u5C0F\uFF0C\u800C\u662F\u770BEOF\u7684\u4F4D\u7F6E\u3002\u5BF9\u4E8E\u76EE\u5F55inode\u6765\u8BF4\u5C31\u662F\u76EE\u5F55\u6761\u76EE\u6240\u5360\u7684\u7A7A\u95F4\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    nblocks"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}}," // \u7EDF\u8BA1\u6B64 inode \u5360\u7528\u7684\u6587\u4EF6\u7CFB\u7EDF\u5757\u6570\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    forkoff"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}}," // datafork \u548C attrfork \u7684\u5206\u754C\u7EBF\u3002\u4E58\u4EE58\u7B49\u5230\u771F\u6B63\u7684\u504F\u79FB\u5B57\u8282\u91CF")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    flags"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," InodeFlags,"),n("span",{style:{color:"#6B737C"}}," // inode \u6807\u8BB0")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#6B737C"}},"/* di_next_unlinked is the only non-core field in the old dinode */")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    next_unlinked"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u32,"),n("span",{style:{color:"#6B737C"}}," // \u4E4B\u524D\u63D0\u5230 unlinked \u54C8\u5E0C\u8868\uFF0C\u8BB0\u5F55\u5DF2\u7ECF unlink \u4F46\u4ECD\u7136\u88AB\u5F15\u7528\u7684 inode\u3002\u6B64\u5904\u662F\u8BE5\u54C8\u5E0C\u8868\u7684\u62C9\u94FE\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    changecount"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u64,"),n("span",{style:{color:"#6B737C"}}," // inode \u7684 i_version\uFF0C\u6BCF\u6B21\u4FEE\u6539 inode \u65F6\u52A0 1")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    "),n("span",{style:{color:"#6B737C"}},"/* fields only written to during inode creation */")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    crtime"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," timestamp,"),n("span",{style:{color:"#6B737C"}}," // \u521B\u5EFA\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")]),f(`
`),n("span",{class:"line"})])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"Dinode"),n("span",{style:{color:"#24292EFF"}}," {   ")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    mode"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u16"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"         // st_mode \u6743\u9650\u4F4D\u3002\u524D3\u4E2A8\u8FDB\u5236\u4E3A\u8868\u793A\u6587\u4EF6\u7684\u7C7B\u578B\u7B49\uFF0C\u6BD4\u5982\u666E\u901A\u6587\u4EF6 S_IFREG")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"                       // \u5E38\u89C1\u7684\u6709 S_IFBLK, S_IFCHR, S_IFDIR, S_IFIFO, S_IFLNK\u3002\u540E\u4E09\u4F4D\u5C31\u662F\u6587\u4EF6\u7684\u6743\u9650\u5982 rwxrwxrwx\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    format"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"        // \u683C\u5F0F\uFF0C\u5E38\u89C1\u6709 FMT_LOCAL, FMT_EXTENTS, FMT_BTREE. FMT_DEV \u7528\u4E8E\u5B57\u7B26\u6216\u5757\u8BBE\u5907")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    uid"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"          // \u6587\u4EF6\u6240\u6709\u4EBA")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    gid"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"          // \u6587\u4EF6\u6240\u5C5E\u7EC4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    nlink"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"        // \u786C\u94FE\u63A5\u8BA1\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    atime"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," timestamp,"),n("span",{style:{color:"#C2C3C5"}},"  // \u6700\u540E\u8BBF\u95EE\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    mtime"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," timestamp,"),n("span",{style:{color:"#C2C3C5"}},"  // \u6700\u540E\u4FEE\u6539\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    ctime"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," timestamp,"),n("span",{style:{color:"#C2C3C5"}},"  // \u6700\u540E inode \u72B6\u6001\u4FEE\u6539\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    size"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // Inode\u7684\u5927\u5C0F\uFF0C\u5BF9\u4E8E\u6587\u4EF6inode\u6765\u8BF4\u5E76\u4E0D\u662F\u5176\u5B9E\u9645\u5360\u7528\u7A7A\u95F4\u7684\u5927\u5C0F\uFF0C\u800C\u662F\u770BEOF\u7684\u4F4D\u7F6E\u3002\u5BF9\u4E8E\u76EE\u5F55inode\u6765\u8BF4\u5C31\u662F\u76EE\u5F55\u6761\u76EE\u6240\u5360\u7684\u7A7A\u95F4\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    nblocks"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u7EDF\u8BA1\u6B64 inode \u5360\u7528\u7684\u6587\u4EF6\u7CFB\u7EDF\u5757\u6570\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    forkoff"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // datafork \u548C attrfork \u7684\u5206\u754C\u7EBF\u3002\u4E58\u4EE58\u7B49\u5230\u771F\u6B63\u7684\u504F\u79FB\u5B57\u8282\u91CF")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    flags"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"InodeFlags"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // inode \u6807\u8BB0")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#C2C3C5"}},"/* di_next_unlinked is the only non-core field in the old dinode */")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    next_unlinked"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u32"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // \u4E4B\u524D\u63D0\u5230 unlinked \u54C8\u5E0C\u8868\uFF0C\u8BB0\u5F55\u5DF2\u7ECF unlink \u4F46\u4ECD\u7136\u88AB\u5F15\u7528\u7684 inode\u3002\u6B64\u5904\u662F\u8BE5\u54C8\u5E0C\u8868\u7684\u62C9\u94FE\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    changecount"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u64"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}}," // inode \u7684 i_version\uFF0C\u6BCF\u6B21\u4FEE\u6539 inode \u65F6\u52A0 1")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    "),n("span",{style:{color:"#C2C3C5"}},"/* fields only written to during inode creation */")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    crtime"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," timestamp,"),n("span",{style:{color:"#C2C3C5"}}," // \u521B\u5EFA\u65F6\u95F4")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")]),f(`
`),n("span",{class:"line"})])])],-1),xv={__name:"20",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[vv,Fv,wv]),_:1},16))}},kv=n("h2",null,"data fork (\u666E\u901A\u6587\u4EF6)",-1),Cv=n("p",null,"\u5B58\u653E\u6587\u4EF6\u7684\u6570\u636E\u3002xfs \u6709\u4E24\u79CD\u6A21\u5F0F\uFF0C\u4E00\u79CD\u662F extent \u6A21\u5F0F\uFF0C\u4E00\u79CD\u662F b+tree \u6A21\u5F0F\u3002\u672C\u8D28\u800C\u8A00\uFF0C\u5B83\u4EEC\u90FD\u5145\u5F53 Bmap \u7684\u4F5C\u7528\uFF08\u6CE8\u610F\uFF1Abmap \u4E0D\u662F\u4F4D\u56FE\uFF0C\u800C\u662F\u5757\u6620\u5C04\uFF09",-1),Ev=n("p",null,[n("strong",null,"extent \u6A21\u5F0F"),f(":\u4E00\u4E2A extend \u957F 128B\uFF0C\u7531 flag, \u903B\u8F91\u504F\u79FB, \u7269\u7406\u5757\u53F7\uFF0C\u7269\u7406\u5757\u6570\u51E0\u90E8\u5206\u7EC4\u6210\u3002"),n("strong",null,"\u5BF9\u4E8E\u7B80\u5355\u7684\u6587\u4EF6\uFF0C\u5E76\u4E0D\u9700\u8981\u7528 b+tree \u53BB\u5B58\u50A8\uFF0C\u53EA\u8981\u7528\u6570\u4E2A extend \u5C31\u591F\u4E86"),f("\uFF08\u8FD9\u5B9E\u9645\u4E0A\u5C31\u662F\u6211\u4EEC\u521D\u5B66\u64CD\u4F5C\u7CFB\u7EDF\u65F6\u4E86\u89E3\u5230\u7684\u6A21\u5F0F\uFF0C\u76F4\u63A5\u5728 inode \u4E2D\u8BB0\u5F55\u6587\u4EF6\u7684\u7269\u7406\u5757\u4F4D\u7F6E\uFF09\u3002\u8FD9\u4E9B extend \u5728\u5177\u4F53\u8BFB\u5199\u6587\u4EF6\u65F6\u90FD\u4F1A\u88AB\u8F6C\u6362\u4E3A\u7269\u7406\u5757\u4F4D\u7F6E\u53BB\u8BFB\u5199\u3002\uFF08\u548C inode \u4E00\u6837\uFF0C\u4E00\u4E2A extend \u4E5F\u53EF\u80FD\u5904\u4E8E\u9884\u5206\u914D\u672A\u5199\u5165\u72B6\u6001\uFF09")],-1),Sv=n("p",null,[n("strong",null,"B+tree \u6A21\u5F0F"),f("\uFF1A\u5F53 extents \u4E0D\u80FD\u6EE1\u8DB3\u9700\u6C42\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0Cextents \u4F1A\u88AB\u9500\u6BC1\uFF0C\u7528\u4E00\u68F5\u6811\u53D6\u800C\u4EE3\u4E4B\u3002\u539F\u6765 extents \u7684\u5730\u65B9\u53D8\u6210\u4E86\u4E00\u4E2A b+tree \u6811\u6839\u3002")],-1),Bv=n("p",null,"\u5185\u90E8\u8282\u70B9\u548C\u8BBE\u8BA1\u548C\u4E4B\u524D\u6240\u8FF0\u5927\u540C\u5C0F\u5F02\u3002\u800C\u53F6\u8282\u70B9\u5B9E\u9645\u4E0A\u5C31\u662F extents.",-1),$v=n("p",null,[n("strong",null,"\u7C7B\u4F3C\u6211\u4EEC\u521D\u5B66 OS \u65F6\u4E86\u89E3\u7684\u591A\u7EA7\u7D22\u5F15\uFF0C\u4F46\u8FD9\u79CD\u7D22\u5F15\u662F\u901A\u8FC7 b+tree \u5B9E\u73B0\u7684\uFF0C\u800C\u4E14\u53EF\u4EE5\u4EFB\u610F\u7EA7\u522B\u3002")],-1),Ov={__name:"21",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[kv,Cv,Ev,Sv,Bv,$v]),_:1},16))}},Av=n("h2",null,"data fork\uFF08\u76EE\u5F55\uFF09",-1),Iv=n("blockquote",null,[n("p",null,"\u76EE\u5F55\u5757\u4E0EFS\u5757\u6709\u6240\u4E0D\u540C\u3002\u5927\u5BB6\u53EA\u8981\u77E5\u9053\u76EE\u5F55\u6709\u81EA\u5DF1\u5355\u72EC\u7684 directory blocksize \u5C31\u884C\u4E86\u3002")],-1),Pv=n("ul",null,[n("li",null,[n("strong",null,"\u77ED\u76EE\u5F55"),f("\uFF1A\u5BF9\u7B80\u5355\u7684\u76EE\u5F55\uFF0C\u76F4\u63A5\u5728 datafork \u5B58\u76EE\u5F55\u4FE1\u606F\u3002\u5305\u62EC\u76EE\u5F55\u5934\u548C\u76EE\u5F55\u9879\u3002\u4E0D\u5355\u72EC\u5B58\u50A8 "),n("code",null,"."),f(" \u548C "),n("code",null,"..")]),n("li",null,[n("strong",null,"\u5757\u76EE\u5F55"),f("\uFF1A\u5F53\u77ED\u76EE\u5F55\u4E0D\u591F\u7528\uFF08datafork \u6EE1\uFF09\u5219\u9700\u8981\u53D8\u6210\u5757\u76EE\u5F55\u3002\u5757\u76EE\u5F55\u4FE1\u606F\u7528\u5355\u72EC\u7684 dir block\uFF0C\u867D\u7136\u662F\u7EBF\u6027\uFF0C\u4F46\u901A\u8FC7\u54C8\u5E0C\u8868 leaf entry \u5B58\u653E\u3002\u7D22\u5F15\u8D77\u6765\u5F88\u5FEB\u3002")]),n("li",null,[n("strong",null,"\u53F6\u76EE\u5F55"),f("\uFF1A\u5757\u76EE\u5F55\u7684\u5FAE\u5C0F\u6539\u8FDB\uFF0C\u591A\u4E2A data blocks \u6765\u5B58\u50A8 data entries\uFF0C\u5E76\u5C06 leaf entries \u8F6C\u79FB\u5230\u4E00\u4E2A\u5355\u72EC\u7684 leaf block \u4E2D\u3002")]),n("li",null,[n("strong",null,"\u8282\u70B9\u76EE\u5F55"),f("\uFF1A\u5728\u9875\u76EE\u5F55\u7684\u57FA\u7840\u4E0A\uFF0C\u589E\u52A0\u5BF9\u53F6\u5757\u7684\u7D22\u5F15\uFF08free index block\uFF09\u3002")]),n("li",null,[n("strong",null,"B+tree \u76EE\u5F55"),f("\uFF1A\u5728\u8282\u70B9\u76EE\u5F55\u7684\u57FA\u7840\u4E0A\uFF0C\u589E\u52A0\u591A\u5C42 node block\u3002")])],-1),Mv={__name:"22",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[Av,Iv,Pv]),_:1},16))}},Tv=n("h2",null,"data fork\uFF08\u76EE\u5F55\uFF09",-1),Lv=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," DirShortFormatHeader {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    count"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u16,"),n("span",{style:{color:"#6B737C"}},"      // \u6B64\u76EE\u5F55 \u9879\u7684\u4E2A\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    i8count"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"     // \u8868\u793A\u6709\u591A\u5C11\u76EE\u5F55\u7684\u6761\u76EE\u662F\u7528\u4E8E64\u4F4Dinode\u7684\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    parent"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," [u8; "),n("span",{style:{color:"#F8F8F8"}},"8"),n("span",{style:{color:"#B392F0"}},"],"),n("span",{style:{color:"#6B737C"}}," // \u7236\u76EE\u5F55\u7684inode\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#6B737C"}},"// \uFF08\u77ED\uFF09\u76EE\u5F55\u9879\uFF1A")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"pub"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," DirShortFormatEntry {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    namelen"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," u8,"),n("span",{style:{color:"#6B737C"}},"     // \u6587\u4EF6\u540D\u957F\u5EA6")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    offset"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," [u8; "),n("span",{style:{color:"#F8F8F8"}},"2"),n("span",{style:{color:"#B392F0"}},"],"),n("span",{style:{color:"#6B737C"}}," // \u504F\u79FB\uFF0C\u7528\u4E8E\u8F85\u52A9\u5728readdir\u7684\u65F6\u5019\u8FED\u4EE3\u76EE\u5F55\u5185\u5BB9\u7528\u7684\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"    name"),n("span",{style:{color:"#F97583"}},":"),n("span",{style:{color:"#B392F0"}}," [u8],"),n("span",{style:{color:"#6B737C"}},"      // \u6587\u4EF6\u540D\uFF0Cflexible array")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"}")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"DirShortFormatHeader"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    count"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u16"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"      // \u6B64\u76EE\u5F55 \u9879\u7684\u4E2A\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    i8count"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // \u8868\u793A\u6709\u591A\u5C11\u76EE\u5F55\u7684\u6761\u76EE\u662F\u7528\u4E8E64\u4F4Dinode\u7684\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    parent"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," ["),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},"; "),n("span",{style:{color:"#1976D2"}},"8"),n("span",{style:{color:"#24292EFF"}},"],"),n("span",{style:{color:"#C2C3C5"}}," // \u7236\u76EE\u5F55\u7684inode\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#C2C3C5"}},"// \uFF08\u77ED\uFF09\u76EE\u5F55\u9879\uFF1A")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"pub"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"DirShortFormatEntry"),n("span",{style:{color:"#24292EFF"}}," {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    namelen"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},","),n("span",{style:{color:"#C2C3C5"}},"     // \u6587\u4EF6\u540D\u957F\u5EA6")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    offset"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," ["),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},"; "),n("span",{style:{color:"#1976D2"}},"2"),n("span",{style:{color:"#24292EFF"}},"],"),n("span",{style:{color:"#C2C3C5"}}," // \u504F\u79FB\uFF0C\u7528\u4E8E\u8F85\u52A9\u5728readdir\u7684\u65F6\u5019\u8FED\u4EE3\u76EE\u5F55\u5185\u5BB9\u7528\u7684\u3002")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"    name"),n("span",{style:{color:"#D32F2F"}},":"),n("span",{style:{color:"#24292EFF"}}," ["),n("span",{style:{color:"#6F42C1"}},"u8"),n("span",{style:{color:"#24292EFF"}},"],"),n("span",{style:{color:"#C2C3C5"}},"      // \u6587\u4EF6\u540D\uFF0Cflexible array")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"}")])])])],-1),Rv=n("blockquote",null,[n("p",null,"\u6587\u4EF6\u540D\u3001\u76EE\u5F55\u540D\u662F\u901A\u8FC7\u5F39\u6027\u6570\u7EC4\u5B58\u653E\u7684\u3002\u56E0\u6B64\u4E0D\u540C\u4E8E\u4E00\u4E9B\u65E9\u671F\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5B83\u4EEC\u53EA\u80FD\u91C7\u7528\u56FA\u5B9A\u957F\u5EA6\u7684\u76EE\u5F55\u540D\u3002\u800C XFS \u7684\u76EE\u5F55\u540D\u51E0\u4E4E\u53EF\u4EE5\u4EFB\u610F\u957F\u5EA6\u3002")],-1),Dv=n("h2",null,"datafork \uFF08\u7B26\u53F7\u94FE\u63A5\uFF09",-1),Nv=n("p",null,"\u540C\u5B66\u4EEC\u6709\u6CA1\u6709\u597D\u5947\u7B26\u53F7\u94FE\u63A5\u6587\u4EF6\u662F\u600E\u4E48\u5B9E\u73B0\u7684\uFF1FXFS \u7B26\u53F7\u94FE\u63A5\u6709\u4E24\u79CD\uFF1A",-1),zv=n("ul",null,[n("li",null,[n("strong",null,"local symlink"),f("\uFF1A\u5373\u76F4\u63A5\u5728 datafork \u8FDB\u884C\u8FDE\u63A5\u3002\u5185\u5BB9\u5C31\u662F\u8DEF\u5F84\u3002")]),n("li",null,[n("strong",null,"extent symlink"),f("\uFF1A\u8FD9\u662F\u8003\u8651\u5230\u94FE\u63A5\u8DEF\u5F84\u8FC7\u957F\uFF0Cdatafork \u65E0\u6CD5\u5BB9\u7EB3\uFF0C\u5219\u91C7\u7528\u5355\u72EC\u7684 symlink block \u6765\u5B58\u653E\uFF0C\u539F\u5148 datafork \u6539\u5B58\u7D22\u5F15\u3002")])],-1),jv=n("p",null,"\u7B26\u53F7\u94FE\u63A5\u6CA1\u6709 b+tree \u7EC4\u7EC7\u5F62\u5F0F\u3002\u6211\u731C\u662F\u8003\u8651\u5230\u4E0D\u53EF\u80FD\u6709\u90A3\u4E48\u957F\u7684\u76EE\u6807\u6587\u4EF6\u540D\u3002",-1),Hv={__name:"23",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[Tv,Lv,Rv,Dv,Nv,zv,jv]),_:1},16))}},Vv=n("h2",null,"attr fork",-1),Uv=n("p",null,"attr fork \u7684\u4F5C\u7528\u662F\u5B58\u653E\u6216\u7D22\u5F15\u6269\u5C55\u5C5E\u6027\u3002\u6269\u5C55\u5C5E\u6027\u76F8\u5F53\u4E8E\u7ED9\u6587\u4EF6\u52A0\u81EA\u5B9A\u4E49\u5B57\u6BB5\u3002\u4F8B\u5982 acl \u548C selinux \u7B49\u90FD\u662F\u57FA\u4E8E\u8BE5\u7279\u6027\u7684\u3002\u5982\u679C\u4F60\u7528\u8FC7 setxattr getxattr \u4E4B\u7C7B\u7684 syscall\uFF0C\u4F60\u5E94\u8BE5\u4F1A\u5F88\u719F\u6089\u5B83\u3002\u5176\u5185\u5BB9\u7B80\u5355\u800C\u8A00\u5C31\u662F key-val \u5BF9\u3002",-1),Xv=n("p",null,"\u4E3A\u4E86\u652F\u6301\u53D8\u957F\uFF0C\u4F7F\u7528 namelen, valuelen \u8BB0\u5F55 key-val \u5BF9\u7684\u957F\u5EA6\u3002",-1),Gv=n("p",null,"\u548C\u76EE\u5F55\u4E00\u6837\uFF0C\u652F\u6301 local, extent \u548C btree \u4E09\u79CD\u7EC4\u7EC7\u5F62\u5F0F\u3002\u5927\u540C\u5C0F\u5F02\uFF0C\u56E0\u6B64\u7565\u8FC7\u3002",-1),Kv={__name:"24",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[Vv,Uv,Xv,Gv]),_:1},16))}},qv=n("h1",null,"\u6587\u4EF6\u7CFB\u7EDF\u65E5\u5FD7",-1),Wv=n("p",null,"Log-structured File System",-1),Yv=n("p",null,"LFS \u63D0\u9AD8\u8BFB\u5199\u6027\u80FD\u7684\u57FA\u672C\u601D\u60F3\uFF1A\u5728\u5185\u5B58\u4E2D\u8BBE\u7ACB\u4E00\u4E2A\u7F13\u51B2\u961F\u5217\uFF0C\u628A\u5199\u64CD\u4F5C\u7F13\u51B2\u5230\u961F\u5217\u4E2D\uFF0C\u6BCF\u9694\u4E00\u6BB5\u65F6\u95F4\uFF0C\u88AB\u7F13\u51B2\u5728\u5185\u5B58\u4E2D\u7684\u6240\u6709\u672A\u51B3\u7684\u5199\u64CD\u4F5C\u90FD\u88AB\u5B58\u5230\u78C1\u76D8\u4E2D\u3002",-1),Zv=n("p",null,"LFS \u65E5\u5FD7\u7ED3\u6784\u7684\u57FA\u672C\u601D\u60F3\uFF1A\u8BB0\u5F55\u7CFB\u7EDF\u4E0B\u4E00\u6B65\u5C06\u8981\u505A\u4EC0\u4E48\u7684\u65E5\u5FD7\u3002\u8FD9\u6837\u5F53\u7CFB\u7EDF\u5728\u5B8C\u6210\u5B83\u4EEC\u5373\u5C06\u5B8C\u6210\u7684\u4EFB\u52A1\u524D\u5D29\u6E83\u65F6\uFF0C\u91CD\u65B0\u542F\u52A8\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u67E5\u770B\u65E5\u5FD7\uFF0C\u83B7\u53D6\u5D29\u6E83\u524D\u8BA1\u5212\u5B8C\u6210\u7684\u4EFB\u52A1\uFF0C\u5E76\u5B8C\u6210\u5B83\u4EEC\u3002",-1),Jv={__name:"25",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[qv,Wv,Yv,Zv]),_:1},16))}},Qv=n("h1",null,"XFS \u65E5\u5FD7\u7ED3\u6784",-1),eF=n("p",null,"XFS \u65E5\u5FD7\u88AB\u5206\u4E3A\u4E00\u7CFB\u5217\u65E5\u5FD7\u8BB0\u5F55\uFF08log record\uFF0CLR\uFF09\u3002\u6BCF\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u90FD\u6709\u4E00\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u5934\uFF08log record header\uFF09",-1),tF=n("p",null,"xlog_rec_header \u6458\u5F55\u5982\u4E0B\uFF1A",-1),nF=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"}),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"typedef"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," xlog_rec_header {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	__be32	  h_cycle; "),n("span",{style:{color:"#6B737C"}},"// \u6240\u5C5E\u5199\u5468\u671F")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	__be32	  h_len;   "),n("span",{style:{color:"#6B737C"}},"// \u5B57\u8282\u957F\u5EA6\uFF0C64 bit \u5BF9\u5176")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	__be64	  h_lsn;   "),n("span",{style:{color:"#6B737C"}},"// \u6B64 LR \u5E8F\u5217\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	__be64	  h_tail_lsn; "),n("span",{style:{color:"#6B737C"}},"// \u7B2C\u4E00\u4E2A\u672A\u63D0\u4EA4\u7684\u5199 buffer LR \u7684\u5E8F\u5217\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	__be32	  h_prev_block; "),n("span",{style:{color:"#6B737C"}},"// \u4E0A\u4E00\u4E2A LR \u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	__be32	  h_num_logops; "),n("span",{style:{color:"#6B737C"}},"// \u6B64 LR \u7684\u64CD\u4F5C\u4E2A\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	__be32	  h_cycle_data[XLOG_HEADER_CYCLE_SIZE "),n("span",{style:{color:"#F97583"}},"/"),n("span",{style:{color:"#B392F0"}}," BBSIZE]; "),n("span",{style:{color:"#6B737C"}},"// \u5FAA\u73AF\u6570\u636E")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"  "),n("span",{style:{color:"#6B737C"}},"// ...")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"} "),n("span",{style:{color:"#79B8FF"}},"xlog_rec_header_t"),n("span",{style:{color:"#B392F0"}},";")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"}),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"typedef"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," xlog_rec_header {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	__be32	  h_cycle; "),n("span",{style:{color:"#C2C3C5"}},"// \u6240\u5C5E\u5199\u5468\u671F")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	__be32	  h_len;   "),n("span",{style:{color:"#C2C3C5"}},"// \u5B57\u8282\u957F\u5EA6\uFF0C64 bit \u5BF9\u5176")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	__be64	  h_lsn;   "),n("span",{style:{color:"#C2C3C5"}},"// \u6B64 LR \u5E8F\u5217\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	__be64	  h_tail_lsn; "),n("span",{style:{color:"#C2C3C5"}},"// \u7B2C\u4E00\u4E2A\u672A\u63D0\u4EA4\u7684\u5199 buffer LR \u7684\u5E8F\u5217\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	__be32	  h_prev_block; "),n("span",{style:{color:"#C2C3C5"}},"// \u4E0A\u4E00\u4E2A LR \u7684\u5757\u53F7")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	__be32	  h_num_logops; "),n("span",{style:{color:"#C2C3C5"}},"// \u6B64 LR \u7684\u64CD\u4F5C\u4E2A\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	__be32	  h_cycle_data[XLOG_HEADER_CYCLE_SIZE "),n("span",{style:{color:"#D32F2F"}},"/"),n("span",{style:{color:"#24292EFF"}}," BBSIZE]; "),n("span",{style:{color:"#C2C3C5"}},"// \u5FAA\u73AF\u6570\u636E")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"  "),n("span",{style:{color:"#C2C3C5"}},"// ...")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"} "),n("span",{style:{color:"#1976D2"}},"xlog_rec_header_t"),n("span",{style:{color:"#24292EFF"}},";")])])])],-1),oF={__name:"26",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[Qv,eF,tF,nF]),_:1},16))}},sF=n("p",null,"\u800C\u4E00\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u5934\u4E4B\u540E\uFF0C\u53C8\u5305\u542B\u591A\u4E2A\u65E5\u5FD7\u64CD\u4F5C(log op)\u5934\u3002\u6BCF\u4E2A log op \u540E\u7D27\u8DDF data region.",-1),rF=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"typedef"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," xlog_op_header {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"__be32 oh_tid; "),n("span",{style:{color:"#6B737C"}},"// \u6B64\u64CD\u4F5C\u7684\u4E8B\u52A1 ID")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"__be32 oh_len; "),n("span",{style:{color:"#6B737C"}},"// \u6570\u636E\u57DF\u957F\u5EA6")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"__u8 oh_clientid; "),n("span",{style:{color:"#6B737C"}},"// \u64CD\u4F5C\u6765\u6E90")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"__u8 oh_flags; "),n("span",{style:{color:"#6B737C"}},"// \u72B6\u6001\u4F4D")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"__u16 oh_res2; "),n("span",{style:{color:"#6B737C"}},"// \u586B\u5145")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"} "),n("span",{style:{color:"#79B8FF"}},"xlog_op_header_t"),n("span",{style:{color:"#B392F0"}},";")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"typedef"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," xlog_op_header {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"__be32 oh_tid; "),n("span",{style:{color:"#C2C3C5"}},"// \u6B64\u64CD\u4F5C\u7684\u4E8B\u52A1 ID")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"__be32 oh_len; "),n("span",{style:{color:"#C2C3C5"}},"// \u6570\u636E\u57DF\u957F\u5EA6")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"__u8 oh_clientid; "),n("span",{style:{color:"#C2C3C5"}},"// \u64CD\u4F5C\u6765\u6E90")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"__u8 oh_flags; "),n("span",{style:{color:"#C2C3C5"}},"// \u72B6\u6001\u4F4D")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"__u16 oh_res2; "),n("span",{style:{color:"#C2C3C5"}},"// \u586B\u5145")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"} "),n("span",{style:{color:"#1976D2"}},"xlog_op_header_t"),n("span",{style:{color:"#24292EFF"}},";")])])])],-1),lF=n("p",null,"\u503C\u5F97\u4E00\u63D0\u7684\u662F oh_flags\uFF0C\u5305\u62EC\uFF1A",-1),iF=n("ul",null,[n("li",null,[n("code",null,"XLOG_START_TRANS"),f(" \u5F00\u59CB\u4E00\u4E2A\u65B0\u4E8B\u52A1\u3002\u5219\u4E0B\u4E00\u4E2A\u64CD\u4F5C\u662F\u4E8B\u52A1\u5934\u63CF\u8FF0\u3002")]),n("li",null,[n("code",null,"XLOG_COMMIT_TRANS"),f(" \u63D0\u4EA4\u4E8B\u52A1")]),n("li",null,[n("code",null,"XLOG_CONTINUE_TRANS"),f(" \u4E2D\u7EE7\u6B64\u4E8B\u52A1\u5230\u53E6\u4E00\u4E2A log record")]),n("li",null,[n("code",null,"XLOG_WAS_CONT_TRANS"),f(" \u8868\u793A\u4E8B\u52A1\u5F00\u59CB\u4E8E\u524D\u4E00\u4E2A log record")]),n("li",null,[n("code",null,"XLOG_END_TRANS"),f(" \u4E8B\u52A1\u7ED3\u675F")]),n("li",null,[n("code",null,"XLOG_UNMOUNT_TRANS"),f(" \u5378\u8F7D\u6587\u4EF6\u7CFB\u7EDF")])],-1),aF={__name:"27",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[sF,rF,lF,iF]),_:1},16))}},cF=n("h1",null,"\u4E8B\u52A1\u5934\u548C\u65E5\u5FD7\u9879\uFF0C\u4EE5\u53CA\u65E5\u5FD7\u539F\u7406",-1),uF=n("p",null,"\u5728\u64CD\u4F5C\u5934\u4E4B\u540E\uFF0C\u53EF\u4EE5\u8DDF\u591A\u79CD\u7C7B\u578B\u7684\u8D1F\u8F7D\u3002\u8FD9\u4E9B\u8D1F\u8F7D\u901A\u8FC7 th_type \u533A\u5206\u3002",-1),pF=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#F97583"}},"typedef"),n("span",{style:{color:"#B392F0"}}," "),n("span",{style:{color:"#F97583"}},"struct"),n("span",{style:{color:"#B392F0"}}," xfs_trans_header {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	"),n("span",{style:{color:"#F97583"}},"uint"),n("span",{style:{color:"#B392F0"}},"		th_magic; "),n("span",{style:{color:"#F97583"}},"uint"),n("span",{style:{color:"#B392F0"}},"		th_type;		"),n("span",{style:{color:"#6B737C"}},"// \u4E8B\u52A1\u7C7B\u578B")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	"),n("span",{style:{color:"#F97583"}},"int32_t"),n("span",{style:{color:"#B392F0"}},"		th_tid;		"),n("span",{style:{color:"#6B737C"}},"// \u4E8B\u52A1 id")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"	"),n("span",{style:{color:"#F97583"}},"uint"),n("span",{style:{color:"#B392F0"}},"		th_num_items;		"),n("span",{style:{color:"#6B737C"}},"// \u4E8B\u52A1\u65E5\u5FD7\u8BB0\u5F55\u9879\u76EE\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#B392F0"}},"} "),n("span",{style:{color:"#79B8FF"}},"xfs_trans_header_t"),n("span",{style:{color:"#B392F0"}},";")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#D32F2F"}},"typedef"),n("span",{style:{color:"#24292EFF"}}," "),n("span",{style:{color:"#D32F2F"}},"struct"),n("span",{style:{color:"#24292EFF"}}," xfs_trans_header {")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	"),n("span",{style:{color:"#D32F2F"}},"uint"),n("span",{style:{color:"#24292EFF"}},"		th_magic; "),n("span",{style:{color:"#D32F2F"}},"uint"),n("span",{style:{color:"#24292EFF"}},"		th_type;		"),n("span",{style:{color:"#C2C3C5"}},"// \u4E8B\u52A1\u7C7B\u578B")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	"),n("span",{style:{color:"#D32F2F"}},"int32_t"),n("span",{style:{color:"#24292EFF"}},"		th_tid;		"),n("span",{style:{color:"#C2C3C5"}},"// \u4E8B\u52A1 id")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"	"),n("span",{style:{color:"#D32F2F"}},"uint"),n("span",{style:{color:"#24292EFF"}},"		th_num_items;		"),n("span",{style:{color:"#C2C3C5"}},"// \u4E8B\u52A1\u65E5\u5FD7\u8BB0\u5F55\u9879\u76EE\u6570")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292EFF"}},"} "),n("span",{style:{color:"#1976D2"}},"xfs_trans_header_t"),n("span",{style:{color:"#24292EFF"}},";")])])])],-1),dF=n("p",null,"\u6BCF\u4E2A log item \u6709\u5982\u4E0B\u7C7B\u578B\uFF08\u4EC5\u6458\u5F55\u6BD4\u8F83\u91CD\u8981\u7684\uFF09\uFF1A",-1),fF=n("pre",{class:"shiki-container"},[n("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#1f1f1f"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_EFI        Extent \u91CA\u653E\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_EFD        Extent \u91CA\u653E\uFF08done\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_INODE      Inode \u66F4\u65B0")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_ICREATE    Inode \u521B\u5EFA")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_RUI        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_RUD        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08done\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_CUI        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_CUD        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08done\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_BUI        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#b392f0"}},"XFS_LI_BUD        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08done\uFF09")])])]),n("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[n("code",null,[n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_EFI        Extent \u91CA\u653E\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_EFD        Extent \u91CA\u653E\uFF08done\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_INODE      Inode \u66F4\u65B0")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_ICREATE    Inode \u521B\u5EFA")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_RUI        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_RUD        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08done\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_CUI        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_CUD        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08done\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_BUI        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08intent\uFF09")]),f(`
`),n("span",{class:"line"},[n("span",{style:{color:"#24292eff"}},"XFS_LI_BUD        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08done\uFF09")])])])],-1),hF=n("p",null,"\u53EF\u4EE5\u770B\u5230\uFF0C\u57FA\u672C\u4E0A\u5C31\u662F\u4E24\u9636\u6BB5\u63D0\u4EA4\u534F\u8BAE\u3002",-1),mF={__name:"28",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[cF,uF,pF,dF,fF,hF]),_:1},16))}},yF=n("h2",null,"\u603B\u7ED3",-1),gF=n("p",null,"XFS \u901A\u8FC7 AG \u7EC4\u7EC7\u5206\u533A\uFF0C\u901A\u8FC7 SB \u548C AGF\u3001AGI\u3001AGFL \u67B6\u6784\u8D77 AG \u7684\u7ED3\u6784\u3002XFS \u8D2F\u7A7F\u59CB\u7EC8\u601D\u8DEF\u7684\u5C31\u662F\u7D22\u5F15\u3002\u629B\u5F03\u4E86\u4F4D\u56FE\u65B9\u6848\uFF0C\u5E76\u91CD\u5EA6\u4F7F\u7528 b+tree \u7D22\u5F15\u3002\u5C31\u5168\u5C40\u800C\u8A00\uFF1A",-1),bF=n("ul",null,[n("li",null,"BNO \u7A7A\u95F2\u7A7A\u95F4\u5757\u53F7\u7D22\u5F15"),n("li",null,"CNT \u7A7A\u95F2\u7A7A\u95F4\u5757\u6570\u7D22\u5F15"),n("li",null,"INO \u7D22\u5F15\u8282\u70B9\u53F7\u7D22\u5F15"),n("li",null,"FINO \u7A7A\u95F2\u7D22\u5F15\u8282\u70B9\u53F7\u7D22\u5F15")],-1),_F=n("p",null,"\u5C31\u4E00\u4E2A inode \u800C\u8A00\uFF1A datafork/attrfork \u5185\u4F7F\u7528\u6DF7\u6742\u7D22\u5F15\u3002\u5176\u7D22\u5F15\u8BBE\u8BA1\u601D\u60F3\u57FA\u672C\u9075\u5FAA\u8FD9\u6837\u7684\u601D\u8DEF\uFF1A local/extent/ leaf/b+tree",-1),vF=n("p",null,"\u5728\u65E5\u5FD7\u7ED3\u6784\u5316\u65B9\u9762\uFF0C\u901A\u8FC7 log - log_record - log_op - log_item \u7684\u5C42\u6B21\uFF0C\u57FA\u4E8E\u4E24\u9636\u6BB5\u63D0\u4EA4\u6765\u5B9E\u73B0\u591A\u5C42\u6B21\u7684\u65E5\u5FD7\u3002",-1),FF=n("p",null,"\u5728\u6027\u80FD\u4F18\u5316\u65B9\u9762\uFF0C\u5229\u7528\u65E5\u5FD7\u5316\u3001\u5E76\u884C IO\u3001\u5EF6\u8FDF\u5206\u914D\u7B49\uFF0C\u5B9E\u73B0\u4E86\u9AD8\u6027\u80FD\u3002\u5B9E\u73B0\u4E86 Reflink\uFF0C\u80FD\u591F\u9AD8\u901F\u62F7\u8D1D\u6587\u4EF6\u3002",-1),wF={__name:"29",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[yF,gF,bF,_F,vF,FF]),_:1},16))}},xF=n("h2",null,"\u53C2\u8003\u6587\u732E",-1),kF=n("p",null,[n("em",null,"XFS Algorithms & Data Structures 3rd Edition")],-1),CF=n("p",null,[n("em",null,"XFS in Linux source"),f(),n("a",{href:"https://github.com/torvalds/linux/tree/master/fs/xfs",target:"_blank",rel:"noopener"},"https://github.com/torvalds/linux/tree/master/fs/xfs")],-1),EF=n("p",null,[n("em",null,"Related articles"),f(),n("a",{href:"https://lwn.net/",target:"_blank",rel:"noopener"},"https://lwn.net/")],-1),SF={__name:"30",setup(e){const t={};return H(q),(o,s)=>(C(),K(Ae,xe(ve(t)),{default:ie(()=>[xF,kF,CF,EF]),_:1},16))}};var BF=[{path:"1",name:"page-1",component:v_,meta:{theme:"purplin",position:"center",highlighter:"shiki",lineNumbers:!1,layout:"intro",title:"\u6DF1\u5165\u7406\u89E3 XFS \u6587\u4EF6\u7CFB\u7EDF",slide:{raw:`---
theme: purplin
position: center
highlighter: shiki
lineNumbers: false
layout: intro

---


# \u6DF1\u5165\u7406\u89E3 XFS \u6587\u4EF6\u7CFB\u7EDF

\u9AD8\u5EA6\u53EF\u6269\u5C55\u3001\u9AD8\u6027\u80FD\u3001\u73B0\u4EE3\u5316

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    \u5F00\u59CB <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
  <a href="https://github.com/slidevjs/slidev" target="_blank" alt="GitHub"
    class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon-logo-github />
  </a>
</div>

<!--
The last comment block of each slide will be treated as slide notes. It will be visible and editable in Presenter Mode along with the slide. [Read more in the docs](https://sli.dev/guide/syntax.html#notes)
-->

`,title:"\u6DF1\u5165\u7406\u89E3 XFS \u6587\u4EF6\u7CFB\u7EDF",level:1,content:`# \u6DF1\u5165\u7406\u89E3 XFS \u6587\u4EF6\u7CFB\u7EDF

\u9AD8\u5EA6\u53EF\u6269\u5C55\u3001\u9AD8\u6027\u80FD\u3001\u73B0\u4EE3\u5316

<div class="pt-12">
  <span @click="$slidev.nav.next" class="px-2 py-1 rounded cursor-pointer" hover="bg-white bg-opacity-10">
    \u5F00\u59CB <carbon:arrow-right class="inline"/>
  </span>
</div>

<div class="abs-br m-6 flex gap-2">
  <button @click="$slidev.nav.openInEditor()" title="Open in Editor" class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon:edit />
  </button>
  <a href="https://github.com/slidevjs/slidev" target="_blank" alt="GitHub"
    class="text-xl icon-btn opacity-50 !border-none !hover:text-white">
    <carbon-logo-github />
  </a>
</div>`,frontmatter:{theme:"purplin",position:"center",highlighter:"shiki",lineNumbers:!1,layout:"intro",title:"\u6DF1\u5165\u7406\u89E3 XFS \u6587\u4EF6\u7CFB\u7EDF"},note:"The last comment block of each slide will be treated as slide notes. It will be visible and editable in Presenter Mode along with the slide. [Read more in the docs](https://sli.dev/guide/syntax.html#notes)",index:0,start:0,end:35,notesHTML:`<p>The last comment block of each slide will be treated as slide notes. It will be visible and editable in Presenter Mode along with the slide. <a href="https://sli.dev/guide/syntax.html#notes" target="_blank" rel="noopener">Read more in the docs</a></p>
`,filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:B_,meta:{layout:"image-x",imageOrder:2,image:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654682585.png",slide:{raw:`---
layout: image-x
imageOrder: 2
image: https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654682585.png
---
# \u4E3A\u4EC0\u4E48\u8981\u7814\u7A76 XFS\uFF1F

+ \u6587\u4EF6\u7CFB\u7EDF\u662F\u6570\u636E\u53EF\u9760\u6027\u8F6F\u4EF6\u5C42\u9762\u7684\u57FA\u77F3
+ \u4E0A\u53E4\u6587\u4EF6\u7CFB\u7EDF\uFF1AFAT\u3001EXT2\u3001EXT3 \u7ED3\u6784\u7B80\u5355\u4F46\u96BE\u4EE5\u9002\u5E94\u73B0\u4EE3\u9700\u8981
+ \u6280\u672F\u57FA\u7840\uFF1A\u5E76\u884C\u8BFB\u5199\u3001\u65E5\u5FD7\u4E8B\u52A1\u3001\u5EF6\u8FDF\u5206\u914D\u3001\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u3001\u53CD\u5411\u7D22\u5F15
  + \u6211\u4EEC\u80FD\u5B66\u4E60\u5230\u8BA1\u7B97\u673A\u9886\u57DF\u7684\u6838\u5FC3\u5DE5\u7A0B\u6280\u672F
+ \u9762\u5411\u672A\u6765\uFF1A\u8BBE\u8BA1\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\u3001\u6570\u636E\u5E93\u5B58\u50A8\u5F15\u64CE\u65F6\u7684\u53C2\u8003

XFS \u76EE\u524D\u5DF2\u7ECF\u662F CentOS 7 \u7684\u9ED8\u8BA4\u6587\u4EF6\u7CFB\u7EDF\u3002
`,title:"\u4E3A\u4EC0\u4E48\u8981\u7814\u7A76 XFS\uFF1F",level:1,content:`# \u4E3A\u4EC0\u4E48\u8981\u7814\u7A76 XFS\uFF1F

+ \u6587\u4EF6\u7CFB\u7EDF\u662F\u6570\u636E\u53EF\u9760\u6027\u8F6F\u4EF6\u5C42\u9762\u7684\u57FA\u77F3
+ \u4E0A\u53E4\u6587\u4EF6\u7CFB\u7EDF\uFF1AFAT\u3001EXT2\u3001EXT3 \u7ED3\u6784\u7B80\u5355\u4F46\u96BE\u4EE5\u9002\u5E94\u73B0\u4EE3\u9700\u8981
+ \u6280\u672F\u57FA\u7840\uFF1A\u5E76\u884C\u8BFB\u5199\u3001\u65E5\u5FD7\u4E8B\u52A1\u3001\u5EF6\u8FDF\u5206\u914D\u3001\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u3001\u53CD\u5411\u7D22\u5F15
  + \u6211\u4EEC\u80FD\u5B66\u4E60\u5230\u8BA1\u7B97\u673A\u9886\u57DF\u7684\u6838\u5FC3\u5DE5\u7A0B\u6280\u672F
+ \u9762\u5411\u672A\u6765\uFF1A\u8BBE\u8BA1\u5206\u5E03\u5F0F\u6587\u4EF6\u7CFB\u7EDF\u3001\u6570\u636E\u5E93\u5B58\u50A8\u5F15\u64CE\u65F6\u7684\u53C2\u8003

XFS \u76EE\u524D\u5DF2\u7ECF\u662F CentOS 7 \u7684\u9ED8\u8BA4\u6587\u4EF6\u7CFB\u7EDF\u3002`,frontmatter:{layout:"image-x",imageOrder:2,image:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654682585.png"},index:1,start:35,end:50,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:I_,meta:{slide:{raw:`
# XFS \u7684\u6574\u4F53\u67B6\u6784

+ On-Disk / In-memory Structure\uFF08\u78C1\u76D8\u4E0A/\u5185\u5B58\u4E2D\u7ED3\u6784\uFF09
+ Metadata Integrity\uFF08\u5143\u6570\u636E\u5B8C\u6574\u6027\uFF09
+ Delayed Logging\uFF08\u5EF6\u8FDF\u65E5\u5FD7\uFF09
+ Sharing Data Blocks\uFF08\u5171\u4EAB\u6570\u636E\u5757\uFF09
`,title:"XFS \u7684\u6574\u4F53\u67B6\u6784",level:1,content:`# XFS \u7684\u6574\u4F53\u67B6\u6784

+ On-Disk / In-memory Structure\uFF08\u78C1\u76D8\u4E0A/\u5185\u5B58\u4E2D\u7ED3\u6784\uFF09
+ Metadata Integrity\uFF08\u5143\u6570\u636E\u5B8C\u6574\u6027\uFF09
+ Delayed Logging\uFF08\u5EF6\u8FDF\u65E5\u5FD7\uFF09
+ Sharing Data Blocks\uFF08\u5171\u4EAB\u6570\u636E\u5757\uFF09`,frontmatter:{},index:2,start:51,end:59,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:T_,meta:{slide:{raw:`
# \u6211\u4EEC\u7684\u91CD\u70B9

+ XFS \u7684\u78C1\u76D8\u7ED3\u6784\u7EC4\u7EC7
  + \u6574\u4F53 On-Disk \u5E03\u5C40
  + B+tree \u7684\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u673A\u5236
  + B+tree + Extend \u7684\u6570\u636E\u7BA1\u7406\u673A\u5236
  + inode \u7684\u5B9E\u73B0\u3001\u5206\u914D\u548C\u7BA1\u7406\u673A\u5236

+ \u65E5\u5FD7\u3001\u4E8B\u52A1\u5316\u6587\u4EF6\u7CFB\u7EDF\u7684\u5B9E\u73B0
  + \u4E8B\u52A1\u7BA1\u7406
  + journals/logs \u7684 in-core log buffer -> on-disk log
`,title:"\u6211\u4EEC\u7684\u91CD\u70B9",level:1,content:`# \u6211\u4EEC\u7684\u91CD\u70B9

+ XFS \u7684\u78C1\u76D8\u7ED3\u6784\u7EC4\u7EC7
  + \u6574\u4F53 On-Disk \u5E03\u5C40
  + B+tree \u7684\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u673A\u5236
  + B+tree + Extend \u7684\u6570\u636E\u7BA1\u7406\u673A\u5236
  + inode \u7684\u5B9E\u73B0\u3001\u5206\u914D\u548C\u7BA1\u7406\u673A\u5236

+ \u65E5\u5FD7\u3001\u4E8B\u52A1\u5316\u6587\u4EF6\u7CFB\u7EDF\u7684\u5B9E\u73B0
  + \u4E8B\u52A1\u7BA1\u7406
  + journals/logs \u7684 in-core log buffer -> on-disk log`,frontmatter:{},index:3,start:60,end:73,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:H_,meta:{slide:{raw:`
# \u78C1\u76D8\u5757\u62BD\u8C61

\u201C\u4E5D\u5C42\u4E4B\u53F0\uFF0C\u8D77\u4E8E\u7D2F\u571F\u201D

\u5728\u9519\u7EFC\u590D\u6742\u7684\u6587\u4EF6\u7CFB\u7EDF\u6700\u5E95\u5C42\uFF0C\u6240\u6709\u64CD\u4F5C\u90FD\u53EF\u4EE5\u5F52\u7ED3\u4E3A\u4E24\u4E2A\u7B80\u5355\u7684\u7269\u7406\u5757\u8BFB\u5199\u64CD\u4F5C\uFF1A

\`\`\`rust
pub trait BlockDevice: Send + Sync {
    fn read_block(&self, block_id: usize, buf: &mut [u8]) -> bool;
    fn write_block(&self, block_id: usize, buf: &[u8]) -> bool;
\`\`\`

\u5982\u679C\u9700\u8981**\u4EFB\u610F\u8BFB\u53D6**\uFF0C\u5373\u4ECE\u968F\u673A\u4F4D\u7F6E\uFF0C\u8BFB\u53D6\u968F\u5373\u957F\u5EA6\uFF0C\u5219\u9700\u8981\u8BA1\u7B97\u51FA\u8BFB\u53D6\u7684\u5757\u53F7\uFF0C**\u5B8C\u6574\u8BFB\u53D6**\u540E\u9009\u51FA\u60F3\u8981\u7684\u90E8\u5206\u3002
**\u4EFB\u610F\u5199\u5165**\u4E5F\u662F\u540C\u7406\uFF0C\u9700\u8981\u8BA1\u7B97\u51FA\u5199\u5165\u7684\u5757\u53F7\uFF0C\u7136\u540E\u5148\u8BFB\u51FA\u5757\u4E2D\u5185\u5BB9\u5230\u7F13\u51B2\uFF0C**\u5728\u7F13\u51B2\u5B8C\u6210\u5408\u5E76**\uFF0C\u7136\u540E\u5B8C\u6574\u5199\u5165\u78C1\u76D8\u5757\u3002\u56E0\u6B64\uFF0C\u662F\u5426\u5BF9\u9F50\uFF0C\u5BF9\u9F50\u7684\u53C2\u6570\uFF0C\u5BF9\u8BFB\u5199\u6027\u80FD\u4F1A\u4EA7\u751F\u91CD\u8981\u7684\u5F71\u54CD\u3002

> \u9644\u6CE8\uFF1A\u51E0\u4E2A\u57FA\u672C\u6982\u5FF5
> 
> + \u7269\u7406\u6247\u533A\uFF1A\u786C\u76D8\u7684\u6700\u5C0F\u5B58\u50A8\u5355\u5143\uFF0C\u5E38\u89C1\u5927\u5C0F\uFF1A512 \u5B57\u8282\u30014096 \u5B57\u8282
> + \u903B\u8F91\u6247\u533A\uFF1A\u5373\u901A\u5E38\u610F\u4E49\u4E0A\u7684\u6247\u533A\u3002\u51FA\u4E8E\u517C\u5BB9\u6027\u8003\u8651\uFF0C\u786C\u76D8\u82AF\u7247\u4F1A\u5C06\u7269\u7406\u6247\u533A\u7EDF\u4E00\u4E3A 512 \u5B57\u8282\u7684\u903B\u8F91\u6247\u533A\uFF0C\u8FD9\u6837\u5BF9\u4E8E OS \u800C\u8A00\uFF0C\u6247\u533A\u5927\u5C0F> \u597D\u50CF\u662F 512 \u5B57\u8282\uFF0C\u4F46\u5B9E\u9645\u4E0A\u786C\u76D8\u5185\u90E8\u7684\u5B58\u50A8\u5355\u5143\u662F 4096 \u5B57\u8282\u3002\u5F53\u7136\uFF0C\u591A\u6570\u60C5\u51B5\u4E0B\u7269\u7406\u6247\u533A\u5927\u5C0F\u7B49\u4E8E\u903B\u8F91\u6247\u533A\u5927\u5C0F\u3002
> + \u7269\u7406\u5757\uFF1A\u4E00\u822C\u8BA4\u4E3A\u5C31\u662F\u903B\u8F91\u6247\u533A\uFF0C\u4E5F\u79F0\u78C1\u76D8\u5757\u3002
> + \u903B\u8F91\u5757\uFF1A\u683C\u5F0F\u5316\u78C1\u76D8\u65F6\u8BBE\u7F6E\u7684\u5C31**\u6587\u4EF6\u7CFB\u7EDF\u800C\u8A00**\u7684\u5206\u914D\u5355\u5143\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u7531\u8BBE\u7F6E\uFF0C\u662F\u7269\u7406\u5757\u7684\u6574\u6570\u500D
> 
> \u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u63A5\u89E6\u5230\u7684\u4E0A\u8FF0\u56DB\u4E2A\u503C\u90FD\u662F 512B \u4E3A\u5355\u4F4D\u3002
`,title:"\u78C1\u76D8\u5757\u62BD\u8C61",level:1,content:`# \u78C1\u76D8\u5757\u62BD\u8C61

\u201C\u4E5D\u5C42\u4E4B\u53F0\uFF0C\u8D77\u4E8E\u7D2F\u571F\u201D

\u5728\u9519\u7EFC\u590D\u6742\u7684\u6587\u4EF6\u7CFB\u7EDF\u6700\u5E95\u5C42\uFF0C\u6240\u6709\u64CD\u4F5C\u90FD\u53EF\u4EE5\u5F52\u7ED3\u4E3A\u4E24\u4E2A\u7B80\u5355\u7684\u7269\u7406\u5757\u8BFB\u5199\u64CD\u4F5C\uFF1A

\`\`\`rust
pub trait BlockDevice: Send + Sync {
    fn read_block(&self, block_id: usize, buf: &mut [u8]) -> bool;
    fn write_block(&self, block_id: usize, buf: &[u8]) -> bool;
\`\`\`

\u5982\u679C\u9700\u8981**\u4EFB\u610F\u8BFB\u53D6**\uFF0C\u5373\u4ECE\u968F\u673A\u4F4D\u7F6E\uFF0C\u8BFB\u53D6\u968F\u5373\u957F\u5EA6\uFF0C\u5219\u9700\u8981\u8BA1\u7B97\u51FA\u8BFB\u53D6\u7684\u5757\u53F7\uFF0C**\u5B8C\u6574\u8BFB\u53D6**\u540E\u9009\u51FA\u60F3\u8981\u7684\u90E8\u5206\u3002
**\u4EFB\u610F\u5199\u5165**\u4E5F\u662F\u540C\u7406\uFF0C\u9700\u8981\u8BA1\u7B97\u51FA\u5199\u5165\u7684\u5757\u53F7\uFF0C\u7136\u540E\u5148\u8BFB\u51FA\u5757\u4E2D\u5185\u5BB9\u5230\u7F13\u51B2\uFF0C**\u5728\u7F13\u51B2\u5B8C\u6210\u5408\u5E76**\uFF0C\u7136\u540E\u5B8C\u6574\u5199\u5165\u78C1\u76D8\u5757\u3002\u56E0\u6B64\uFF0C\u662F\u5426\u5BF9\u9F50\uFF0C\u5BF9\u9F50\u7684\u53C2\u6570\uFF0C\u5BF9\u8BFB\u5199\u6027\u80FD\u4F1A\u4EA7\u751F\u91CD\u8981\u7684\u5F71\u54CD\u3002

> \u9644\u6CE8\uFF1A\u51E0\u4E2A\u57FA\u672C\u6982\u5FF5
> 
> + \u7269\u7406\u6247\u533A\uFF1A\u786C\u76D8\u7684\u6700\u5C0F\u5B58\u50A8\u5355\u5143\uFF0C\u5E38\u89C1\u5927\u5C0F\uFF1A512 \u5B57\u8282\u30014096 \u5B57\u8282
> + \u903B\u8F91\u6247\u533A\uFF1A\u5373\u901A\u5E38\u610F\u4E49\u4E0A\u7684\u6247\u533A\u3002\u51FA\u4E8E\u517C\u5BB9\u6027\u8003\u8651\uFF0C\u786C\u76D8\u82AF\u7247\u4F1A\u5C06\u7269\u7406\u6247\u533A\u7EDF\u4E00\u4E3A 512 \u5B57\u8282\u7684\u903B\u8F91\u6247\u533A\uFF0C\u8FD9\u6837\u5BF9\u4E8E OS \u800C\u8A00\uFF0C\u6247\u533A\u5927\u5C0F> \u597D\u50CF\u662F 512 \u5B57\u8282\uFF0C\u4F46\u5B9E\u9645\u4E0A\u786C\u76D8\u5185\u90E8\u7684\u5B58\u50A8\u5355\u5143\u662F 4096 \u5B57\u8282\u3002\u5F53\u7136\uFF0C\u591A\u6570\u60C5\u51B5\u4E0B\u7269\u7406\u6247\u533A\u5927\u5C0F\u7B49\u4E8E\u903B\u8F91\u6247\u533A\u5927\u5C0F\u3002
> + \u7269\u7406\u5757\uFF1A\u4E00\u822C\u8BA4\u4E3A\u5C31\u662F\u903B\u8F91\u6247\u533A\uFF0C\u4E5F\u79F0\u78C1\u76D8\u5757\u3002
> + \u903B\u8F91\u5757\uFF1A\u683C\u5F0F\u5316\u78C1\u76D8\u65F6\u8BBE\u7F6E\u7684\u5C31**\u6587\u4EF6\u7CFB\u7EDF\u800C\u8A00**\u7684\u5206\u914D\u5355\u5143\uFF0C\u7528\u6237\u53EF\u4EE5\u81EA\u7531\u8BBE\u7F6E\uFF0C\u662F\u7269\u7406\u5757\u7684\u6574\u6570\u500D
> 
> \u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u63A5\u89E6\u5230\u7684\u4E0A\u8FF0\u56DB\u4E2A\u503C\u90FD\u662F 512B \u4E3A\u5355\u4F4D\u3002`,frontmatter:{},index:4,start:74,end:99,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:W_,meta:{slide:{raw:`
# AG (Allocation Group)

XFS \u5C06\u4E00\u4E2A\u5206\u533A\uFF08\u4E5F\u53EF\u4EE5\u662F\u6574\u5757\u78C1\u76D8\uFF09\u5206\u6210\u591A\u4E2A Group\uFF0C\u5BF9\u4E8E\u4E0D\u540C AG \u53D1\u8D77\u7684 IO \u53EF\u4EE5\u5E76\u884C\u6267\u884C\u3002

\u7B2C\u4E00\u4E2A AG \u79F0\u4E3A Primary AG.

![upgit_20220608_1654684291.png](https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654684291.png)

\u7C7B\u4F3C AG \u7684\u62BD\u8C61\u5728\u4F20\u7EDF\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u662F\u6CA1\u6709\u7684\u3002\u8FD9\u662F\u78C1\u76D8\u5BB9\u91CF\u7684\u98DE\u6DA8\uFF08\u6570 TB \u5DF2\u6210\u4E3A\u5E38\u6001\uFF09\u3001\u78C1\u76D8\u5B9E\u73B0\uFF08\u5982\u56FA\u6001\u786C\u76D8\uFF09\u7684\u6F14\u8FDB\u7684\u5FC5\u7136\u9009\u62E9\u3002\u9664\u4E86\u66F4\u4FBF\u4E8E\u5E76\u53D1\u5916\uFF0CAG \u7684\u62BD\u8C61\u4F7F\u5F97 XFS \u53EF\u4EE5\u4F7F\u7528 AG \u5185\u76F8\u5BF9\u4F4D\u7F6E\u8FDB\u884C\u5730\u5740\u8868\u793A\uFF0C\u6709 LHDR\u3001SHDR \u4E24\u79CD\u5757\u5934\u7ED3\u6784\uFF0C\u8FDB\u4E00\u6B65\u51CF\u5C0F\u4E86\u5143\u6570\u636E\u5BF9\u7A7A\u95F4\u7684\u5360\u7528\uFF0C\u4E5F\u63D0\u9AD8\u4E86\u6587\u4EF6\u7CFB\u7EDF\u7684\u5730\u5740\u8868\u793A\u80FD\u529B\u3002

XFS \u7684\u5355\u5206\u533A\u6700\u5927\u5BB9\u91CF\u7EA6 8EB\uFF08\u76F8\u5F53\u4E8E 8 x 1024 x 1024 TB)

`,title:"AG (Allocation Group)",level:1,content:`# AG (Allocation Group)

XFS \u5C06\u4E00\u4E2A\u5206\u533A\uFF08\u4E5F\u53EF\u4EE5\u662F\u6574\u5757\u78C1\u76D8\uFF09\u5206\u6210\u591A\u4E2A Group\uFF0C\u5BF9\u4E8E\u4E0D\u540C AG \u53D1\u8D77\u7684 IO \u53EF\u4EE5\u5E76\u884C\u6267\u884C\u3002

\u7B2C\u4E00\u4E2A AG \u79F0\u4E3A Primary AG.

![upgit_20220608_1654684291.png](https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654684291.png)

\u7C7B\u4F3C AG \u7684\u62BD\u8C61\u5728\u4F20\u7EDF\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u662F\u6CA1\u6709\u7684\u3002\u8FD9\u662F\u78C1\u76D8\u5BB9\u91CF\u7684\u98DE\u6DA8\uFF08\u6570 TB \u5DF2\u6210\u4E3A\u5E38\u6001\uFF09\u3001\u78C1\u76D8\u5B9E\u73B0\uFF08\u5982\u56FA\u6001\u786C\u76D8\uFF09\u7684\u6F14\u8FDB\u7684\u5FC5\u7136\u9009\u62E9\u3002\u9664\u4E86\u66F4\u4FBF\u4E8E\u5E76\u53D1\u5916\uFF0CAG \u7684\u62BD\u8C61\u4F7F\u5F97 XFS \u53EF\u4EE5\u4F7F\u7528 AG \u5185\u76F8\u5BF9\u4F4D\u7F6E\u8FDB\u884C\u5730\u5740\u8868\u793A\uFF0C\u6709 LHDR\u3001SHDR \u4E24\u79CD\u5757\u5934\u7ED3\u6784\uFF0C\u8FDB\u4E00\u6B65\u51CF\u5C0F\u4E86\u5143\u6570\u636E\u5BF9\u7A7A\u95F4\u7684\u5360\u7528\uFF0C\u4E5F\u63D0\u9AD8\u4E86\u6587\u4EF6\u7CFB\u7EDF\u7684\u5730\u5740\u8868\u793A\u80FD\u529B\u3002

XFS \u7684\u5355\u5206\u533A\u6700\u5927\u5BB9\u91CF\u7EA6 8EB\uFF08\u76F8\u5F53\u4E8E 8 x 1024 x 1024 TB)`,frontmatter:{},index:5,start:100,end:114,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:Q_,meta:{layout:"image-x",image:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654687979.png",slide:{raw:`---
layout: image-x
image: https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654687979.png
---

## \u5355 AG \u7ED3\u6784

<img src="" alt="">

+ SB - Superblock
+ AGF - AG free block info. \u5B58\u653E\u56DB\u4E2A\u6307\u9488
  + BNO root
  + CNT root
  + RMAP root
  + REFC root
+ AGFL
+ AGI
+ BNO root block
+ CNT root block
+ INO root block
+ FINO root block
+ RMAP root block
+ NULL terminating block
`,title:"\u5355 AG \u7ED3\u6784",level:2,content:`## \u5355 AG \u7ED3\u6784

<img src="" alt="">

+ SB - Superblock
+ AGF - AG free block info. \u5B58\u653E\u56DB\u4E2A\u6307\u9488
  + BNO root
  + CNT root
  + RMAP root
  + REFC root
+ AGFL
+ AGI
+ BNO root block
+ CNT root block
+ INO root block
+ FINO root block
+ RMAP root block
+ NULL terminating block`,frontmatter:{layout:"image-x",image:"https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654687979.png"},index:6,start:114,end:138,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:o1,meta:{slide:{raw:`
## AG / Superblock \uFF08\u4E0A\uFF09

Superblock\uFF08SB\uFF09\u5360\u7528\u4E00\u4E2A\u6247\u533A\u7684\u5927\u5C0F\u3002\u5B58\u50A8\u7ED3\u6784\u5982\u4E0B\uFF1A

\`\`\`rust
pub struct SuperBlock {
    pub magicnum: u32,  // \u9B54\u6570
    pub blocksize: u32, // \u903B\u8F91\u5757\u5927\u5C0F \u901A\u5E38\u662F4096\u5B57\u8282\uFF084KB\uFF09
    pub dblocks: u32,   // \u6570\u636E\u5757\u6570
    pub rblocks: u32,   // \u5B9E\u65F6\u5757\u6570 https://www.cnblogs.com/orange-CC/p/12711078.html
    pub rextents: u32,  // \u5B9E\u65F6\u6269\u5C55\u6570
    pub uuid: UUID,     // \u552F\u4E00\u6807\u8BC6\u7B26
    logstart: u32,      // \u65E5\u5FD7\u8D77\u59CB\u5757\u53F7
    rootino: u32,       // \u6839\u76EE\u5F55Inode\u53F7
    rbmino: u32,        // \u5B9E\u65F6\u5757\u4F4D\u56FEInode\u53F7
    rextsize: u32,      // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F
    agblocks: u32,      // \u5757\u7EC4\u5927\u5C0F \u6700\u540E\u4E00\u4E2AAG\u7684\u5B9E\u9645\u5927\u5C0F\u53EF\u80FD\u4F1A\u4E0D\u4E00\u6837
    agcount: u32,       // \u5757\u7EC4\u6570
    rbmblocks: u32,     // \u5B9E\u65F6\u5757\u4F4D\u56FE\u5757\u6570
    logblocks: u32,     // \u65E5\u5FD7\u5757\u6570
    version: u16,       // \u7248\u672C\u53F7
    sectsize: u16,      // \u6247\u533A\u5927\u5C0F bytes
    inodesize: u16,     // Inode\u5927\u5C0F bytes
    inopblock: u16,     // Inode per block
\`\`\`
`,title:"AG / Superblock \uFF08\u4E0A\uFF09",level:2,content:`## AG / Superblock \uFF08\u4E0A\uFF09

Superblock\uFF08SB\uFF09\u5360\u7528\u4E00\u4E2A\u6247\u533A\u7684\u5927\u5C0F\u3002\u5B58\u50A8\u7ED3\u6784\u5982\u4E0B\uFF1A

\`\`\`rust
pub struct SuperBlock {
    pub magicnum: u32,  // \u9B54\u6570
    pub blocksize: u32, // \u903B\u8F91\u5757\u5927\u5C0F \u901A\u5E38\u662F4096\u5B57\u8282\uFF084KB\uFF09
    pub dblocks: u32,   // \u6570\u636E\u5757\u6570
    pub rblocks: u32,   // \u5B9E\u65F6\u5757\u6570 https://www.cnblogs.com/orange-CC/p/12711078.html
    pub rextents: u32,  // \u5B9E\u65F6\u6269\u5C55\u6570
    pub uuid: UUID,     // \u552F\u4E00\u6807\u8BC6\u7B26
    logstart: u32,      // \u65E5\u5FD7\u8D77\u59CB\u5757\u53F7
    rootino: u32,       // \u6839\u76EE\u5F55Inode\u53F7
    rbmino: u32,        // \u5B9E\u65F6\u5757\u4F4D\u56FEInode\u53F7
    rextsize: u32,      // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F
    agblocks: u32,      // \u5757\u7EC4\u5927\u5C0F \u6700\u540E\u4E00\u4E2AAG\u7684\u5B9E\u9645\u5927\u5C0F\u53EF\u80FD\u4F1A\u4E0D\u4E00\u6837
    agcount: u32,       // \u5757\u7EC4\u6570
    rbmblocks: u32,     // \u5B9E\u65F6\u5757\u4F4D\u56FE\u5757\u6570
    logblocks: u32,     // \u65E5\u5FD7\u5757\u6570
    version: u16,       // \u7248\u672C\u53F7
    sectsize: u16,      // \u6247\u533A\u5927\u5C0F bytes
    inodesize: u16,     // Inode\u5927\u5C0F bytes
    inopblock: u16,     // Inode per block
\`\`\``,frontmatter:{},index:7,start:139,end:166,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:c1,meta:{slide:{raw:`
## AG / Superblock \uFF08\u4E0B\uFF09

\u53EF\u4EE5\u770B\u5230\uFF0CAG0 \u7684 Superblock \u5305\u542B\u4E86\u6574\u4E2A\u6587\u4EF6\u7CFB\u7EDF\u7684\u4E00\u4E9B\u5173\u952E\u4FE1\u606F\u3002\u5176\u4E2D\u6BD4\u8F83\u503C\u5F97\u6CE8\u610F\u7684\u662F\u51E0\u4E2A\u6307\u9488\uFF1A

+ logstart\uFF1A\u65E5\u5FD7\u8D77\u59CB\u5757\u53F7
+ rootino\uFF1A\u6839\u76EE\u5F55Inode\u53F7

> \u6CE8\uFF1A
> + r \u5F00\u5934\u7684\u5C5E\u6027\u5C5E\u4E8E\u5B9E\u65F6\u8BBE\u5907\uFF0C\u8FD9\u662F\u56E0\u4E3A XFS \u517C\u5BB9\u4E86\u5B9E\u65F6\u6A21\u5F0F\u7684 Linux. \u6B64\u5904\u6682\u65F6\u7565\u8FC7\u3002
> + \u78C1\u76D8\u4E0A\u7684\u6307\u9488\uFF0C\u90FD\u662F\u6307\u5757\u53F7\uFF0C\u4E0D\u8981\u4E0E\u5185\u5B58\u4E2D\u7684\u6307\u9488\u76F8\u6DF7\u6DC6\u3002

\`\`\`rust
    fsname: [u8; 16],   // \u6587\u4EF6\u7CFB\u7EDF\u540D\u79F0
    blocksize_bits: u8, // \u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    sectsize_bits: u8,  // \u6247\u533A\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    inodesize_bits: u8, // Inode\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    inpblock_bits: u8,  // Inode per block\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    agblocks_bits: u8,  // \u5757\u7EC4\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    rextents_bits: u8,  // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    inprogress: u8,     // \u662F\u5426\u6B63\u5728\u8FDB\u884C\u683C\u5F0F\u5316
    imax_pct: u8,       // \u6700\u5927Inode\u767E\u5206\u6BD4
    icount: u64,        // Inode\u603B\u6570
    ifree: u64,         // \u7A7A\u95F2Inode\u603B\u6570
    fdblocks: u64,      // \u7A7A\u95F2\u6570\u636E\u5757\u603B\u6570
    frextents: u64,     // \u7A7A\u95F2\u5B9E\u65F6\u6269\u5C55\u603B\u6570
}
\`\`\`
`,title:"AG / Superblock \uFF08\u4E0B\uFF09",level:2,content:`## AG / Superblock \uFF08\u4E0B\uFF09

\u53EF\u4EE5\u770B\u5230\uFF0CAG0 \u7684 Superblock \u5305\u542B\u4E86\u6574\u4E2A\u6587\u4EF6\u7CFB\u7EDF\u7684\u4E00\u4E9B\u5173\u952E\u4FE1\u606F\u3002\u5176\u4E2D\u6BD4\u8F83\u503C\u5F97\u6CE8\u610F\u7684\u662F\u51E0\u4E2A\u6307\u9488\uFF1A

+ logstart\uFF1A\u65E5\u5FD7\u8D77\u59CB\u5757\u53F7
+ rootino\uFF1A\u6839\u76EE\u5F55Inode\u53F7

> \u6CE8\uFF1A
> + r \u5F00\u5934\u7684\u5C5E\u6027\u5C5E\u4E8E\u5B9E\u65F6\u8BBE\u5907\uFF0C\u8FD9\u662F\u56E0\u4E3A XFS \u517C\u5BB9\u4E86\u5B9E\u65F6\u6A21\u5F0F\u7684 Linux. \u6B64\u5904\u6682\u65F6\u7565\u8FC7\u3002
> + \u78C1\u76D8\u4E0A\u7684\u6307\u9488\uFF0C\u90FD\u662F\u6307\u5757\u53F7\uFF0C\u4E0D\u8981\u4E0E\u5185\u5B58\u4E2D\u7684\u6307\u9488\u76F8\u6DF7\u6DC6\u3002

\`\`\`rust
    fsname: [u8; 16],   // \u6587\u4EF6\u7CFB\u7EDF\u540D\u79F0
    blocksize_bits: u8, // \u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    sectsize_bits: u8,  // \u6247\u533A\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    inodesize_bits: u8, // Inode\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    inpblock_bits: u8,  // Inode per block\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    agblocks_bits: u8,  // \u5757\u7EC4\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    rextents_bits: u8,  // \u5B9E\u65F6\u6269\u5C55\u5757\u5927\u5C0F\u4F4D\u6570\uFF0C\u5373\u4EE52\u4E3A\u5E95\u7684\u5BF9\u6570
    inprogress: u8,     // \u662F\u5426\u6B63\u5728\u8FDB\u884C\u683C\u5F0F\u5316
    imax_pct: u8,       // \u6700\u5927Inode\u767E\u5206\u6BD4
    icount: u64,        // Inode\u603B\u6570
    ifree: u64,         // \u7A7A\u95F2Inode\u603B\u6570
    fdblocks: u64,      // \u7A7A\u95F2\u6570\u636E\u5757\u603B\u6570
    frextents: u64,     // \u7A7A\u95F2\u5B9E\u65F6\u6269\u5C55\u603B\u6570
}
\`\`\``,frontmatter:{},index:8,start:167,end:196,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:h1,meta:{class:"text-center",slide:{raw:`---
class: text-center
---

Superblock \u662F\u6587\u4EF6\u7CFB\u7EDF\u6700\u91CD\u8981\u7684\u7ED3\u6784\u3002

<hr> 

\u7531\u4E8E XFS \u7684\u4F53\u7CFB\u8FC7\u4E8E\u590D\u6742\uFF0C\u82E5\u662F\u7EBF\u6027\u53D9\u4E8B\uFF0C\u5219\u6CA1\u6709\u51E0\u5341\u4E2A\u5C0F\u65F6\uFF0C\u662F\u65E0\u6CD5\u8BF4\u6E05\u695A\u7684\u3002

**\u6211\u4EEC\u5C06\u4ECE\u4E00\u4E2A\u6587\u4EF6/\u6587\u4EF6\u5939\u7684\u5982\u4F55\u88AB\u521B\u5EFA\u7684\u89D2\u5EA6\uFF0C\u89E3\u6790 XFS \u7684\u7ED3\u6784\u3002**`,content:`Superblock \u662F\u6587\u4EF6\u7CFB\u7EDF\u6700\u91CD\u8981\u7684\u7ED3\u6784\u3002

<hr> 

\u7531\u4E8E XFS \u7684\u4F53\u7CFB\u8FC7\u4E8E\u590D\u6742\uFF0C\u82E5\u662F\u7EBF\u6027\u53D9\u4E8B\uFF0C\u5219\u6CA1\u6709\u51E0\u5341\u4E2A\u5C0F\u65F6\uFF0C\u662F\u65E0\u6CD5\u8BF4\u6E05\u695A\u7684\u3002

**\u6211\u4EEC\u5C06\u4ECE\u4E00\u4E2A\u6587\u4EF6/\u6587\u4EF6\u5939\u7684\u5982\u4F55\u88AB\u521B\u5EFA\u7684\u89D2\u5EA6\uFF0C\u89E3\u6790 XFS \u7684\u7ED3\u6784\u3002**`,frontmatter:{class:"text-center"},index:9,start:196,end:207,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:w1,meta:{slide:{raw:`
## \u7A7A\u95F2 inode \u7BA1\u7406

\u5F53\u521B\u5EFA\u4E00\u4E2A\u65B0\u6587\u4EF6\u65F6\uFF0C\u9996\u5148\u8981\u5206\u914D\u4E00\u4E2A\u7A7A\u95F2\u7684 Inode\uFF0C\u7136\u540E\u518D\u5206\u914D\u4E00\u4E2A\u7A7A\u95F2\u7684\u6570\u636E\u5757\u3002

\u800C\u8981\u5206\u914D inode\uFF0C\u9996\u5148\u68C0\u67E5 AGI \u7684 agi_freecount\uFF0C\u786E\u5B9A\u662F\u5426\u6709\u7A7A\u95F2\u7684 Inode\u3002

\u5982\u679C\u6709\uFF0C\u5219\u4ECE AGF \u53EF\u4EE5\u627E\u5230 FINO B+tree \u7684 root \u5757\u3002\uFF08AGI \u4E2D\uFF0C\u5B58\u6709 root \u5B57\u6BB5\uFF0C\u6307\u5411 finobt\uFF08\u7A7A\u95F2 inode \u7D22\u5F15 b+tree\uFF09\uFF09

root \u662F\u4E00\u4E2A B+ \u6811\u5757. \u5176\u7ED3\u70B9\u7ED3\u6784\u5982\u4E0B\uFF1A

\`\`\`rust
pub struct BtreeBlock {
    magicnum: u32, // B+\u6811\u5757\u7684 Magic Number AB3B
    level: u32,   // B+\u6811\u5757\u7684\u5C42\u7EA7\uFF0C\u5982\u679Clevel\u662F0\uFF0C\u8868\u793A\u5F53\u524D\u7684 block \u5B58\u50A8\u7684\u90FD\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u5426\u5219\u662F\u7D22\u5F15\u8282\u70B9\u3002\u8D8A\u9760\u8FD1\u6839\u90E8\u8D8A\u5927
    numrecs: u32, // \u5982\u679C\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u8868\u793A\u5F53\u524D B+\u6811\u5757\u4E2D\u7684\u8BB0\u5F55\u6570\u3002\u5426\u5219\u8868\u793A\u6709\u591A\u5C11\u5B50\u8282\u70B9\uFF08AllocRec\uFF09\u3002
    header: BtreeBlockUnion,
}
\`\`\`


> \u6CE8\uFF1A\u4E3A\u4EC0\u4E48\u4F1A\u6709\u7A7A\u95F2\u7684 inode?
> \u5F53\u5206\u914D inode \u65F6\uFF0C\u4F1A\u4E00\u6B21\u6027\u5206\u914D\u6574\u4E2A chunk \u7684 inode\uFF0C\u6570\u91CF\u4E3A 64 \u4E2A\uFF08\u53D6\u51B3\u4E8E XFS_INODES_PER_CHUNK \u5E38\u91CF\uFF09\u3002
> \u5982\u679C\u53EA\u7528\u5230\u4E00\u4E2A\uFF0C\u5219\u5269\u4F59 63 \u4E2A inode \u4F1A\u88AB\u7D22\u5F15\u81F3\u7A7A\u95F2\u8868\u3002

`,title:"\u7A7A\u95F2 inode \u7BA1\u7406",level:2,content:`## \u7A7A\u95F2 inode \u7BA1\u7406

\u5F53\u521B\u5EFA\u4E00\u4E2A\u65B0\u6587\u4EF6\u65F6\uFF0C\u9996\u5148\u8981\u5206\u914D\u4E00\u4E2A\u7A7A\u95F2\u7684 Inode\uFF0C\u7136\u540E\u518D\u5206\u914D\u4E00\u4E2A\u7A7A\u95F2\u7684\u6570\u636E\u5757\u3002

\u800C\u8981\u5206\u914D inode\uFF0C\u9996\u5148\u68C0\u67E5 AGI \u7684 agi_freecount\uFF0C\u786E\u5B9A\u662F\u5426\u6709\u7A7A\u95F2\u7684 Inode\u3002

\u5982\u679C\u6709\uFF0C\u5219\u4ECE AGF \u53EF\u4EE5\u627E\u5230 FINO B+tree \u7684 root \u5757\u3002\uFF08AGI \u4E2D\uFF0C\u5B58\u6709 root \u5B57\u6BB5\uFF0C\u6307\u5411 finobt\uFF08\u7A7A\u95F2 inode \u7D22\u5F15 b+tree\uFF09\uFF09

root \u662F\u4E00\u4E2A B+ \u6811\u5757. \u5176\u7ED3\u70B9\u7ED3\u6784\u5982\u4E0B\uFF1A

\`\`\`rust
pub struct BtreeBlock {
    magicnum: u32, // B+\u6811\u5757\u7684 Magic Number AB3B
    level: u32,   // B+\u6811\u5757\u7684\u5C42\u7EA7\uFF0C\u5982\u679Clevel\u662F0\uFF0C\u8868\u793A\u5F53\u524D\u7684 block \u5B58\u50A8\u7684\u90FD\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u5426\u5219\u662F\u7D22\u5F15\u8282\u70B9\u3002\u8D8A\u9760\u8FD1\u6839\u90E8\u8D8A\u5927
    numrecs: u32, // \u5982\u679C\u662F\u53F6\u5B50\u8282\u70B9\uFF0C\u8868\u793A\u5F53\u524D B+\u6811\u5757\u4E2D\u7684\u8BB0\u5F55\u6570\u3002\u5426\u5219\u8868\u793A\u6709\u591A\u5C11\u5B50\u8282\u70B9\uFF08AllocRec\uFF09\u3002
    header: BtreeBlockUnion,
}
\`\`\`


> \u6CE8\uFF1A\u4E3A\u4EC0\u4E48\u4F1A\u6709\u7A7A\u95F2\u7684 inode?
> \u5F53\u5206\u914D inode \u65F6\uFF0C\u4F1A\u4E00\u6B21\u6027\u5206\u914D\u6574\u4E2A chunk \u7684 inode\uFF0C\u6570\u91CF\u4E3A 64 \u4E2A\uFF08\u53D6\u51B3\u4E8E XFS_INODES_PER_CHUNK \u5E38\u91CF\uFF09\u3002
> \u5982\u679C\u53EA\u7528\u5230\u4E00\u4E2A\uFF0C\u5219\u5269\u4F59 63 \u4E2A inode \u4F1A\u88AB\u7D22\u5F15\u81F3\u7A7A\u95F2\u8868\u3002`,frontmatter:{},index:10,start:208,end:234,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:A1,meta:{slide:{raw:`
## B+tree blk \u7684\u901A\u7528\u7ED3\u6784

\u5728\u4ECB\u7ECD\u7A7A\u95F2 inode \u7684\u5B9A\u4F4D\u4E4B\u524D\uFF0C\u6709\u5FC5\u8981\u4ECB\u7ECD\u4E00\u4E0B XFS \u7684 B+tree \u662F\u5982\u4F55\u7EC4\u7EC7\u8D77\u6765\u7684\u3002\u4EE5 BtreeBlockShdr \u4E3A header \u7684 B+ \u6811\u5757\u4E3A\u4F8B\uFF0C\u4E00\u4E2A B+tree \u5757\u53EF\u4EE5\u5206\u4E3A\u4EE5\u4E0B\u90E8\u5206\uFF1A

![upgit_20220608_1654693240.png](https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654693240.png)

\`\`\`rust
#[derive(Copy, Clone)]
struct BtreeBlockShdr {
    leftSibling: u32,  // \u5DE6\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7
    rightSibling: u32, // \u53F3\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7

    blkno: u64, // \u5F53\u524D\u8282\u70B9\u7684\u5757\u53F7\u3002\u5B57\u8282\u6570/512 \u53EF\u5F97\u4E4B
    lsn: u64,   // \u6700\u540E\u5199\u5165\u8282\u70B9\u7684\u65E5\u5FD7 SN\uFF08\u5E8F\u5217\u53F7\uFF09
    uuid: UUID, // \u5F53\u524D\u8282\u70B9\u7684UUID
    owner: u32, // \u5F53\u524D\u8282\u70B9\u7684\u6240\u6709\u8005\uFF08\u5373\u54EA\u4E2A ag\uFF09
    crc: u32,   // \u672C\u5757\u7684 CRC \u6821\u9A8C\u503C
}
\`\`\`

## \u7A7A\u95F2 inode \u7684\u5B9A\u4F4D

\u4ECE B+tree \u6839\u8282\u70B9\u5F00\u59CB\uFF0C\u67E5\u8BE2 recs\uFF0C\u53EF\u6309\u7167 startino \u5B9A\u4F4D\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684 inode\uFF0C\u5E76\u4E14\u77E5\u9053\u5177\u4F53\u7684\u7A7A\u95F2\u8BE6\u60C5\u3002\u8FD9\u662F\u56E0\u4E3A inode \u7684 Records \uFF08\u540C\u65F6\u5B58\u5728\u4E8E\u53F6\u8282\u70B9\u548C\u4E2D\u95F4\u8282\u70B9\uFF09\u7ED3\u6784\u5982\u4E0B\uFF1A

<img src="https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654693473.png" style="max-height:240px;" >

\`\`\`rust
pub struct InodeBtreeRecord {
    startino: u32, // \u4E00\u4E2A inode chunk \u91CC inode num \u6700\u5C0F\u7684\u90A3 inode\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E2A chunk \u7684\u8D77\u59CB inode
    holemask: u16, // \u7A7A\u6D1E\u63A9\u7801\u3002\u7A00\u758F inode \u5141\u8BB8\u4EE5\u5C0F\u4E8E chunk \u7684\u5927\u5C0F\u5206\u914D inodes\uFF0C\u4ECE\u800C chunk \u4E2D\u6709\u7684\u4F4D\u7F6E\u9700\u8981\u8DF3\u8FC7\u3002
    // 16 \u4F4D\uFF0C\u6BCF\u4F4D\u4EE3\u8868 4 \u4E2A\u8FDE\u7EED inode \u7A7A\u6D1E\u3002
    count: u8, // \u8868\u793A\u4E00\u5171\u6709\u591A\u5C11\u5DF2\u5206\u914D\u7684 inode\uFF0C\u5F53\u672A\u542F\u7528 sparse \u65F6\u4E3A 64\uFF0C\u4F46\u82E5\u542F\u7528\u4E86 sparse\uFF0C\u5219\u4E3A 64 - 4 * n(holemask)
    freecount: u8, // \u5F53\u524D\u8BB0\u5F55\u7684\u7A7A\u4F59 inode \u6570\u91CF\uFF08\u5DF2\u5206\u914D\u4F46\u5C1A\u672A\u4F7F\u7528\u7684 inode \u6570\u91CF\uFF09
    free: u64, // finode \u4F4D\u56FE\uFF0C64 \u4F4D\u5BF9\u5E94 inode chunk \u91CC\u7684 inode \u7684\u7A7A\u95F2\u60C5\u51B5\u30021 \u8868\u793A\u53EF\u7528\u3002
}
\`\`\`

`,title:"B+tree blk \u7684\u901A\u7528\u7ED3\u6784",level:2,content:`## B+tree blk \u7684\u901A\u7528\u7ED3\u6784

\u5728\u4ECB\u7ECD\u7A7A\u95F2 inode \u7684\u5B9A\u4F4D\u4E4B\u524D\uFF0C\u6709\u5FC5\u8981\u4ECB\u7ECD\u4E00\u4E0B XFS \u7684 B+tree \u662F\u5982\u4F55\u7EC4\u7EC7\u8D77\u6765\u7684\u3002\u4EE5 BtreeBlockShdr \u4E3A header \u7684 B+ \u6811\u5757\u4E3A\u4F8B\uFF0C\u4E00\u4E2A B+tree \u5757\u53EF\u4EE5\u5206\u4E3A\u4EE5\u4E0B\u90E8\u5206\uFF1A

![upgit_20220608_1654693240.png](https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654693240.png)

\`\`\`rust
#[derive(Copy, Clone)]
struct BtreeBlockShdr {
    leftSibling: u32,  // \u5DE6\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7
    rightSibling: u32, // \u53F3\u5144\u5F1F\u8282\u70B9\u7684\u5757\u53F7

    blkno: u64, // \u5F53\u524D\u8282\u70B9\u7684\u5757\u53F7\u3002\u5B57\u8282\u6570/512 \u53EF\u5F97\u4E4B
    lsn: u64,   // \u6700\u540E\u5199\u5165\u8282\u70B9\u7684\u65E5\u5FD7 SN\uFF08\u5E8F\u5217\u53F7\uFF09
    uuid: UUID, // \u5F53\u524D\u8282\u70B9\u7684UUID
    owner: u32, // \u5F53\u524D\u8282\u70B9\u7684\u6240\u6709\u8005\uFF08\u5373\u54EA\u4E2A ag\uFF09
    crc: u32,   // \u672C\u5757\u7684 CRC \u6821\u9A8C\u503C
}
\`\`\`

## \u7A7A\u95F2 inode \u7684\u5B9A\u4F4D

\u4ECE B+tree \u6839\u8282\u70B9\u5F00\u59CB\uFF0C\u67E5\u8BE2 recs\uFF0C\u53EF\u6309\u7167 startino \u5B9A\u4F4D\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684 inode\uFF0C\u5E76\u4E14\u77E5\u9053\u5177\u4F53\u7684\u7A7A\u95F2\u8BE6\u60C5\u3002\u8FD9\u662F\u56E0\u4E3A inode \u7684 Records \uFF08\u540C\u65F6\u5B58\u5728\u4E8E\u53F6\u8282\u70B9\u548C\u4E2D\u95F4\u8282\u70B9\uFF09\u7ED3\u6784\u5982\u4E0B\uFF1A

<img src="https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654693473.png" style="max-height:240px;" >

\`\`\`rust
pub struct InodeBtreeRecord {
    startino: u32, // \u4E00\u4E2A inode chunk \u91CC inode num \u6700\u5C0F\u7684\u90A3 inode\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E2A chunk \u7684\u8D77\u59CB inode
    holemask: u16, // \u7A7A\u6D1E\u63A9\u7801\u3002\u7A00\u758F inode \u5141\u8BB8\u4EE5\u5C0F\u4E8E chunk \u7684\u5927\u5C0F\u5206\u914D inodes\uFF0C\u4ECE\u800C chunk \u4E2D\u6709\u7684\u4F4D\u7F6E\u9700\u8981\u8DF3\u8FC7\u3002
    // 16 \u4F4D\uFF0C\u6BCF\u4F4D\u4EE3\u8868 4 \u4E2A\u8FDE\u7EED inode \u7A7A\u6D1E\u3002
    count: u8, // \u8868\u793A\u4E00\u5171\u6709\u591A\u5C11\u5DF2\u5206\u914D\u7684 inode\uFF0C\u5F53\u672A\u542F\u7528 sparse \u65F6\u4E3A 64\uFF0C\u4F46\u82E5\u542F\u7528\u4E86 sparse\uFF0C\u5219\u4E3A 64 - 4 * n(holemask)
    freecount: u8, // \u5F53\u524D\u8BB0\u5F55\u7684\u7A7A\u4F59 inode \u6570\u91CF\uFF08\u5DF2\u5206\u914D\u4F46\u5C1A\u672A\u4F7F\u7528\u7684 inode \u6570\u91CF\uFF09
    free: u64, // finode \u4F4D\u56FE\uFF0C64 \u4F4D\u5BF9\u5E94 inode chunk \u91CC\u7684 inode \u7684\u7A7A\u95F2\u60C5\u51B5\u30021 \u8868\u793A\u53EF\u7528\u3002
}
\`\`\``,frontmatter:{},index:11,start:235,end:274,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:D1,meta:{slide:{raw:`
## \uFF08\u5168\u65B0\uFF09inode \u7684\u5206\u914D

\u5728\u5C0F\u6982\u7387\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u65E0\u6CD5\u627E\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684 inode\u3002\u6B64\u65F6\u4F1A\u8FDB\u884C inode \u5206\u914D\u3002\u65B9\u6CD5\u662F\u901A\u8FC7\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u5668\uFF0C\u5B9A\u4F4D\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684\u903B\u8F91\u5757\uFF0C\u7136\u540E\u5C06\u8FD9\u4E2A\u903B\u8F91\u5757\u4F5C\u4E3A chunk\uFF0C\u5206\u914D 64 \u4E2A inode \u4E8E\u5176\u4E2D\uFF0C\u5E76\u5229\u7528\u5176\u4E00\u3002

\u4F7F\u7528\u540E\uFF0C\u5C06\u5DF2\u7528\u7684\uFF0C\u7EB3\u5165 INO Btree \u7D22\u5F15\uFF0C\u5C06\u672A\u7528\u7684\uFF0C\u7EB3\u5165 FINO Btree \u7D22\u5F15\u3002

\u90A3\u4E48\uFF0C\u600E\u4E48\u5C31\u5B8C\u6210\u5206\u914D\u4E86\u5462\uFF1F\u5B9E\u9645\u4E0A\uFF0C\u65E0\u8BBA\u662F\u5206\u914D inode chunk\uFF0C\u8FD8\u662F\u7ED9\u521A\u521B\u5EFA\u7684\u6587\u4EF6\u5206\u914D\u6570\u636E\u5757\uFF0C\u90FD\u9700\u8981\u7528\u5230**\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u5668**\u3002\u56E0\u6B64\u63A5\u4E0B\u6765\u8BE6\u7EC6\u4ECB\u7ECD\u3002

\u987A\u5E26\u4E00\u63D0\uFF0CXFS \u4E2D inode \u7684\u547D\u540D\u89C4\u5219\u4E3A\uFF1AAGno + blockno + block offset

\u8FD9\u6837\uFF0C\u6211\u4EEC\u65E0\u9700\u5BF9 inode \u518D\u8FDB\u884C\u4E00\u9053\u7D22\u5F15\uFF0C\u76F4\u63A5\u6839\u636E inode \u7F16\u53F7\u5C31\u80FD\u5B9A\u4F4D\u5230\u6570\u636E\u4F4D\u7F6E\u3002\u975E\u5E38\u5DE7\u5999\u3002
`,title:"\uFF08\u5168\u65B0\uFF09inode \u7684\u5206\u914D",level:2,content:`## \uFF08\u5168\u65B0\uFF09inode \u7684\u5206\u914D

\u5728\u5C0F\u6982\u7387\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u65E0\u6CD5\u627E\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684 inode\u3002\u6B64\u65F6\u4F1A\u8FDB\u884C inode \u5206\u914D\u3002\u65B9\u6CD5\u662F\u901A\u8FC7\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u5668\uFF0C\u5B9A\u4F4D\u5230\u4E00\u4E2A\u7A7A\u95F2\u7684\u903B\u8F91\u5757\uFF0C\u7136\u540E\u5C06\u8FD9\u4E2A\u903B\u8F91\u5757\u4F5C\u4E3A chunk\uFF0C\u5206\u914D 64 \u4E2A inode \u4E8E\u5176\u4E2D\uFF0C\u5E76\u5229\u7528\u5176\u4E00\u3002

\u4F7F\u7528\u540E\uFF0C\u5C06\u5DF2\u7528\u7684\uFF0C\u7EB3\u5165 INO Btree \u7D22\u5F15\uFF0C\u5C06\u672A\u7528\u7684\uFF0C\u7EB3\u5165 FINO Btree \u7D22\u5F15\u3002

\u90A3\u4E48\uFF0C\u600E\u4E48\u5C31\u5B8C\u6210\u5206\u914D\u4E86\u5462\uFF1F\u5B9E\u9645\u4E0A\uFF0C\u65E0\u8BBA\u662F\u5206\u914D inode chunk\uFF0C\u8FD8\u662F\u7ED9\u521A\u521B\u5EFA\u7684\u6587\u4EF6\u5206\u914D\u6570\u636E\u5757\uFF0C\u90FD\u9700\u8981\u7528\u5230**\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u5668**\u3002\u56E0\u6B64\u63A5\u4E0B\u6765\u8BE6\u7EC6\u4ECB\u7ECD\u3002

\u987A\u5E26\u4E00\u63D0\uFF0CXFS \u4E2D inode \u7684\u547D\u540D\u89C4\u5219\u4E3A\uFF1AAGno + blockno + block offset

\u8FD9\u6837\uFF0C\u6211\u4EEC\u65E0\u9700\u5BF9 inode \u518D\u8FDB\u884C\u4E00\u9053\u7D22\u5F15\uFF0C\u76F4\u63A5\u6839\u636E inode \u7F16\u53F7\u5C31\u80FD\u5B9A\u4F4D\u5230\u6570\u636E\u4F4D\u7F6E\u3002\u975E\u5E38\u5DE7\u5999\u3002`,frontmatter:{},index:12,start:275,end:288,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:G1,meta:{slide:{raw:`
## \u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u6982\u89C8

\u8BD5\u60F3\uFF0C\u6211\u4EEC\u5982\u679C\u8981\u521B\u5EFA\u4E00\u4E2A 100KB \u7684\u6587\u4EF6\uFF0C\u90A3\u4E48\u6700\u597D\u7684\u65B9\u5F0F\u4FBF\u662F\u76F4\u63A5\u5206\u914D\u4E00\u4E2A 100KB \u7684\u8FDE\u7EED\u7269\u7406\u5757\u3002

\u4F46\u73B0\u5B9E\u4E2D\uFF0C\u4E3A\u4E86\u5145\u5206\u5229\u7528\u7A7A\u95F4\uFF0C\u6211\u4EEC\u4E0D\u5F97\u4E0D\u628A\u4E00\u4E2A\u6587\u4EF6\u7684\u7269\u7406\u5757\u5206\u6563\u5230\u51E0\u4E2A\u5730\u65B9\u3002

\uFF08\u5F53\u7136\uFF0C\u5BF9\u4E8E\u5E94\u7528\u7A0B\u5E8F\u800C\u8A00\uFF0C\u4ED6\u4EEC\u770B\u5230\u7684\u662F\u903B\u8F91\u7EBF\u6027\u7684\u6587\u4EF6\u7A7A\u95F4\u3002\uFF09

\u56E0\u6B64\uFF0C\u6709\u5FC5\u8981\u8BBE\u8BA1\u4E00\u4E2A\u7ED3\u6784\u3002\u65E2\u8981\u6EE1\u8DB3\u5145\u5206\u5229\u7528\u7A7A\u95F4\u7684\u8981\u6C42\uFF0C\u53C8\u8981\u80FD\u591F\u5FEB\u901F\u5B9A\u4F4D\u5230\u7A7A\u95F2\u7684\u7269\u7406\u5757\u3002

\u7A7A\u95F2\u7A7A\u95F4\u540C\u6837\u901A\u8FC7 B+tree \u6765\u7BA1\u7406\uFF0C\u4F46\u662F\u5B83\u7684\u8BB0\u5F55\u7ED3\u6784\u7565\u6709\u4E0D\u540C\u3002

> \u6CE8\uFF1A\u7ED3\u70B9\u5934\u548C FINOB+tree \u57FA\u672C\u76F8\u540C\uFF0C\u56E0\u6B64\u7565\u8FC7\u3002

`,title:"\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u6982\u89C8",level:2,content:`## \u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u6982\u89C8

\u8BD5\u60F3\uFF0C\u6211\u4EEC\u5982\u679C\u8981\u521B\u5EFA\u4E00\u4E2A 100KB \u7684\u6587\u4EF6\uFF0C\u90A3\u4E48\u6700\u597D\u7684\u65B9\u5F0F\u4FBF\u662F\u76F4\u63A5\u5206\u914D\u4E00\u4E2A 100KB \u7684\u8FDE\u7EED\u7269\u7406\u5757\u3002

\u4F46\u73B0\u5B9E\u4E2D\uFF0C\u4E3A\u4E86\u5145\u5206\u5229\u7528\u7A7A\u95F4\uFF0C\u6211\u4EEC\u4E0D\u5F97\u4E0D\u628A\u4E00\u4E2A\u6587\u4EF6\u7684\u7269\u7406\u5757\u5206\u6563\u5230\u51E0\u4E2A\u5730\u65B9\u3002

\uFF08\u5F53\u7136\uFF0C\u5BF9\u4E8E\u5E94\u7528\u7A0B\u5E8F\u800C\u8A00\uFF0C\u4ED6\u4EEC\u770B\u5230\u7684\u662F\u903B\u8F91\u7EBF\u6027\u7684\u6587\u4EF6\u7A7A\u95F4\u3002\uFF09

\u56E0\u6B64\uFF0C\u6709\u5FC5\u8981\u8BBE\u8BA1\u4E00\u4E2A\u7ED3\u6784\u3002\u65E2\u8981\u6EE1\u8DB3\u5145\u5206\u5229\u7528\u7A7A\u95F4\u7684\u8981\u6C42\uFF0C\u53C8\u8981\u80FD\u591F\u5FEB\u901F\u5B9A\u4F4D\u5230\u7A7A\u95F2\u7684\u7269\u7406\u5757\u3002

\u7A7A\u95F2\u7A7A\u95F4\u540C\u6837\u901A\u8FC7 B+tree \u6765\u7BA1\u7406\uFF0C\u4F46\u662F\u5B83\u7684\u8BB0\u5F55\u7ED3\u6784\u7565\u6709\u4E0D\u540C\u3002

> \u6CE8\uFF1A\u7ED3\u70B9\u5934\u548C FINOB+tree \u57FA\u672C\u76F8\u540C\uFF0C\u56E0\u6B64\u7565\u8FC7\u3002`,frontmatter:{},index:13,start:289,end:305,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:J1,meta:{slide:{raw:`
## \u7528\u4E8E\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u65F6\u7684 Records (\u5185\u90E8\u8282\u70B9)

\u5185\u90E8\u7ED3\u70B9\u7528\u4E8E\u5FEB\u901F\u5B9A\u4F4D\u5230\u76EE\u6807\u7ED3\u70B9\u3002\u6709\u4E24\u79CD\u7D22\u5F15\u65B9\u5F0F\uFF0CBNO \u7D22\u5F15\u548C CNT \u7D22\u5F15\u3002

<img src="https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654694396.png" style="max-height:250px;" >

\`\`\`rust
pub struct AllocRec {
    startblock: u32, // \u5F53\u524D\u8BB0\u5F55\u7684\u8D77\u59CB\u5757\u53F7
    blockcount: u32, // \u5F53\u524D\u8BB0\u5F55\u7684\u5757\u6570
}
\`\`\`
\u4ECE\u5B8F\u89C2\u4E0A\u770B\uFF0C\u76F8\u5F53\u4E8E\u5EFA\u7ACB\u4E86\u4E24\u4E2A\u6620\u5C04\uFF0C\u5206\u522B\u53EF\u4EE5\u7528\u6765\u5B9A\u4F4D\u5757\u53F7\u548C\u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4\u3002`,title:"\u7528\u4E8E\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u65F6\u7684 Records (\u5185\u90E8\u8282\u70B9)",level:2,content:`## \u7528\u4E8E\u7A7A\u95F2\u7A7A\u95F4\u7BA1\u7406\u65F6\u7684 Records (\u5185\u90E8\u8282\u70B9)

\u5185\u90E8\u7ED3\u70B9\u7528\u4E8E\u5FEB\u901F\u5B9A\u4F4D\u5230\u76EE\u6807\u7ED3\u70B9\u3002\u6709\u4E24\u79CD\u7D22\u5F15\u65B9\u5F0F\uFF0CBNO \u7D22\u5F15\u548C CNT \u7D22\u5F15\u3002

<img src="https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654694396.png" style="max-height:250px;" >

\`\`\`rust
pub struct AllocRec {
    startblock: u32, // \u5F53\u524D\u8BB0\u5F55\u7684\u8D77\u59CB\u5757\u53F7
    blockcount: u32, // \u5F53\u524D\u8BB0\u5F55\u7684\u5757\u6570
}
\`\`\`
\u4ECE\u5B8F\u89C2\u4E0A\u770B\uFF0C\u76F8\u5F53\u4E8E\u5EFA\u7ACB\u4E86\u4E24\u4E2A\u6620\u5C04\uFF0C\u5206\u522B\u53EF\u4EE5\u7528\u6765\u5B9A\u4F4D\u5757\u53F7\u548C\u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4\u3002`,frontmatter:{},index:14,start:306,end:320,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:nv,meta:{slide:{raw:`

## \u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4

\u7B2C\u4E00\u6B65\uFF0CAGF \u7684 roots \u5B57\u6BB5\uFF0C\u5206\u522B\u5B58\u653E\u4E86 bnoroot\u3001cntroot\u3001rmaproot\uFF08\u6CE8\uFF1Armaproot \u662F\u5BF9\u5DF2\u7528\u7A7A\u95F4\u7684\u5012\u6392\u7D22\u5F15\uFF09

\`\`\`rust
pub struct AGF {
    magicnum: u32,   // AG\u6247\u533A\u7684 Magic Number
    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5
    /**
     * \u4ECE\u4E0B\u6807 0 \u5F00\u59CB\uFF0C\u4F9D\u6B21\u662F
     * bnoroot  \u8868\u793A\u201C\u4EE5\u5757\u53F7\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7
     * cntroot  \u8868\u793A\u201C\u4EE5\u5757\u6570\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7
     * rmaproot \u8868\u793A\u201C\u8868\u793A\u5BF9\u5DF2\u7528\u7A7A\u95F4\u7684\u5012\u6392\u7D22\u5F15 B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7
     */
    roots: [u32; XFS_BTNUM_AGF], // \u7528\u6765\u7BA1\u7406\u7A7A\u95F4\u6240\u9700\u7684\u51E0\u4E2A\u7ED3\u6784\u7684\u5934\u5730\u5740
    spare0: u32,     // \u6709\u610F\u7559\u7A7A\u7684\u5B57\u6BB5
    levels: [u32; XFS_BTNUM_AGF], // B+\u6811\u7684\u5C42\u7EA7\u6216\u6DF1\u5EA6\uFF0C\u4E0Eagf_roots\u4E00\u4E00\u5BF9\u5E94\u3002\u5BF9\u4E8E\u65B0\u521B\u5EFA\u7684AG\uFF0C\u4E09\u4E2A level \u90FD\u662F 1
    spare1: u32,                  // \u5360\u4F4D

    flfirst: u32, // FL(\u7A7A\u95F2\u94FE\u8868)\u5757\u7684\u5F00\u59CB\u4F4D\u7F6E
    fllast: u32,  // FL \u5757\u7684\u7ED3\u675F\u4F4D\u7F6E\u3002
    flcount: u32, // FL \u4E2D\u7684\u5757\u6570\u91CF\u3002
    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5
}
\`\`\`
`,title:"\u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4",level:2,content:`## \u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4

\u7B2C\u4E00\u6B65\uFF0CAGF \u7684 roots \u5B57\u6BB5\uFF0C\u5206\u522B\u5B58\u653E\u4E86 bnoroot\u3001cntroot\u3001rmaproot\uFF08\u6CE8\uFF1Armaproot \u662F\u5BF9\u5DF2\u7528\u7A7A\u95F4\u7684\u5012\u6392\u7D22\u5F15\uFF09

\`\`\`rust
pub struct AGF {
    magicnum: u32,   // AG\u6247\u533A\u7684 Magic Number
    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5
    /**
     * \u4ECE\u4E0B\u6807 0 \u5F00\u59CB\uFF0C\u4F9D\u6B21\u662F
     * bnoroot  \u8868\u793A\u201C\u4EE5\u5757\u53F7\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7
     * cntroot  \u8868\u793A\u201C\u4EE5\u5757\u6570\u4E3A\u7D22\u5F15\u7684 FS B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7
     * rmaproot \u8868\u793A\u201C\u8868\u793A\u5BF9\u5DF2\u7528\u7A7A\u95F4\u7684\u5012\u6392\u7D22\u5F15 B+tree \u6839\u8282\u70B9\u201D\u7684\u5757\u53F7
     */
    roots: [u32; XFS_BTNUM_AGF], // \u7528\u6765\u7BA1\u7406\u7A7A\u95F4\u6240\u9700\u7684\u51E0\u4E2A\u7ED3\u6784\u7684\u5934\u5730\u5740
    spare0: u32,     // \u6709\u610F\u7559\u7A7A\u7684\u5B57\u6BB5
    levels: [u32; XFS_BTNUM_AGF], // B+\u6811\u7684\u5C42\u7EA7\u6216\u6DF1\u5EA6\uFF0C\u4E0Eagf_roots\u4E00\u4E00\u5BF9\u5E94\u3002\u5BF9\u4E8E\u65B0\u521B\u5EFA\u7684AG\uFF0C\u4E09\u4E2A level \u90FD\u662F 1
    spare1: u32,                  // \u5360\u4F4D

    flfirst: u32, // FL(\u7A7A\u95F2\u94FE\u8868)\u5757\u7684\u5F00\u59CB\u4F4D\u7F6E
    fllast: u32,  // FL \u5757\u7684\u7ED3\u675F\u4F4D\u7F6E\u3002
    flcount: u32, // FL \u4E2D\u7684\u5757\u6570\u91CF\u3002
    // \u6B64\u5904\u7565\u53BB\u82E5\u5E72\u5B57\u6BB5
}
\`\`\``,frontmatter:{},index:15,start:321,end:349,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:iv,meta:{slide:{raw:`
## \u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4

\u7B2C\u4E8C\u6B65\uFF0C\u6839\u636E cntroot \u7684\u5757\u53F7\uFF0C\u53EF\u4EE5\u627E\u5230 CNT B+tree \u7684\u6839\u8282\u70B9\u3002\u4ECE\u800C\u627E\u5230\u7B2C\u4E00\u7EA7\u7D22\u5F15\u3002

\u7B2C\u4E09\u6B65\uFF0C\u6839\u636E\u5404\u7EA7\u7D22\u5F15\u7684 blockcount \u5B57\u6BB5\uFF0C\u53EF\u4EE5\u627E\u5230\u7A7A\u95F2\u7A7A\u95F4\u7684\u8D77\u59CB\u5757\u53F7\u3002

\u63A5\u4E0B\u6765\u5C31\u53EF\u4EE5\u4F7F\u7528\u8BE5\u7A7A\u95F4\u7A7A\u95F4\u3002
`,title:"\u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4",level:2,content:`## \u5229\u7528 CNT B+tree \u5B9A\u4F4D\u7A7A\u95F2\u7A7A\u95F4

\u7B2C\u4E8C\u6B65\uFF0C\u6839\u636E cntroot \u7684\u5757\u53F7\uFF0C\u53EF\u4EE5\u627E\u5230 CNT B+tree \u7684\u6839\u8282\u70B9\u3002\u4ECE\u800C\u627E\u5230\u7B2C\u4E00\u7EA7\u7D22\u5F15\u3002

\u7B2C\u4E09\u6B65\uFF0C\u6839\u636E\u5404\u7EA7\u7D22\u5F15\u7684 blockcount \u5B57\u6BB5\uFF0C\u53EF\u4EE5\u627E\u5230\u7A7A\u95F2\u7A7A\u95F4\u7684\u8D77\u59CB\u5757\u53F7\u3002

\u63A5\u4E0B\u6765\u5C31\u53EF\u4EE5\u4F7F\u7528\u8BE5\u7A7A\u95F4\u7A7A\u95F4\u3002`,frontmatter:{},index:16,start:350,end:359,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:fv,meta:{slide:{raw:`
## \u63D2\u64AD\uFF1A\u7A7A\u95F4\u788E\u7247\u5316\u95EE\u9898

\u7531\u4E8E XFS \u4F7F\u7528 FINOB+tree \u6765\u7BA1\u7406\u7A7A\u95F4\uFF0C\u867D\u7136\u5EF6\u8FDF\u5206\u914D\u4F7F\u5176\u788E\u7247\u95EE\u9898\u4F18\u4E8E\u5176\u5B83\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F46\u539F\u7406\u4E0A\u51B3\u5B9A\u4E86\u4ECD\u7136\u5B58\u5728\u7A7A\u95F4\u788E\u7247\u5316\u7684\u95EE\u9898\u3002startblock \u548C blockcount \u7684\u8BB0\u5F55\u5BF9\u4F1A\u589E\u957F\u3002\u5BFC\u81F4 b+tree \u9700\u8981\u6269\u5BB9\u3002

\u4E3A\u4E86\u6EE1\u8DB3\u6269\u5BB9\u9700\u6C42\uFF0Cmkfs \u65F6\u6BCF\u4E2A AG \u9884\u7559\u51FA 4 \u4E2A block \u7684 Free List \u533A\u95F4\uFF0C\u5E76\u5C06\u5BF9\u5E94\u7684 block number \u8BB0\u5F55\u5230 internal Free List \u96C6\u5408 (\u6BCF\u4E2A AG \u7684\u7B2C\u56DB\u4E2A sector)\u3002

internal Free List \u5185\u90E8\u662F\u91C7\u7528 ring buffer \u7684\u65B9\u5F0F\u5BF9 block \u505A\u7BA1\u7406\uFF0C\u7EC6\u8282\u6BD4\u8F83\u7E41\u6742\uFF0C\u7B80\u5355\u6765\u8BF4\uFF0C\u82E5 b+tree \u9700\u8981\u6269\u5BB9\uFF0C\u5219\u9700\u8981\u5BF9\u53F6\u5B50\u8282\u70B9\u8FDB\u884C\u62C6\u5206\uFF0C\u5219\u53EF\u4EE5\u4ECE freelist \u4E2D\u53D6\u51FA\u7A7A\u95F2\u7684 block \u8FDB\u884C\u4F7F\u7528\u3002freelist \u7528\u6EE1\u540E\uFF0C\u53EF\u6267\u884C\u6269\u5BB9\u3002

\u82E5\u788E\u7247\u95EE\u9898\u5F71\u54CD\u4ECD\u7136\u5B58\u5728\uFF0C\u5219\u53EF\u901A\u8FC7 xfs_fsr \u8FDB\u884C\u788E\u7247\u6574\u7406\u3002
`,title:"\u63D2\u64AD\uFF1A\u7A7A\u95F4\u788E\u7247\u5316\u95EE\u9898",level:2,content:`## \u63D2\u64AD\uFF1A\u7A7A\u95F4\u788E\u7247\u5316\u95EE\u9898

\u7531\u4E8E XFS \u4F7F\u7528 FINOB+tree \u6765\u7BA1\u7406\u7A7A\u95F4\uFF0C\u867D\u7136\u5EF6\u8FDF\u5206\u914D\u4F7F\u5176\u788E\u7247\u95EE\u9898\u4F18\u4E8E\u5176\u5B83\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F46\u539F\u7406\u4E0A\u51B3\u5B9A\u4E86\u4ECD\u7136\u5B58\u5728\u7A7A\u95F4\u788E\u7247\u5316\u7684\u95EE\u9898\u3002startblock \u548C blockcount \u7684\u8BB0\u5F55\u5BF9\u4F1A\u589E\u957F\u3002\u5BFC\u81F4 b+tree \u9700\u8981\u6269\u5BB9\u3002

\u4E3A\u4E86\u6EE1\u8DB3\u6269\u5BB9\u9700\u6C42\uFF0Cmkfs \u65F6\u6BCF\u4E2A AG \u9884\u7559\u51FA 4 \u4E2A block \u7684 Free List \u533A\u95F4\uFF0C\u5E76\u5C06\u5BF9\u5E94\u7684 block number \u8BB0\u5F55\u5230 internal Free List \u96C6\u5408 (\u6BCF\u4E2A AG \u7684\u7B2C\u56DB\u4E2A sector)\u3002

internal Free List \u5185\u90E8\u662F\u91C7\u7528 ring buffer \u7684\u65B9\u5F0F\u5BF9 block \u505A\u7BA1\u7406\uFF0C\u7EC6\u8282\u6BD4\u8F83\u7E41\u6742\uFF0C\u7B80\u5355\u6765\u8BF4\uFF0C\u82E5 b+tree \u9700\u8981\u6269\u5BB9\uFF0C\u5219\u9700\u8981\u5BF9\u53F6\u5B50\u8282\u70B9\u8FDB\u884C\u62C6\u5206\uFF0C\u5219\u53EF\u4EE5\u4ECE freelist \u4E2D\u53D6\u51FA\u7A7A\u95F2\u7684 block \u8FDB\u884C\u4F7F\u7528\u3002freelist \u7528\u6EE1\u540E\uFF0C\u53EF\u6267\u884C\u6269\u5BB9\u3002

\u82E5\u788E\u7247\u95EE\u9898\u5F71\u54CD\u4ECD\u7136\u5B58\u5728\uFF0C\u5219\u53EF\u901A\u8FC7 xfs_fsr \u8FDB\u884C\u788E\u7247\u6574\u7406\u3002`,frontmatter:{},index:17,start:360,end:371,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:_v,meta:{slide:{raw:`
## inode \u7684\u521D\u59CB\u5316

inodesize \u9ED8\u8BA4\u4E3A 512 \u5B57\u8282\uFF0C\u7531\u4E09\u90E8\u5206\u6784\u6210\u3002

<img src="https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654697411.png" style="max-height: 130px">

\u6BD4\u8F83\u6709\u8DA3\u7684\u4E00\u70B9\u662F datafork \u548C xattrfork \u662F\u52A8\u6001\u5927\u5C0F\u7684\uFF0C\u901A\u8FC7 forkoff \u7ED9\u5B9A\u7684\u503C\u5206\u754C\u3002

\u4E0B\u9762\u4ECB\u7ECD\u4E00\u4E0B\u8FD9\u4E09\u90E8\u5206\u3002
`,title:"inode \u7684\u521D\u59CB\u5316",level:2,content:`## inode \u7684\u521D\u59CB\u5316

inodesize \u9ED8\u8BA4\u4E3A 512 \u5B57\u8282\uFF0C\u7531\u4E09\u90E8\u5206\u6784\u6210\u3002

<img src="https://raw.githubusercontent.com/pluveto/0images/master/2022/06/upgit_20220608_1654697411.png" style="max-height: 130px">

\u6BD4\u8F83\u6709\u8DA3\u7684\u4E00\u70B9\u662F datafork \u548C xattrfork \u662F\u52A8\u6001\u5927\u5C0F\u7684\uFF0C\u901A\u8FC7 forkoff \u7ED9\u5B9A\u7684\u503C\u5206\u754C\u3002

\u4E0B\u9762\u4ECB\u7ECD\u4E00\u4E0B\u8FD9\u4E09\u90E8\u5206\u3002`,frontmatter:{},index:18,start:372,end:383,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:xv,meta:{slide:{raw:`
## inode core

\u4E0B\u9762\u662F inode core \u7684\u7ED3\u6784\uFF08D\u524D\u7F00\u662F\u56E0\u4E3A\u6B64\u7ED3\u6784\u5B58\u653E\u4E8E\u78C1\u76D8\u4E4B\u4E2D\uFF09\uFF0C\u7531\u4E8E\u6B64\u7ED3\u6784\u975E\u5E38\u957F\uFF0C\u4EC5\u6458\u53D6\u6700\u4E3A\u5173\u952E\u7684\u90E8\u5206\u5217\u51FA\u3002\u6587\u4EF6\u548C\u76EE\u5F55\u5171\u4EAB\u4F7F\u7528\u7684 inode \u7ED3\u6784\u5E76\u65E0\u7279\u5F02\u4E4B\u5904\u3002

\`\`\`rust
pub struct Dinode {   
    mode: u16,         // st_mode \u6743\u9650\u4F4D\u3002\u524D3\u4E2A8\u8FDB\u5236\u4E3A\u8868\u793A\u6587\u4EF6\u7684\u7C7B\u578B\u7B49\uFF0C\u6BD4\u5982\u666E\u901A\u6587\u4EF6 S_IFREG
                       // \u5E38\u89C1\u7684\u6709 S_IFBLK, S_IFCHR, S_IFDIR, S_IFIFO, S_IFLNK\u3002\u540E\u4E09\u4F4D\u5C31\u662F\u6587\u4EF6\u7684\u6743\u9650\u5982 rwxrwxrwx\u3002
    format: u8,        // \u683C\u5F0F\uFF0C\u5E38\u89C1\u6709 FMT_LOCAL, FMT_EXTENTS, FMT_BTREE. FMT_DEV \u7528\u4E8E\u5B57\u7B26\u6216\u5757\u8BBE\u5907
    uid: u32,          // \u6587\u4EF6\u6240\u6709\u4EBA
    gid: u32,          // \u6587\u4EF6\u6240\u5C5E\u7EC4
    nlink: u32,        // \u786C\u94FE\u63A5\u8BA1\u6570
    atime: timestamp,  // \u6700\u540E\u8BBF\u95EE\u65F6\u95F4
    mtime: timestamp,  // \u6700\u540E\u4FEE\u6539\u65F6\u95F4
    ctime: timestamp,  // \u6700\u540E inode \u72B6\u6001\u4FEE\u6539\u65F6\u95F4
    size: u64, // Inode\u7684\u5927\u5C0F\uFF0C\u5BF9\u4E8E\u6587\u4EF6inode\u6765\u8BF4\u5E76\u4E0D\u662F\u5176\u5B9E\u9645\u5360\u7528\u7A7A\u95F4\u7684\u5927\u5C0F\uFF0C\u800C\u662F\u770BEOF\u7684\u4F4D\u7F6E\u3002\u5BF9\u4E8E\u76EE\u5F55inode\u6765\u8BF4\u5C31\u662F\u76EE\u5F55\u6761\u76EE\u6240\u5360\u7684\u7A7A\u95F4\u3002
    nblocks: u64, // \u7EDF\u8BA1\u6B64 inode \u5360\u7528\u7684\u6587\u4EF6\u7CFB\u7EDF\u5757\u6570\u3002
    forkoff: u8, // datafork \u548C attrfork \u7684\u5206\u754C\u7EBF\u3002\u4E58\u4EE58\u7B49\u5230\u771F\u6B63\u7684\u504F\u79FB\u5B57\u8282\u91CF
    flags: InodeFlags, // inode \u6807\u8BB0
    /* di_next_unlinked is the only non-core field in the old dinode */
    next_unlinked: u32, // \u4E4B\u524D\u63D0\u5230 unlinked \u54C8\u5E0C\u8868\uFF0C\u8BB0\u5F55\u5DF2\u7ECF unlink \u4F46\u4ECD\u7136\u88AB\u5F15\u7528\u7684 inode\u3002\u6B64\u5904\u662F\u8BE5\u54C8\u5E0C\u8868\u7684\u62C9\u94FE\u3002
    changecount: u64, // inode \u7684 i_version\uFF0C\u6BCF\u6B21\u4FEE\u6539 inode \u65F6\u52A0 1
    /* fields only written to during inode creation */
    crtime: timestamp, // \u521B\u5EFA\u65F6\u95F4
}

\`\`\`
`,title:"inode core",level:2,content:`## inode core

\u4E0B\u9762\u662F inode core \u7684\u7ED3\u6784\uFF08D\u524D\u7F00\u662F\u56E0\u4E3A\u6B64\u7ED3\u6784\u5B58\u653E\u4E8E\u78C1\u76D8\u4E4B\u4E2D\uFF09\uFF0C\u7531\u4E8E\u6B64\u7ED3\u6784\u975E\u5E38\u957F\uFF0C\u4EC5\u6458\u53D6\u6700\u4E3A\u5173\u952E\u7684\u90E8\u5206\u5217\u51FA\u3002\u6587\u4EF6\u548C\u76EE\u5F55\u5171\u4EAB\u4F7F\u7528\u7684 inode \u7ED3\u6784\u5E76\u65E0\u7279\u5F02\u4E4B\u5904\u3002

\`\`\`rust
pub struct Dinode {   
    mode: u16,         // st_mode \u6743\u9650\u4F4D\u3002\u524D3\u4E2A8\u8FDB\u5236\u4E3A\u8868\u793A\u6587\u4EF6\u7684\u7C7B\u578B\u7B49\uFF0C\u6BD4\u5982\u666E\u901A\u6587\u4EF6 S_IFREG
                       // \u5E38\u89C1\u7684\u6709 S_IFBLK, S_IFCHR, S_IFDIR, S_IFIFO, S_IFLNK\u3002\u540E\u4E09\u4F4D\u5C31\u662F\u6587\u4EF6\u7684\u6743\u9650\u5982 rwxrwxrwx\u3002
    format: u8,        // \u683C\u5F0F\uFF0C\u5E38\u89C1\u6709 FMT_LOCAL, FMT_EXTENTS, FMT_BTREE. FMT_DEV \u7528\u4E8E\u5B57\u7B26\u6216\u5757\u8BBE\u5907
    uid: u32,          // \u6587\u4EF6\u6240\u6709\u4EBA
    gid: u32,          // \u6587\u4EF6\u6240\u5C5E\u7EC4
    nlink: u32,        // \u786C\u94FE\u63A5\u8BA1\u6570
    atime: timestamp,  // \u6700\u540E\u8BBF\u95EE\u65F6\u95F4
    mtime: timestamp,  // \u6700\u540E\u4FEE\u6539\u65F6\u95F4
    ctime: timestamp,  // \u6700\u540E inode \u72B6\u6001\u4FEE\u6539\u65F6\u95F4
    size: u64, // Inode\u7684\u5927\u5C0F\uFF0C\u5BF9\u4E8E\u6587\u4EF6inode\u6765\u8BF4\u5E76\u4E0D\u662F\u5176\u5B9E\u9645\u5360\u7528\u7A7A\u95F4\u7684\u5927\u5C0F\uFF0C\u800C\u662F\u770BEOF\u7684\u4F4D\u7F6E\u3002\u5BF9\u4E8E\u76EE\u5F55inode\u6765\u8BF4\u5C31\u662F\u76EE\u5F55\u6761\u76EE\u6240\u5360\u7684\u7A7A\u95F4\u3002
    nblocks: u64, // \u7EDF\u8BA1\u6B64 inode \u5360\u7528\u7684\u6587\u4EF6\u7CFB\u7EDF\u5757\u6570\u3002
    forkoff: u8, // datafork \u548C attrfork \u7684\u5206\u754C\u7EBF\u3002\u4E58\u4EE58\u7B49\u5230\u771F\u6B63\u7684\u504F\u79FB\u5B57\u8282\u91CF
    flags: InodeFlags, // inode \u6807\u8BB0
    /* di_next_unlinked is the only non-core field in the old dinode */
    next_unlinked: u32, // \u4E4B\u524D\u63D0\u5230 unlinked \u54C8\u5E0C\u8868\uFF0C\u8BB0\u5F55\u5DF2\u7ECF unlink \u4F46\u4ECD\u7136\u88AB\u5F15\u7528\u7684 inode\u3002\u6B64\u5904\u662F\u8BE5\u54C8\u5E0C\u8868\u7684\u62C9\u94FE\u3002
    changecount: u64, // inode \u7684 i_version\uFF0C\u6BCF\u6B21\u4FEE\u6539 inode \u65F6\u52A0 1
    /* fields only written to during inode creation */
    crtime: timestamp, // \u521B\u5EFA\u65F6\u95F4
}

\`\`\``,frontmatter:{},index:19,start:384,end:413,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:Ov,meta:{slide:{raw:`
## data fork (\u666E\u901A\u6587\u4EF6)


\u5B58\u653E\u6587\u4EF6\u7684\u6570\u636E\u3002xfs \u6709\u4E24\u79CD\u6A21\u5F0F\uFF0C\u4E00\u79CD\u662F extent \u6A21\u5F0F\uFF0C\u4E00\u79CD\u662F b+tree \u6A21\u5F0F\u3002\u672C\u8D28\u800C\u8A00\uFF0C\u5B83\u4EEC\u90FD\u5145\u5F53 Bmap \u7684\u4F5C\u7528\uFF08\u6CE8\u610F\uFF1Abmap \u4E0D\u662F\u4F4D\u56FE\uFF0C\u800C\u662F\u5757\u6620\u5C04\uFF09

**extent \u6A21\u5F0F**:\u4E00\u4E2A extend \u957F 128B\uFF0C\u7531 flag, \u903B\u8F91\u504F\u79FB, \u7269\u7406\u5757\u53F7\uFF0C\u7269\u7406\u5757\u6570\u51E0\u90E8\u5206\u7EC4\u6210\u3002**\u5BF9\u4E8E\u7B80\u5355\u7684\u6587\u4EF6\uFF0C\u5E76\u4E0D\u9700\u8981\u7528 b+tree \u53BB\u5B58\u50A8\uFF0C\u53EA\u8981\u7528\u6570\u4E2A extend \u5C31\u591F\u4E86**\uFF08\u8FD9\u5B9E\u9645\u4E0A\u5C31\u662F\u6211\u4EEC\u521D\u5B66\u64CD\u4F5C\u7CFB\u7EDF\u65F6\u4E86\u89E3\u5230\u7684\u6A21\u5F0F\uFF0C\u76F4\u63A5\u5728 inode \u4E2D\u8BB0\u5F55\u6587\u4EF6\u7684\u7269\u7406\u5757\u4F4D\u7F6E\uFF09\u3002\u8FD9\u4E9B extend \u5728\u5177\u4F53\u8BFB\u5199\u6587\u4EF6\u65F6\u90FD\u4F1A\u88AB\u8F6C\u6362\u4E3A\u7269\u7406\u5757\u4F4D\u7F6E\u53BB\u8BFB\u5199\u3002\uFF08\u548C inode \u4E00\u6837\uFF0C\u4E00\u4E2A extend \u4E5F\u53EF\u80FD\u5904\u4E8E\u9884\u5206\u914D\u672A\u5199\u5165\u72B6\u6001\uFF09

**B+tree \u6A21\u5F0F**\uFF1A\u5F53 extents \u4E0D\u80FD\u6EE1\u8DB3\u9700\u6C42\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0Cextents \u4F1A\u88AB\u9500\u6BC1\uFF0C\u7528\u4E00\u68F5\u6811\u53D6\u800C\u4EE3\u4E4B\u3002\u539F\u6765 extents \u7684\u5730\u65B9\u53D8\u6210\u4E86\u4E00\u4E2A b+tree \u6811\u6839\u3002

\u5185\u90E8\u8282\u70B9\u548C\u8BBE\u8BA1\u548C\u4E4B\u524D\u6240\u8FF0\u5927\u540C\u5C0F\u5F02\u3002\u800C\u53F6\u8282\u70B9\u5B9E\u9645\u4E0A\u5C31\u662F extents.

**\u7C7B\u4F3C\u6211\u4EEC\u521D\u5B66 OS \u65F6\u4E86\u89E3\u7684\u591A\u7EA7\u7D22\u5F15\uFF0C\u4F46\u8FD9\u79CD\u7D22\u5F15\u662F\u901A\u8FC7 b+tree \u5B9E\u73B0\u7684\uFF0C\u800C\u4E14\u53EF\u4EE5\u4EFB\u610F\u7EA7\u522B\u3002**
`,title:"data fork (\u666E\u901A\u6587\u4EF6)",level:2,content:`## data fork (\u666E\u901A\u6587\u4EF6)


\u5B58\u653E\u6587\u4EF6\u7684\u6570\u636E\u3002xfs \u6709\u4E24\u79CD\u6A21\u5F0F\uFF0C\u4E00\u79CD\u662F extent \u6A21\u5F0F\uFF0C\u4E00\u79CD\u662F b+tree \u6A21\u5F0F\u3002\u672C\u8D28\u800C\u8A00\uFF0C\u5B83\u4EEC\u90FD\u5145\u5F53 Bmap \u7684\u4F5C\u7528\uFF08\u6CE8\u610F\uFF1Abmap \u4E0D\u662F\u4F4D\u56FE\uFF0C\u800C\u662F\u5757\u6620\u5C04\uFF09

**extent \u6A21\u5F0F**:\u4E00\u4E2A extend \u957F 128B\uFF0C\u7531 flag, \u903B\u8F91\u504F\u79FB, \u7269\u7406\u5757\u53F7\uFF0C\u7269\u7406\u5757\u6570\u51E0\u90E8\u5206\u7EC4\u6210\u3002**\u5BF9\u4E8E\u7B80\u5355\u7684\u6587\u4EF6\uFF0C\u5E76\u4E0D\u9700\u8981\u7528 b+tree \u53BB\u5B58\u50A8\uFF0C\u53EA\u8981\u7528\u6570\u4E2A extend \u5C31\u591F\u4E86**\uFF08\u8FD9\u5B9E\u9645\u4E0A\u5C31\u662F\u6211\u4EEC\u521D\u5B66\u64CD\u4F5C\u7CFB\u7EDF\u65F6\u4E86\u89E3\u5230\u7684\u6A21\u5F0F\uFF0C\u76F4\u63A5\u5728 inode \u4E2D\u8BB0\u5F55\u6587\u4EF6\u7684\u7269\u7406\u5757\u4F4D\u7F6E\uFF09\u3002\u8FD9\u4E9B extend \u5728\u5177\u4F53\u8BFB\u5199\u6587\u4EF6\u65F6\u90FD\u4F1A\u88AB\u8F6C\u6362\u4E3A\u7269\u7406\u5757\u4F4D\u7F6E\u53BB\u8BFB\u5199\u3002\uFF08\u548C inode \u4E00\u6837\uFF0C\u4E00\u4E2A extend \u4E5F\u53EF\u80FD\u5904\u4E8E\u9884\u5206\u914D\u672A\u5199\u5165\u72B6\u6001\uFF09

**B+tree \u6A21\u5F0F**\uFF1A\u5F53 extents \u4E0D\u80FD\u6EE1\u8DB3\u9700\u6C42\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0Cextents \u4F1A\u88AB\u9500\u6BC1\uFF0C\u7528\u4E00\u68F5\u6811\u53D6\u800C\u4EE3\u4E4B\u3002\u539F\u6765 extents \u7684\u5730\u65B9\u53D8\u6210\u4E86\u4E00\u4E2A b+tree \u6811\u6839\u3002

\u5185\u90E8\u8282\u70B9\u548C\u8BBE\u8BA1\u548C\u4E4B\u524D\u6240\u8FF0\u5927\u540C\u5C0F\u5F02\u3002\u800C\u53F6\u8282\u70B9\u5B9E\u9645\u4E0A\u5C31\u662F extents.

**\u7C7B\u4F3C\u6211\u4EEC\u521D\u5B66 OS \u65F6\u4E86\u89E3\u7684\u591A\u7EA7\u7D22\u5F15\uFF0C\u4F46\u8FD9\u79CD\u7D22\u5F15\u662F\u901A\u8FC7 b+tree \u5B9E\u73B0\u7684\uFF0C\u800C\u4E14\u53EF\u4EE5\u4EFB\u610F\u7EA7\u522B\u3002**`,frontmatter:{},index:20,start:414,end:428,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:Mv,meta:{slide:{raw:`
## data fork\uFF08\u76EE\u5F55\uFF09

> \u76EE\u5F55\u5757\u4E0EFS\u5757\u6709\u6240\u4E0D\u540C\u3002\u5927\u5BB6\u53EA\u8981\u77E5\u9053\u76EE\u5F55\u6709\u81EA\u5DF1\u5355\u72EC\u7684 directory blocksize \u5C31\u884C\u4E86\u3002

+ **\u77ED\u76EE\u5F55**\uFF1A\u5BF9\u7B80\u5355\u7684\u76EE\u5F55\uFF0C\u76F4\u63A5\u5728 datafork \u5B58\u76EE\u5F55\u4FE1\u606F\u3002\u5305\u62EC\u76EE\u5F55\u5934\u548C\u76EE\u5F55\u9879\u3002\u4E0D\u5355\u72EC\u5B58\u50A8 \`.\` \u548C \`..\`
+ **\u5757\u76EE\u5F55**\uFF1A\u5F53\u77ED\u76EE\u5F55\u4E0D\u591F\u7528\uFF08datafork \u6EE1\uFF09\u5219\u9700\u8981\u53D8\u6210\u5757\u76EE\u5F55\u3002\u5757\u76EE\u5F55\u4FE1\u606F\u7528\u5355\u72EC\u7684 dir block\uFF0C\u867D\u7136\u662F\u7EBF\u6027\uFF0C\u4F46\u901A\u8FC7\u54C8\u5E0C\u8868 leaf entry \u5B58\u653E\u3002\u7D22\u5F15\u8D77\u6765\u5F88\u5FEB\u3002
+ **\u53F6\u76EE\u5F55**\uFF1A\u5757\u76EE\u5F55\u7684\u5FAE\u5C0F\u6539\u8FDB\uFF0C\u591A\u4E2A data blocks \u6765\u5B58\u50A8 data entries\uFF0C\u5E76\u5C06 leaf entries \u8F6C\u79FB\u5230\u4E00\u4E2A\u5355\u72EC\u7684 leaf block \u4E2D\u3002
+ **\u8282\u70B9\u76EE\u5F55**\uFF1A\u5728\u9875\u76EE\u5F55\u7684\u57FA\u7840\u4E0A\uFF0C\u589E\u52A0\u5BF9\u53F6\u5757\u7684\u7D22\u5F15\uFF08free index block\uFF09\u3002
+ **B+tree \u76EE\u5F55**\uFF1A\u5728\u8282\u70B9\u76EE\u5F55\u7684\u57FA\u7840\u4E0A\uFF0C\u589E\u52A0\u591A\u5C42 node block\u3002
`,title:"data fork\uFF08\u76EE\u5F55\uFF09",level:2,content:`## data fork\uFF08\u76EE\u5F55\uFF09

> \u76EE\u5F55\u5757\u4E0EFS\u5757\u6709\u6240\u4E0D\u540C\u3002\u5927\u5BB6\u53EA\u8981\u77E5\u9053\u76EE\u5F55\u6709\u81EA\u5DF1\u5355\u72EC\u7684 directory blocksize \u5C31\u884C\u4E86\u3002

+ **\u77ED\u76EE\u5F55**\uFF1A\u5BF9\u7B80\u5355\u7684\u76EE\u5F55\uFF0C\u76F4\u63A5\u5728 datafork \u5B58\u76EE\u5F55\u4FE1\u606F\u3002\u5305\u62EC\u76EE\u5F55\u5934\u548C\u76EE\u5F55\u9879\u3002\u4E0D\u5355\u72EC\u5B58\u50A8 \`.\` \u548C \`..\`
+ **\u5757\u76EE\u5F55**\uFF1A\u5F53\u77ED\u76EE\u5F55\u4E0D\u591F\u7528\uFF08datafork \u6EE1\uFF09\u5219\u9700\u8981\u53D8\u6210\u5757\u76EE\u5F55\u3002\u5757\u76EE\u5F55\u4FE1\u606F\u7528\u5355\u72EC\u7684 dir block\uFF0C\u867D\u7136\u662F\u7EBF\u6027\uFF0C\u4F46\u901A\u8FC7\u54C8\u5E0C\u8868 leaf entry \u5B58\u653E\u3002\u7D22\u5F15\u8D77\u6765\u5F88\u5FEB\u3002
+ **\u53F6\u76EE\u5F55**\uFF1A\u5757\u76EE\u5F55\u7684\u5FAE\u5C0F\u6539\u8FDB\uFF0C\u591A\u4E2A data blocks \u6765\u5B58\u50A8 data entries\uFF0C\u5E76\u5C06 leaf entries \u8F6C\u79FB\u5230\u4E00\u4E2A\u5355\u72EC\u7684 leaf block \u4E2D\u3002
+ **\u8282\u70B9\u76EE\u5F55**\uFF1A\u5728\u9875\u76EE\u5F55\u7684\u57FA\u7840\u4E0A\uFF0C\u589E\u52A0\u5BF9\u53F6\u5757\u7684\u7D22\u5F15\uFF08free index block\uFF09\u3002
+ **B+tree \u76EE\u5F55**\uFF1A\u5728\u8282\u70B9\u76EE\u5F55\u7684\u57FA\u7840\u4E0A\uFF0C\u589E\u52A0\u591A\u5C42 node block\u3002`,frontmatter:{},index:21,start:429,end:440,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:Hv,meta:{slide:{raw:`
## data fork\uFF08\u76EE\u5F55\uFF09


\`\`\`rust
pub struct DirShortFormatHeader {
    count: u16,      // \u6B64\u76EE\u5F55 \u9879\u7684\u4E2A\u6570
    i8count: u8,     // \u8868\u793A\u6709\u591A\u5C11\u76EE\u5F55\u7684\u6761\u76EE\u662F\u7528\u4E8E64\u4F4Dinode\u7684\u3002
    parent: [u8; 8], // \u7236\u76EE\u5F55\u7684inode\u53F7
}
// \uFF08\u77ED\uFF09\u76EE\u5F55\u9879\uFF1A
pub struct DirShortFormatEntry {
    namelen: u8,     // \u6587\u4EF6\u540D\u957F\u5EA6
    offset: [u8; 2], // \u504F\u79FB\uFF0C\u7528\u4E8E\u8F85\u52A9\u5728readdir\u7684\u65F6\u5019\u8FED\u4EE3\u76EE\u5F55\u5185\u5BB9\u7528\u7684\u3002
    name: [u8],      // \u6587\u4EF6\u540D\uFF0Cflexible array
}
\`\`\`
> \u6587\u4EF6\u540D\u3001\u76EE\u5F55\u540D\u662F\u901A\u8FC7\u5F39\u6027\u6570\u7EC4\u5B58\u653E\u7684\u3002\u56E0\u6B64\u4E0D\u540C\u4E8E\u4E00\u4E9B\u65E9\u671F\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5B83\u4EEC\u53EA\u80FD\u91C7\u7528\u56FA\u5B9A\u957F\u5EA6\u7684\u76EE\u5F55\u540D\u3002\u800C XFS \u7684\u76EE\u5F55\u540D\u51E0\u4E4E\u53EF\u4EE5\u4EFB\u610F\u957F\u5EA6\u3002

## datafork \uFF08\u7B26\u53F7\u94FE\u63A5\uFF09

\u540C\u5B66\u4EEC\u6709\u6CA1\u6709\u597D\u5947\u7B26\u53F7\u94FE\u63A5\u6587\u4EF6\u662F\u600E\u4E48\u5B9E\u73B0\u7684\uFF1FXFS \u7B26\u53F7\u94FE\u63A5\u6709\u4E24\u79CD\uFF1A
+ **local symlink**\uFF1A\u5373\u76F4\u63A5\u5728 datafork \u8FDB\u884C\u8FDE\u63A5\u3002\u5185\u5BB9\u5C31\u662F\u8DEF\u5F84\u3002
+ **extent symlink**\uFF1A\u8FD9\u662F\u8003\u8651\u5230\u94FE\u63A5\u8DEF\u5F84\u8FC7\u957F\uFF0Cdatafork \u65E0\u6CD5\u5BB9\u7EB3\uFF0C\u5219\u91C7\u7528\u5355\u72EC\u7684 symlink block \u6765\u5B58\u653E\uFF0C\u539F\u5148 datafork \u6539\u5B58\u7D22\u5F15\u3002

\u7B26\u53F7\u94FE\u63A5\u6CA1\u6709 b+tree \u7EC4\u7EC7\u5F62\u5F0F\u3002\u6211\u731C\u662F\u8003\u8651\u5230\u4E0D\u53EF\u80FD\u6709\u90A3\u4E48\u957F\u7684\u76EE\u6807\u6587\u4EF6\u540D\u3002
`,title:"data fork\uFF08\u76EE\u5F55\uFF09",level:2,content:`## data fork\uFF08\u76EE\u5F55\uFF09


\`\`\`rust
pub struct DirShortFormatHeader {
    count: u16,      // \u6B64\u76EE\u5F55 \u9879\u7684\u4E2A\u6570
    i8count: u8,     // \u8868\u793A\u6709\u591A\u5C11\u76EE\u5F55\u7684\u6761\u76EE\u662F\u7528\u4E8E64\u4F4Dinode\u7684\u3002
    parent: [u8; 8], // \u7236\u76EE\u5F55\u7684inode\u53F7
}
// \uFF08\u77ED\uFF09\u76EE\u5F55\u9879\uFF1A
pub struct DirShortFormatEntry {
    namelen: u8,     // \u6587\u4EF6\u540D\u957F\u5EA6
    offset: [u8; 2], // \u504F\u79FB\uFF0C\u7528\u4E8E\u8F85\u52A9\u5728readdir\u7684\u65F6\u5019\u8FED\u4EE3\u76EE\u5F55\u5185\u5BB9\u7528\u7684\u3002
    name: [u8],      // \u6587\u4EF6\u540D\uFF0Cflexible array
}
\`\`\`
> \u6587\u4EF6\u540D\u3001\u76EE\u5F55\u540D\u662F\u901A\u8FC7\u5F39\u6027\u6570\u7EC4\u5B58\u653E\u7684\u3002\u56E0\u6B64\u4E0D\u540C\u4E8E\u4E00\u4E9B\u65E9\u671F\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5B83\u4EEC\u53EA\u80FD\u91C7\u7528\u56FA\u5B9A\u957F\u5EA6\u7684\u76EE\u5F55\u540D\u3002\u800C XFS \u7684\u76EE\u5F55\u540D\u51E0\u4E4E\u53EF\u4EE5\u4EFB\u610F\u957F\u5EA6\u3002

## datafork \uFF08\u7B26\u53F7\u94FE\u63A5\uFF09

\u540C\u5B66\u4EEC\u6709\u6CA1\u6709\u597D\u5947\u7B26\u53F7\u94FE\u63A5\u6587\u4EF6\u662F\u600E\u4E48\u5B9E\u73B0\u7684\uFF1FXFS \u7B26\u53F7\u94FE\u63A5\u6709\u4E24\u79CD\uFF1A
+ **local symlink**\uFF1A\u5373\u76F4\u63A5\u5728 datafork \u8FDB\u884C\u8FDE\u63A5\u3002\u5185\u5BB9\u5C31\u662F\u8DEF\u5F84\u3002
+ **extent symlink**\uFF1A\u8FD9\u662F\u8003\u8651\u5230\u94FE\u63A5\u8DEF\u5F84\u8FC7\u957F\uFF0Cdatafork \u65E0\u6CD5\u5BB9\u7EB3\uFF0C\u5219\u91C7\u7528\u5355\u72EC\u7684 symlink block \u6765\u5B58\u653E\uFF0C\u539F\u5148 datafork \u6539\u5B58\u7D22\u5F15\u3002

\u7B26\u53F7\u94FE\u63A5\u6CA1\u6709 b+tree \u7EC4\u7EC7\u5F62\u5F0F\u3002\u6211\u731C\u662F\u8003\u8651\u5230\u4E0D\u53EF\u80FD\u6709\u90A3\u4E48\u957F\u7684\u76EE\u6807\u6587\u4EF6\u540D\u3002`,frontmatter:{},index:22,start:441,end:468,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:Kv,meta:{slide:{raw:`
## attr fork

attr fork \u7684\u4F5C\u7528\u662F\u5B58\u653E\u6216\u7D22\u5F15\u6269\u5C55\u5C5E\u6027\u3002\u6269\u5C55\u5C5E\u6027\u76F8\u5F53\u4E8E\u7ED9\u6587\u4EF6\u52A0\u81EA\u5B9A\u4E49\u5B57\u6BB5\u3002\u4F8B\u5982 acl \u548C selinux \u7B49\u90FD\u662F\u57FA\u4E8E\u8BE5\u7279\u6027\u7684\u3002\u5982\u679C\u4F60\u7528\u8FC7 setxattr getxattr \u4E4B\u7C7B\u7684 syscall\uFF0C\u4F60\u5E94\u8BE5\u4F1A\u5F88\u719F\u6089\u5B83\u3002\u5176\u5185\u5BB9\u7B80\u5355\u800C\u8A00\u5C31\u662F key-val \u5BF9\u3002

\u4E3A\u4E86\u652F\u6301\u53D8\u957F\uFF0C\u4F7F\u7528 namelen, valuelen \u8BB0\u5F55 key-val \u5BF9\u7684\u957F\u5EA6\u3002

\u548C\u76EE\u5F55\u4E00\u6837\uFF0C\u652F\u6301 local, extent \u548C btree \u4E09\u79CD\u7EC4\u7EC7\u5F62\u5F0F\u3002\u5927\u540C\u5C0F\u5F02\uFF0C\u56E0\u6B64\u7565\u8FC7\u3002
`,title:"attr fork",level:2,content:`## attr fork

attr fork \u7684\u4F5C\u7528\u662F\u5B58\u653E\u6216\u7D22\u5F15\u6269\u5C55\u5C5E\u6027\u3002\u6269\u5C55\u5C5E\u6027\u76F8\u5F53\u4E8E\u7ED9\u6587\u4EF6\u52A0\u81EA\u5B9A\u4E49\u5B57\u6BB5\u3002\u4F8B\u5982 acl \u548C selinux \u7B49\u90FD\u662F\u57FA\u4E8E\u8BE5\u7279\u6027\u7684\u3002\u5982\u679C\u4F60\u7528\u8FC7 setxattr getxattr \u4E4B\u7C7B\u7684 syscall\uFF0C\u4F60\u5E94\u8BE5\u4F1A\u5F88\u719F\u6089\u5B83\u3002\u5176\u5185\u5BB9\u7B80\u5355\u800C\u8A00\u5C31\u662F key-val \u5BF9\u3002

\u4E3A\u4E86\u652F\u6301\u53D8\u957F\uFF0C\u4F7F\u7528 namelen, valuelen \u8BB0\u5F55 key-val \u5BF9\u7684\u957F\u5EA6\u3002

\u548C\u76EE\u5F55\u4E00\u6837\uFF0C\u652F\u6301 local, extent \u548C btree \u4E09\u79CD\u7EC4\u7EC7\u5F62\u5F0F\u3002\u5927\u540C\u5C0F\u5F02\uFF0C\u56E0\u6B64\u7565\u8FC7\u3002`,frontmatter:{},index:23,start:469,end:478,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:Jv,meta:{slide:{raw:`
# \u6587\u4EF6\u7CFB\u7EDF\u65E5\u5FD7

Log-structured File System

LFS \u63D0\u9AD8\u8BFB\u5199\u6027\u80FD\u7684\u57FA\u672C\u601D\u60F3\uFF1A\u5728\u5185\u5B58\u4E2D\u8BBE\u7ACB\u4E00\u4E2A\u7F13\u51B2\u961F\u5217\uFF0C\u628A\u5199\u64CD\u4F5C\u7F13\u51B2\u5230\u961F\u5217\u4E2D\uFF0C\u6BCF\u9694\u4E00\u6BB5\u65F6\u95F4\uFF0C\u88AB\u7F13\u51B2\u5728\u5185\u5B58\u4E2D\u7684\u6240\u6709\u672A\u51B3\u7684\u5199\u64CD\u4F5C\u90FD\u88AB\u5B58\u5230\u78C1\u76D8\u4E2D\u3002

LFS \u65E5\u5FD7\u7ED3\u6784\u7684\u57FA\u672C\u601D\u60F3\uFF1A\u8BB0\u5F55\u7CFB\u7EDF\u4E0B\u4E00\u6B65\u5C06\u8981\u505A\u4EC0\u4E48\u7684\u65E5\u5FD7\u3002\u8FD9\u6837\u5F53\u7CFB\u7EDF\u5728\u5B8C\u6210\u5B83\u4EEC\u5373\u5C06\u5B8C\u6210\u7684\u4EFB\u52A1\u524D\u5D29\u6E83\u65F6\uFF0C\u91CD\u65B0\u542F\u52A8\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u67E5\u770B\u65E5\u5FD7\uFF0C\u83B7\u53D6\u5D29\u6E83\u524D\u8BA1\u5212\u5B8C\u6210\u7684\u4EFB\u52A1\uFF0C\u5E76\u5B8C\u6210\u5B83\u4EEC\u3002
`,title:"\u6587\u4EF6\u7CFB\u7EDF\u65E5\u5FD7",level:1,content:`# \u6587\u4EF6\u7CFB\u7EDF\u65E5\u5FD7

Log-structured File System

LFS \u63D0\u9AD8\u8BFB\u5199\u6027\u80FD\u7684\u57FA\u672C\u601D\u60F3\uFF1A\u5728\u5185\u5B58\u4E2D\u8BBE\u7ACB\u4E00\u4E2A\u7F13\u51B2\u961F\u5217\uFF0C\u628A\u5199\u64CD\u4F5C\u7F13\u51B2\u5230\u961F\u5217\u4E2D\uFF0C\u6BCF\u9694\u4E00\u6BB5\u65F6\u95F4\uFF0C\u88AB\u7F13\u51B2\u5728\u5185\u5B58\u4E2D\u7684\u6240\u6709\u672A\u51B3\u7684\u5199\u64CD\u4F5C\u90FD\u88AB\u5B58\u5230\u78C1\u76D8\u4E2D\u3002

LFS \u65E5\u5FD7\u7ED3\u6784\u7684\u57FA\u672C\u601D\u60F3\uFF1A\u8BB0\u5F55\u7CFB\u7EDF\u4E0B\u4E00\u6B65\u5C06\u8981\u505A\u4EC0\u4E48\u7684\u65E5\u5FD7\u3002\u8FD9\u6837\u5F53\u7CFB\u7EDF\u5728\u5B8C\u6210\u5B83\u4EEC\u5373\u5C06\u5B8C\u6210\u7684\u4EFB\u52A1\u524D\u5D29\u6E83\u65F6\uFF0C\u91CD\u65B0\u542F\u52A8\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u67E5\u770B\u65E5\u5FD7\uFF0C\u83B7\u53D6\u5D29\u6E83\u524D\u8BA1\u5212\u5B8C\u6210\u7684\u4EFB\u52A1\uFF0C\u5E76\u5B8C\u6210\u5B83\u4EEC\u3002`,frontmatter:{},index:24,start:479,end:488,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:oF,meta:{slide:{raw:`
# XFS \u65E5\u5FD7\u7ED3\u6784

XFS \u65E5\u5FD7\u88AB\u5206\u4E3A\u4E00\u7CFB\u5217\u65E5\u5FD7\u8BB0\u5F55\uFF08log record\uFF0CLR\uFF09\u3002\u6BCF\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u90FD\u6709\u4E00\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u5934\uFF08log record header\uFF09

xlog_rec_header \u6458\u5F55\u5982\u4E0B\uFF1A

\`\`\`c

typedef struct xlog_rec_header {
	__be32	  h_cycle; // \u6240\u5C5E\u5199\u5468\u671F
	__be32	  h_len;   // \u5B57\u8282\u957F\u5EA6\uFF0C64 bit \u5BF9\u5176
	__be64	  h_lsn;   // \u6B64 LR \u5E8F\u5217\u53F7
	__be64	  h_tail_lsn; // \u7B2C\u4E00\u4E2A\u672A\u63D0\u4EA4\u7684\u5199 buffer LR \u7684\u5E8F\u5217\u53F7
	__be32	  h_prev_block; // \u4E0A\u4E00\u4E2A LR \u7684\u5757\u53F7
	__be32	  h_num_logops; // \u6B64 LR \u7684\u64CD\u4F5C\u4E2A\u6570
	__be32	  h_cycle_data[XLOG_HEADER_CYCLE_SIZE / BBSIZE]; // \u5FAA\u73AF\u6570\u636E
  // ...
} xlog_rec_header_t;
\`\`\`
`,title:"XFS \u65E5\u5FD7\u7ED3\u6784",level:1,content:`# XFS \u65E5\u5FD7\u7ED3\u6784

XFS \u65E5\u5FD7\u88AB\u5206\u4E3A\u4E00\u7CFB\u5217\u65E5\u5FD7\u8BB0\u5F55\uFF08log record\uFF0CLR\uFF09\u3002\u6BCF\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u90FD\u6709\u4E00\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u5934\uFF08log record header\uFF09

xlog_rec_header \u6458\u5F55\u5982\u4E0B\uFF1A

\`\`\`c

typedef struct xlog_rec_header {
	__be32	  h_cycle; // \u6240\u5C5E\u5199\u5468\u671F
	__be32	  h_len;   // \u5B57\u8282\u957F\u5EA6\uFF0C64 bit \u5BF9\u5176
	__be64	  h_lsn;   // \u6B64 LR \u5E8F\u5217\u53F7
	__be64	  h_tail_lsn; // \u7B2C\u4E00\u4E2A\u672A\u63D0\u4EA4\u7684\u5199 buffer LR \u7684\u5E8F\u5217\u53F7
	__be32	  h_prev_block; // \u4E0A\u4E00\u4E2A LR \u7684\u5757\u53F7
	__be32	  h_num_logops; // \u6B64 LR \u7684\u64CD\u4F5C\u4E2A\u6570
	__be32	  h_cycle_data[XLOG_HEADER_CYCLE_SIZE / BBSIZE]; // \u5FAA\u73AF\u6570\u636E
  // ...
} xlog_rec_header_t;
\`\`\``,frontmatter:{},index:25,start:489,end:510,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:aF,meta:{slide:{raw:`
\u800C\u4E00\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u5934\u4E4B\u540E\uFF0C\u53C8\u5305\u542B\u591A\u4E2A\u65E5\u5FD7\u64CD\u4F5C(log op)\u5934\u3002\u6BCF\u4E2A log op \u540E\u7D27\u8DDF data region.

\`\`\`c
typedef struct xlog_op_header {
__be32 oh_tid; // \u6B64\u64CD\u4F5C\u7684\u4E8B\u52A1 ID
__be32 oh_len; // \u6570\u636E\u57DF\u957F\u5EA6
__u8 oh_clientid; // \u64CD\u4F5C\u6765\u6E90
__u8 oh_flags; // \u72B6\u6001\u4F4D
__u16 oh_res2; // \u586B\u5145
} xlog_op_header_t;
\`\`\`

\u503C\u5F97\u4E00\u63D0\u7684\u662F oh_flags\uFF0C\u5305\u62EC\uFF1A

+ \`XLOG_START_TRANS\` \u5F00\u59CB\u4E00\u4E2A\u65B0\u4E8B\u52A1\u3002\u5219\u4E0B\u4E00\u4E2A\u64CD\u4F5C\u662F\u4E8B\u52A1\u5934\u63CF\u8FF0\u3002
+ \`XLOG_COMMIT_TRANS\` \u63D0\u4EA4\u4E8B\u52A1
+ \`XLOG_CONTINUE_TRANS\` \u4E2D\u7EE7\u6B64\u4E8B\u52A1\u5230\u53E6\u4E00\u4E2A log record
+ \`XLOG_WAS_CONT_TRANS\` \u8868\u793A\u4E8B\u52A1\u5F00\u59CB\u4E8E\u524D\u4E00\u4E2A log record
+ \`XLOG_END_TRANS\` \u4E8B\u52A1\u7ED3\u675F
+ \`XLOG_UNMOUNT_TRANS\` \u5378\u8F7D\u6587\u4EF6\u7CFB\u7EDF
`,content:`\u800C\u4E00\u4E2A\u65E5\u5FD7\u8BB0\u5F55\u5934\u4E4B\u540E\uFF0C\u53C8\u5305\u542B\u591A\u4E2A\u65E5\u5FD7\u64CD\u4F5C(log op)\u5934\u3002\u6BCF\u4E2A log op \u540E\u7D27\u8DDF data region.

\`\`\`c
typedef struct xlog_op_header {
__be32 oh_tid; // \u6B64\u64CD\u4F5C\u7684\u4E8B\u52A1 ID
__be32 oh_len; // \u6570\u636E\u57DF\u957F\u5EA6
__u8 oh_clientid; // \u64CD\u4F5C\u6765\u6E90
__u8 oh_flags; // \u72B6\u6001\u4F4D
__u16 oh_res2; // \u586B\u5145
} xlog_op_header_t;
\`\`\`

\u503C\u5F97\u4E00\u63D0\u7684\u662F oh_flags\uFF0C\u5305\u62EC\uFF1A

+ \`XLOG_START_TRANS\` \u5F00\u59CB\u4E00\u4E2A\u65B0\u4E8B\u52A1\u3002\u5219\u4E0B\u4E00\u4E2A\u64CD\u4F5C\u662F\u4E8B\u52A1\u5934\u63CF\u8FF0\u3002
+ \`XLOG_COMMIT_TRANS\` \u63D0\u4EA4\u4E8B\u52A1
+ \`XLOG_CONTINUE_TRANS\` \u4E2D\u7EE7\u6B64\u4E8B\u52A1\u5230\u53E6\u4E00\u4E2A log record
+ \`XLOG_WAS_CONT_TRANS\` \u8868\u793A\u4E8B\u52A1\u5F00\u59CB\u4E8E\u524D\u4E00\u4E2A log record
+ \`XLOG_END_TRANS\` \u4E8B\u52A1\u7ED3\u675F
+ \`XLOG_UNMOUNT_TRANS\` \u5378\u8F7D\u6587\u4EF6\u7CFB\u7EDF`,frontmatter:{},index:26,start:511,end:533,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:mF,meta:{slide:{raw:`
# \u4E8B\u52A1\u5934\u548C\u65E5\u5FD7\u9879\uFF0C\u4EE5\u53CA\u65E5\u5FD7\u539F\u7406

\u5728\u64CD\u4F5C\u5934\u4E4B\u540E\uFF0C\u53EF\u4EE5\u8DDF\u591A\u79CD\u7C7B\u578B\u7684\u8D1F\u8F7D\u3002\u8FD9\u4E9B\u8D1F\u8F7D\u901A\u8FC7 th_type \u533A\u5206\u3002

\`\`\`c
typedef struct xfs_trans_header {
	uint		th_magic; uint		th_type;		// \u4E8B\u52A1\u7C7B\u578B
	int32_t		th_tid;		// \u4E8B\u52A1 id
	uint		th_num_items;		// \u4E8B\u52A1\u65E5\u5FD7\u8BB0\u5F55\u9879\u76EE\u6570
} xfs_trans_header_t;
\`\`\`

\u6BCF\u4E2A log item \u6709\u5982\u4E0B\u7C7B\u578B\uFF08\u4EC5\u6458\u5F55\u6BD4\u8F83\u91CD\u8981\u7684\uFF09\uFF1A

\`\`\`
XFS_LI_EFI        Extent \u91CA\u653E\uFF08intent\uFF09
XFS_LI_EFD        Extent \u91CA\u653E\uFF08done\uFF09
XFS_LI_INODE      Inode \u66F4\u65B0
XFS_LI_ICREATE    Inode \u521B\u5EFA
XFS_LI_RUI        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08intent\uFF09
XFS_LI_RUD        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08done\uFF09
XFS_LI_CUI        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08intent\uFF09
XFS_LI_CUD        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08done\uFF09
XFS_LI_BUI        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08intent\uFF09
XFS_LI_BUD        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08done\uFF09
\`\`\`
\u53EF\u4EE5\u770B\u5230\uFF0C\u57FA\u672C\u4E0A\u5C31\u662F\u4E24\u9636\u6BB5\u63D0\u4EA4\u534F\u8BAE\u3002`,title:"\u4E8B\u52A1\u5934\u548C\u65E5\u5FD7\u9879\uFF0C\u4EE5\u53CA\u65E5\u5FD7\u539F\u7406",level:1,content:`# \u4E8B\u52A1\u5934\u548C\u65E5\u5FD7\u9879\uFF0C\u4EE5\u53CA\u65E5\u5FD7\u539F\u7406

\u5728\u64CD\u4F5C\u5934\u4E4B\u540E\uFF0C\u53EF\u4EE5\u8DDF\u591A\u79CD\u7C7B\u578B\u7684\u8D1F\u8F7D\u3002\u8FD9\u4E9B\u8D1F\u8F7D\u901A\u8FC7 th_type \u533A\u5206\u3002

\`\`\`c
typedef struct xfs_trans_header {
	uint		th_magic; uint		th_type;		// \u4E8B\u52A1\u7C7B\u578B
	int32_t		th_tid;		// \u4E8B\u52A1 id
	uint		th_num_items;		// \u4E8B\u52A1\u65E5\u5FD7\u8BB0\u5F55\u9879\u76EE\u6570
} xfs_trans_header_t;
\`\`\`

\u6BCF\u4E2A log item \u6709\u5982\u4E0B\u7C7B\u578B\uFF08\u4EC5\u6458\u5F55\u6BD4\u8F83\u91CD\u8981\u7684\uFF09\uFF1A

\`\`\`
XFS_LI_EFI        Extent \u91CA\u653E\uFF08intent\uFF09
XFS_LI_EFD        Extent \u91CA\u653E\uFF08done\uFF09
XFS_LI_INODE      Inode \u66F4\u65B0
XFS_LI_ICREATE    Inode \u521B\u5EFA
XFS_LI_RUI        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08intent\uFF09
XFS_LI_RUD        \u53CD\u5411\u7D22\u5F15\u66F4\u65B0\uFF08done\uFF09
XFS_LI_CUI        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08intent\uFF09
XFS_LI_CUD        \u5F15\u7528\u8BA1\u6570\u66F4\u65B0\uFF08done\uFF09
XFS_LI_BUI        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08intent\uFF09
XFS_LI_BUD        \u6587\u4EF6\u5757\u6620\u5C04\u66F4\u65B0\uFF08done\uFF09
\`\`\`
\u53EF\u4EE5\u770B\u5230\uFF0C\u57FA\u672C\u4E0A\u5C31\u662F\u4E24\u9636\u6BB5\u63D0\u4EA4\u534F\u8BAE\u3002`,frontmatter:{},index:27,start:534,end:562,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:wF,meta:{slide:{raw:`
## \u603B\u7ED3

XFS \u901A\u8FC7 AG \u7EC4\u7EC7\u5206\u533A\uFF0C\u901A\u8FC7 SB \u548C AGF\u3001AGI\u3001AGFL \u67B6\u6784\u8D77 AG \u7684\u7ED3\u6784\u3002XFS \u8D2F\u7A7F\u59CB\u7EC8\u601D\u8DEF\u7684\u5C31\u662F\u7D22\u5F15\u3002\u629B\u5F03\u4E86\u4F4D\u56FE\u65B9\u6848\uFF0C\u5E76\u91CD\u5EA6\u4F7F\u7528 b+tree \u7D22\u5F15\u3002\u5C31\u5168\u5C40\u800C\u8A00\uFF1A

+ BNO \u7A7A\u95F2\u7A7A\u95F4\u5757\u53F7\u7D22\u5F15
+ CNT \u7A7A\u95F2\u7A7A\u95F4\u5757\u6570\u7D22\u5F15
+ INO \u7D22\u5F15\u8282\u70B9\u53F7\u7D22\u5F15
+ FINO \u7A7A\u95F2\u7D22\u5F15\u8282\u70B9\u53F7\u7D22\u5F15

\u5C31\u4E00\u4E2A inode \u800C\u8A00\uFF1A datafork/attrfork \u5185\u4F7F\u7528\u6DF7\u6742\u7D22\u5F15\u3002\u5176\u7D22\u5F15\u8BBE\u8BA1\u601D\u60F3\u57FA\u672C\u9075\u5FAA\u8FD9\u6837\u7684\u601D\u8DEF\uFF1A local/extent/
leaf/b+tree

\u5728\u65E5\u5FD7\u7ED3\u6784\u5316\u65B9\u9762\uFF0C\u901A\u8FC7 log - log_record - log_op - log_item \u7684\u5C42\u6B21\uFF0C\u57FA\u4E8E\u4E24\u9636\u6BB5\u63D0\u4EA4\u6765\u5B9E\u73B0\u591A\u5C42\u6B21\u7684\u65E5\u5FD7\u3002

\u5728\u6027\u80FD\u4F18\u5316\u65B9\u9762\uFF0C\u5229\u7528\u65E5\u5FD7\u5316\u3001\u5E76\u884C IO\u3001\u5EF6\u8FDF\u5206\u914D\u7B49\uFF0C\u5B9E\u73B0\u4E86\u9AD8\u6027\u80FD\u3002\u5B9E\u73B0\u4E86 Reflink\uFF0C\u80FD\u591F\u9AD8\u901F\u62F7\u8D1D\u6587\u4EF6\u3002
`,title:"\u603B\u7ED3",level:2,content:`## \u603B\u7ED3

XFS \u901A\u8FC7 AG \u7EC4\u7EC7\u5206\u533A\uFF0C\u901A\u8FC7 SB \u548C AGF\u3001AGI\u3001AGFL \u67B6\u6784\u8D77 AG \u7684\u7ED3\u6784\u3002XFS \u8D2F\u7A7F\u59CB\u7EC8\u601D\u8DEF\u7684\u5C31\u662F\u7D22\u5F15\u3002\u629B\u5F03\u4E86\u4F4D\u56FE\u65B9\u6848\uFF0C\u5E76\u91CD\u5EA6\u4F7F\u7528 b+tree \u7D22\u5F15\u3002\u5C31\u5168\u5C40\u800C\u8A00\uFF1A

+ BNO \u7A7A\u95F2\u7A7A\u95F4\u5757\u53F7\u7D22\u5F15
+ CNT \u7A7A\u95F2\u7A7A\u95F4\u5757\u6570\u7D22\u5F15
+ INO \u7D22\u5F15\u8282\u70B9\u53F7\u7D22\u5F15
+ FINO \u7A7A\u95F2\u7D22\u5F15\u8282\u70B9\u53F7\u7D22\u5F15

\u5C31\u4E00\u4E2A inode \u800C\u8A00\uFF1A datafork/attrfork \u5185\u4F7F\u7528\u6DF7\u6742\u7D22\u5F15\u3002\u5176\u7D22\u5F15\u8BBE\u8BA1\u601D\u60F3\u57FA\u672C\u9075\u5FAA\u8FD9\u6837\u7684\u601D\u8DEF\uFF1A local/extent/
leaf/b+tree

\u5728\u65E5\u5FD7\u7ED3\u6784\u5316\u65B9\u9762\uFF0C\u901A\u8FC7 log - log_record - log_op - log_item \u7684\u5C42\u6B21\uFF0C\u57FA\u4E8E\u4E24\u9636\u6BB5\u63D0\u4EA4\u6765\u5B9E\u73B0\u591A\u5C42\u6B21\u7684\u65E5\u5FD7\u3002

\u5728\u6027\u80FD\u4F18\u5316\u65B9\u9762\uFF0C\u5229\u7528\u65E5\u5FD7\u5316\u3001\u5E76\u884C IO\u3001\u5EF6\u8FDF\u5206\u914D\u7B49\uFF0C\u5B9E\u73B0\u4E86\u9AD8\u6027\u80FD\u3002\u5B9E\u73B0\u4E86 Reflink\uFF0C\u80FD\u591F\u9AD8\u901F\u62F7\u8D1D\u6587\u4EF6\u3002`,frontmatter:{},index:28,start:563,end:580,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:SF,meta:{slide:{raw:`
## \u53C2\u8003\u6587\u732E

*XFS Algorithms & Data Structures 3rd Edition*

*XFS in Linux source* https://github.com/torvalds/linux/tree/master/fs/xfs

*Related articles* https://lwn.net/
 `,title:"\u53C2\u8003\u6587\u732E",level:2,content:`## \u53C2\u8003\u6587\u732E

*XFS Algorithms & Data Structures 3rd Edition*

*XFS in Linux source* https://github.com/torvalds/linux/tree/master/fs/xfs

*Related articles* https://lwn.net/`,frontmatter:{},index:29,start:581,end:590,notesHTML:"",filepath:"C:\\repo\\os-slides\\os-slides\\slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",component:e_,meta:{layout:"end"}}];const je=BF,$F=[{name:"play",path:"/",component:Gb,children:[...je]},{name:"print",path:"/print",component:Zb},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}},{name:"presenter",path:"/presenter/:no",component:()=>so(()=>import("./Presenter.727fa8c8.js"),["assets/Presenter.727fa8c8.js","assets/Presenter.01fbbf21.css","assets/DrawingControls.50a6a16f.js"]),beforeEnter:e=>{if(!bn.remote||bn.remote===e.query.password)return!0;if(bn.remote&&e.query.password===void 0){const t=prompt("Enter password");if(bn.remote===t)return!0}return e.params.no?{path:`/${e.params.no}`}:{path:""}}},{path:"/presenter",redirect:{path:"/presenter/1"}}],ht=Py({history:W2("/"),routes:$F});function OF(e,t,{mode:o="replace"}={}){return $({get(){const s=ht.currentRoute.value.query[e];return s==null?t!=null?t:null:Array.isArray(s)?s.filter(Boolean):s},set(s){Ge(()=>{ht[_(o)]({query:Ze(be({},ht.currentRoute.value.query),{[e]:s})})})}})}const dp=z(0);Ge(()=>{ht.afterEach(async()=>{await Ge(),dp.value+=1})});const Kt=$(()=>ht.currentRoute.value),ni=$(()=>Kt.value.query.print!==void 0),AF=$(()=>Kt.value.query.print==="clicks"),zt=$(()=>Kt.value.query.embedded!==void 0),Tt=$(()=>Kt.value.path.startsWith("/presenter")),$o=$(()=>ni.value&&!AF.value),hl=$(()=>Kt.value.query.password),IF=$(()=>!Tt.value&&(!Fe.remote||hl.value===Fe.remote)),Wa=OF("clicks","0"),fp=$(()=>je.length-1),PF=$(()=>Kt.value.path),He=$(()=>parseInt(PF.value.split(/\//g).slice(-1)[0])||1);$(()=>or(He.value));const ut=$(()=>je.find(e=>e.path===`${He.value}`));$(()=>{var e,t,o;return(o=(t=(e=ut.value)==null?void 0:e.meta)==null?void 0:t.slide)==null?void 0:o.id});$(()=>{var e,t;return(t=(e=ut.value)==null?void 0:e.meta)==null?void 0:t.layout});const Er=$(()=>je.find(e=>e.path===`${Math.min(je.length,He.value+1)}`)),MF=$(()=>{var e,t;return dp.value,((t=(e=ut.value)==null?void 0:e.meta)==null?void 0:t.__clicksElements)||[]}),Ot=$({get(){if($o.value)return 99999;let e=+(Wa.value||0);return isNaN(e)&&(e=0),e},set(e){Wa.value=e.toString()}}),Ls=$(()=>{var e,t,o;return+((o=(t=(e=ut.value)==null?void 0:e.meta)==null?void 0:t.clicks)!=null?o:MF.value.length)}),TF=$(()=>He.value<je.length-1||Ot.value<Ls.value),LF=$(()=>He.value>1||Ot.value>0),RF=$(()=>je.filter(e=>{var t,o;return(o=(t=e.meta)==null?void 0:t.slide)==null?void 0:o.title}).reduce((e,t)=>(oi(e,t),e),[])),DF=$(()=>si(RF.value,ut.value));$(()=>ri(DF.value));function rn(){Ls.value<=Ot.value?Uo():Ot.value+=1}async function ln(){Ot.value<=0?await Xo():Ot.value-=1}function or(e){return Tt.value?`/presenter/${e}`:`/${e}`}function Uo(){const e=Math.min(je.length,He.value+1);return eo(e)}async function Xo(e=!0){const t=Math.max(1,He.value-1);await eo(t),e&&Ls.value&&ht.replace({query:Ze(be({},Kt.value.query),{clicks:Ls.value})})}function eo(e,t){return ht.push({path:or(e),query:Ze(be({},Kt.value.query),{clicks:t})})}function NF(e){const t=z(0),{direction:o,distanceX:s,distanceY:r}=C2(e,{onSwipeStart(l){l.pointerType==="touch"&&(Ho.value||(t.value=nl()))},onSwipeEnd(l){if(l.pointerType!=="touch"||!t.value||Ho.value)return;const i=Math.abs(s.value),a=Math.abs(r.value);i/window.innerWidth>.3||i>100?o.value===Vt.LEFT?rn():ln():(a/window.innerHeight>.4||a>200)&&(o.value===Vt.DOWN?Xo():Uo())}})}async function ml(){const{saveAs:e}=await so(()=>import("./FileSaver.min.7a342311.js").then(function(t){return t.F}),[]);e(Bu(Fe.download)?Fe.download:Fe.exportFilename?`${Fe.exportFilename}.pdf`:"/slidev-exported.pdf",`${Fe.title}.pdf`)}async function zF(e){var t,o;if(e==null){const s=(o=(t=ut.value)==null?void 0:t.meta)==null?void 0:o.slide;if(!(s!=null&&s.filepath))return!1;e=`${s.filepath}:${s.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(e)}`),!0}function oi(e,t,o=1){var r,l,i,a,c;const s=(l=(r=t.meta)==null?void 0:r.slide)==null?void 0:l.level;s&&s>o&&e.length>0?oi(e[e.length-1].children,t,o+1):e.push({children:[],level:o,path:t.path,hideInToc:Boolean((i=t.meta)==null?void 0:i.hideInToc),title:(c=(a=t.meta)==null?void 0:a.slide)==null?void 0:c.title})}function si(e,t,o=!1,s){return e.map(r=>{const l=Ze(be({},r),{active:r.path===(t==null?void 0:t.path),hasActiveParent:o});return l.children.length>0&&(l.children=si(l.children,t,l.active||l.hasActiveParent,l)),s&&(l.active||l.activeParent)&&(s.activeParent=!0),l})}function ri(e,t=1){return e.filter(o=>!o.hideInToc).map(o=>Ze(be({},o),{children:ri(o.children,t+1)}))}function jF(){const e=Fe.titleTemplate.replace("%s",Fe.title||"Slidev");em({title:e}),am(`${e} - shared`),dm(`${e} - drawings`);function t(){Tt.value&&(ia("page",+He.value),ia("clicks",Ot.value))}ht.afterEach(t),ae(Ot,t),cm(o=>{(+o.page!=+He.value||Ot.value!==o.clicks)&&ht.replace({path:or(o.page),query:Ze(be({},ht.currentRoute.value.query),{clicks:o.clicks||0})})})}const HF=Oe({__name:"App",setup(e){return H(q),jF(),(t,o)=>{const s=Xr("RouterView"),r=Xr("StarportCarrier");return C(),j(ke,null,[W(s),W(r)],64)}}});function Sr(e){return e!==null&&typeof e=="object"}function yl(e,t,o=".",s){if(!Sr(t))return yl(e,{},o,s);const r=Object.assign({},t);for(const l in e){if(l==="__proto__"||l==="constructor")continue;const i=e[l];i!=null&&(s&&s(r,l,i,o)||(Array.isArray(i)&&Array.isArray(r[l])?r[l]=i.concat(r[l]):Sr(i)&&Sr(r[l])?r[l]=yl(i,r[l],(o?`${o}.`:"")+l.toString(),s):r[l]=i))}return r}function VF(e){return(...t)=>t.reduce((o,s)=>yl(o,s,"",e),{})}const UF=VF(),hp=1/60*1e3,XF=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),mp=typeof window!="undefined"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(XF()),hp);function GF(e){let t=[],o=[],s=0,r=!1,l=!1;const i=new WeakSet,a={schedule:(c,u=!1,p=!1)=>{const h=p&&r,d=h?t:o;return u&&i.add(c),d.indexOf(c)===-1&&(d.push(c),h&&r&&(s=t.length)),c},cancel:c=>{const u=o.indexOf(c);u!==-1&&o.splice(u,1),i.delete(c)},process:c=>{if(r){l=!0;return}if(r=!0,[t,o]=[o,t],o.length=0,s=t.length,s)for(let u=0;u<s;u++){const p=t[u];p(c),i.has(p)&&(a.schedule(p),e())}r=!1,l&&(l=!1,a.process(c))}};return a}const KF=40;let gl=!0,Go=!1,bl=!1;const qn={delta:0,timestamp:0},Zo=["read","update","preRender","render","postRender"],sr=Zo.reduce((e,t)=>(e[t]=GF(()=>Go=!0),e),{}),Ya=Zo.reduce((e,t)=>{const o=sr[t];return e[t]=(s,r=!1,l=!1)=>(Go||WF(),o.schedule(s,r,l)),e},{});Zo.reduce((e,t)=>(e[t]=sr[t].cancel,e),{});Zo.reduce((e,t)=>(e[t]=()=>sr[t].process(qn),e),{});const qF=e=>sr[e].process(qn),yp=e=>{Go=!1,qn.delta=gl?hp:Math.max(Math.min(e-qn.timestamp,KF),1),qn.timestamp=e,bl=!0,Zo.forEach(qF),bl=!1,Go&&(gl=!1,mp(yp))},WF=()=>{Go=!0,gl=!0,bl||mp(yp)},YF=()=>qn;function gp(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(o[s[r]]=e[s[r]]);return o}var ZF=function(){},Za=function(){};const _l=(e,t,o)=>Math.min(Math.max(o,e),t),Br=.001,JF=.01,Ja=10,QF=.05,ew=1;function tw({duration:e=800,bounce:t=.25,velocity:o=0,mass:s=1}){let r,l;ZF(e<=Ja*1e3);let i=1-t;i=_l(QF,ew,i),e=_l(JF,Ja,e/1e3),i<1?(r=u=>{const p=u*i,h=p*e,d=p-o,m=vl(u,i),g=Math.exp(-h);return Br-d/m*g},l=u=>{const h=u*i*e,d=h*o+o,m=Math.pow(i,2)*Math.pow(u,2)*e,g=Math.exp(-h),F=vl(Math.pow(u,2),i);return(-r(u)+Br>0?-1:1)*((d-m)*g)/F}):(r=u=>{const p=Math.exp(-u*e),h=(u-o)*e+1;return-Br+p*h},l=u=>{const p=Math.exp(-u*e),h=(o-u)*(e*e);return p*h});const a=5/e,c=ow(r,l,a);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:i*2*Math.sqrt(s*u),duration:e}}}const nw=12;function ow(e,t,o){let s=o;for(let r=1;r<nw;r++)s=s-e(s)/t(s);return s}function vl(e,t){return e*Math.sqrt(1-t*t)}const sw=["duration","bounce"],rw=["stiffness","damping","mass"];function Qa(e,t){return t.some(o=>e[o]!==void 0)}function lw(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Qa(e,rw)&&Qa(e,sw)){const o=tw(e);t=Object.assign(Object.assign(Object.assign({},t),o),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function li(e){var{from:t=0,to:o=1,restSpeed:s=2,restDelta:r}=e,l=gp(e,["from","to","restSpeed","restDelta"]);const i={done:!1,value:t};let{stiffness:a,damping:c,mass:u,velocity:p,duration:h,isResolvedFromDuration:d}=lw(l),m=ec,g=ec;function F(){const v=p?-(p/1e3):0,S=o-t,x=c/(2*Math.sqrt(a*u)),k=Math.sqrt(a/u)/1e3;if(r===void 0&&(r=Math.min(Math.abs(o-t)/100,.4)),x<1){const E=vl(k,x);m=R=>{const P=Math.exp(-x*k*R);return o-P*((v+x*k*S)/E*Math.sin(E*R)+S*Math.cos(E*R))},g=R=>{const P=Math.exp(-x*k*R);return x*k*P*(Math.sin(E*R)*(v+x*k*S)/E+S*Math.cos(E*R))-P*(Math.cos(E*R)*(v+x*k*S)-E*S*Math.sin(E*R))}}else if(x===1)m=E=>o-Math.exp(-k*E)*(S+(v+k*S)*E);else{const E=k*Math.sqrt(x*x-1);m=R=>{const P=Math.exp(-x*k*R),V=Math.min(E*R,300);return o-P*((v+x*k*S)*Math.sinh(V)+E*S*Math.cosh(V))/E}}}return F(),{next:v=>{const S=m(v);if(d)i.done=v>=h;else{const x=g(v)*1e3,k=Math.abs(x)<=s,E=Math.abs(o-S)<=r;i.done=k&&E}return i.value=i.done?o:S,i},flipTarget:()=>{p=-p,[t,o]=[o,t],F()}}}li.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const ec=e=>0,bp=(e,t,o)=>{const s=t-e;return s===0?1:(o-e)/s},ii=(e,t,o)=>-o*e+o*t+e,_p=(e,t)=>o=>Math.max(Math.min(o,t),e),Oo=e=>e%1?Number(e.toFixed(5)):e,Rs=/(-)?([\d]*\.?[\d])+/g,Fl=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,iw=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Jo(e){return typeof e=="string"}const rr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vp=Object.assign(Object.assign({},rr),{transform:_p(0,1)});Object.assign(Object.assign({},rr),{default:1});const aw=e=>({test:t=>Jo(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ao=aw("%");Object.assign(Object.assign({},Ao),{parse:e=>Ao.parse(e)/100,transform:e=>Ao.transform(e*100)});const ai=(e,t)=>o=>Boolean(Jo(o)&&iw.test(o)&&o.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(o,t)),Fp=(e,t,o)=>s=>{if(!Jo(s))return s;const[r,l,i,a]=s.match(Rs);return{[e]:parseFloat(r),[t]:parseFloat(l),[o]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},vn={test:ai("hsl","hue"),parse:Fp("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:o,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ao.transform(Oo(t))+", "+Ao.transform(Oo(o))+", "+Oo(vp.transform(s))+")"},cw=_p(0,255),$r=Object.assign(Object.assign({},rr),{transform:e=>Math.round(cw(e))}),en={test:ai("rgb","red"),parse:Fp("red","green","blue"),transform:({red:e,green:t,blue:o,alpha:s=1})=>"rgba("+$r.transform(e)+", "+$r.transform(t)+", "+$r.transform(o)+", "+Oo(vp.transform(s))+")"};function uw(e){let t="",o="",s="",r="";return e.length>5?(t=e.substr(1,2),o=e.substr(3,2),s=e.substr(5,2),r=e.substr(7,2)):(t=e.substr(1,1),o=e.substr(2,1),s=e.substr(3,1),r=e.substr(4,1),t+=t,o+=o,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(o,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const wl={test:ai("#"),parse:uw,transform:en.transform},lr={test:e=>en.test(e)||wl.test(e)||vn.test(e),parse:e=>en.test(e)?en.parse(e):vn.test(e)?vn.parse(e):wl.parse(e),transform:e=>Jo(e)?e:e.hasOwnProperty("red")?en.transform(e):vn.transform(e)},wp="${c}",xp="${n}";function pw(e){var t,o,s,r;return isNaN(e)&&Jo(e)&&((o=(t=e.match(Rs))===null||t===void 0?void 0:t.length)!==null&&o!==void 0?o:0)+((r=(s=e.match(Fl))===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0)>0}function kp(e){typeof e=="number"&&(e=`${e}`);const t=[];let o=0;const s=e.match(Fl);s&&(o=s.length,e=e.replace(Fl,wp),t.push(...s.map(lr.parse)));const r=e.match(Rs);return r&&(e=e.replace(Rs,xp),t.push(...r.map(rr.parse))),{values:t,numColors:o,tokenised:e}}function Cp(e){return kp(e).values}function Ep(e){const{values:t,numColors:o,tokenised:s}=kp(e),r=t.length;return l=>{let i=s;for(let a=0;a<r;a++)i=i.replace(a<o?wp:xp,a<o?lr.transform(l[a]):Oo(l[a]));return i}}const dw=e=>typeof e=="number"?0:e;function fw(e){const t=Cp(e);return Ep(e)(t.map(dw))}const Sp={test:pw,parse:Cp,createTransformer:Ep,getAnimatableNone:fw};function Or(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+(t-e)*6*o:o<1/2?t:o<2/3?e+(t-e)*(2/3-o)*6:e}function tc({hue:e,saturation:t,lightness:o,alpha:s}){e/=360,t/=100,o/=100;let r=0,l=0,i=0;if(!t)r=l=i=o;else{const a=o<.5?o*(1+t):o+t-o*t,c=2*o-a;r=Or(c,a,e+1/3),l=Or(c,a,e),i=Or(c,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(i*255),alpha:s}}const hw=(e,t,o)=>{const s=e*e,r=t*t;return Math.sqrt(Math.max(0,o*(r-s)+s))},mw=[wl,en,vn],nc=e=>mw.find(t=>t.test(e)),Bp=(e,t)=>{let o=nc(e),s=nc(t),r=o.parse(e),l=s.parse(t);o===vn&&(r=tc(r),o=en),s===vn&&(l=tc(l),s=en);const i=Object.assign({},r);return a=>{for(const c in i)c!=="alpha"&&(i[c]=hw(r[c],l[c],a));return i.alpha=ii(r.alpha,l.alpha,a),o.transform(i)}},yw=e=>typeof e=="number",gw=(e,t)=>o=>t(e(o)),$p=(...e)=>e.reduce(gw);function Op(e,t){return yw(e)?o=>ii(e,t,o):lr.test(e)?Bp(e,t):Ip(e,t)}const Ap=(e,t)=>{const o=[...e],s=o.length,r=e.map((l,i)=>Op(l,t[i]));return l=>{for(let i=0;i<s;i++)o[i]=r[i](l);return o}},bw=(e,t)=>{const o=Object.assign(Object.assign({},e),t),s={};for(const r in o)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Op(e[r],t[r]));return r=>{for(const l in s)o[l]=s[l](r);return o}};function oc(e){const t=Sp.parse(e),o=t.length;let s=0,r=0,l=0;for(let i=0;i<o;i++)s||typeof t[i]=="number"?s++:t[i].hue!==void 0?l++:r++;return{parsed:t,numNumbers:s,numRGB:r,numHSL:l}}const Ip=(e,t)=>{const o=Sp.createTransformer(t),s=oc(e),r=oc(t);return s.numHSL===r.numHSL&&s.numRGB===r.numRGB&&s.numNumbers>=r.numNumbers?$p(Ap(s.parsed,r.parsed),o):i=>`${i>0?t:e}`},_w=(e,t)=>o=>ii(e,t,o);function vw(e){if(typeof e=="number")return _w;if(typeof e=="string")return lr.test(e)?Bp:Ip;if(Array.isArray(e))return Ap;if(typeof e=="object")return bw}function Fw(e,t,o){const s=[],r=o||vw(e[0]),l=e.length-1;for(let i=0;i<l;i++){let a=r(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]:t;a=$p(c,a)}s.push(a)}return s}function ww([e,t],[o]){return s=>o(bp(e,t,s))}function xw(e,t){const o=e.length,s=o-1;return r=>{let l=0,i=!1;if(r<=e[0]?i=!0:r>=e[s]&&(l=s-1,i=!0),!i){let c=1;for(;c<o&&!(e[c]>r||c===s);c++);l=c-1}const a=bp(e[l],e[l+1],r);return t[l](a)}}function Pp(e,t,{clamp:o=!0,ease:s,mixer:r}={}){const l=e.length;Za(l===t.length),Za(!s||!Array.isArray(s)||s.length===l-1),e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const i=Fw(t,s,r),a=l===2?ww(e,i):xw(e,i);return o?c=>a(_l(e[0],e[l-1],c)):a}const ir=e=>t=>1-e(1-t),ci=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kw=e=>t=>Math.pow(t,e),Mp=e=>t=>t*t*((e+1)*t-e),Cw=e=>{const t=Mp(e);return o=>(o*=2)<1?.5*t(o):.5*(2-Math.pow(2,-10*(o-1)))},Tp=1.525,Ew=4/11,Sw=8/11,Bw=9/10,Lp=e=>e,ui=kw(2),$w=ir(ui),Rp=ci(ui),Dp=e=>1-Math.sin(Math.acos(e)),Np=ir(Dp),Ow=ci(Np),pi=Mp(Tp),Aw=ir(pi),Iw=ci(pi),Pw=Cw(Tp),Mw=4356/361,Tw=35442/1805,Lw=16061/1805,Ds=e=>{if(e===1||e===0)return e;const t=e*e;return e<Ew?7.5625*t:e<Sw?9.075*t-9.9*e+3.4:e<Bw?Mw*t-Tw*e+Lw:10.8*e*e-20.52*e+10.72},Rw=ir(Ds),Dw=e=>e<.5?.5*(1-Ds(1-e*2)):.5*Ds(e*2-1)+.5;function Nw(e,t){return e.map(()=>t||Rp).splice(0,e.length-1)}function zw(e){const t=e.length;return e.map((o,s)=>s!==0?s/(t-1):0)}function jw(e,t){return e.map(o=>o*t)}function ws({from:e=0,to:t=1,ease:o,offset:s,duration:r=300}){const l={done:!1,value:e},i=Array.isArray(t)?t:[e,t],a=jw(s&&s.length===i.length?s:zw(i),r);function c(){return Pp(a,i,{ease:Array.isArray(o)?o:Nw(i,o)})}let u=c();return{next:p=>(l.value=u(p),l.done=p>=r,l),flipTarget:()=>{i.reverse(),u=c()}}}function Hw({velocity:e=0,from:t=0,power:o=.8,timeConstant:s=350,restDelta:r=.5,modifyTarget:l}){const i={done:!1,value:t};let a=o*e;const c=t+a,u=l===void 0?c:l(c);return u!==c&&(a=u-t),{next:p=>{const h=-a*Math.exp(-p/s);return i.done=!(h>r||h<-r),i.value=i.done?u:u+h,i},flipTarget:()=>{}}}const sc={keyframes:ws,spring:li,decay:Hw};function Vw(e){if(Array.isArray(e.to))return ws;if(sc[e.type])return sc[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?ws:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?li:ws}const zp=1/60*1e3,Uw=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),jp=typeof window!="undefined"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Uw()),zp);function Xw(e){let t=[],o=[],s=0,r=!1,l=!1;const i=new WeakSet,a={schedule:(c,u=!1,p=!1)=>{const h=p&&r,d=h?t:o;return u&&i.add(c),d.indexOf(c)===-1&&(d.push(c),h&&r&&(s=t.length)),c},cancel:c=>{const u=o.indexOf(c);u!==-1&&o.splice(u,1),i.delete(c)},process:c=>{if(r){l=!0;return}if(r=!0,[t,o]=[o,t],o.length=0,s=t.length,s)for(let u=0;u<s;u++){const p=t[u];p(c),i.has(p)&&(a.schedule(p),e())}r=!1,l&&(l=!1,a.process(c))}};return a}const Gw=40;let xl=!0,Ko=!1,kl=!1;const Wn={delta:0,timestamp:0},Qo=["read","update","preRender","render","postRender"],ar=Qo.reduce((e,t)=>(e[t]=Xw(()=>Ko=!0),e),{}),Kw=Qo.reduce((e,t)=>{const o=ar[t];return e[t]=(s,r=!1,l=!1)=>(Ko||Yw(),o.schedule(s,r,l)),e},{}),qw=Qo.reduce((e,t)=>(e[t]=ar[t].cancel,e),{});Qo.reduce((e,t)=>(e[t]=()=>ar[t].process(Wn),e),{});const Ww=e=>ar[e].process(Wn),Hp=e=>{Ko=!1,Wn.delta=xl?zp:Math.max(Math.min(e-Wn.timestamp,Gw),1),Wn.timestamp=e,kl=!0,Qo.forEach(Ww),kl=!1,Ko&&(xl=!1,jp(Hp))},Yw=()=>{Ko=!0,xl=!0,kl||jp(Hp)},Zw=()=>Wn;function Vp(e,t,o=0){return e-t-o}function Jw(e,t,o=0,s=!0){return s?Vp(t+-e,t,o):t-(e-t)+o}function Qw(e,t,o,s){return s?e>=t+o:e<=-o}const e3=e=>{const t=({delta:o})=>e(o);return{start:()=>Kw.update(t,!0),stop:()=>qw.update(t)}};function Up(e){var t,o,{from:s,autoplay:r=!0,driver:l=e3,elapsed:i=0,repeat:a=0,repeatType:c="loop",repeatDelay:u=0,onPlay:p,onStop:h,onComplete:d,onRepeat:m,onUpdate:g}=e,F=gp(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:v}=F,S,x=0,k=F.duration,E,R=!1,P=!0,V;const oe=Vw(F);!((o=(t=oe).needsInterpolation)===null||o===void 0)&&o.call(t,s,v)&&(V=Pp([0,100],[s,v],{clamp:!1}),s=0,v=100);const ce=oe(Object.assign(Object.assign({},F),{from:s,to:v}));function de(){x++,c==="reverse"?(P=x%2===0,i=Jw(i,k,u,P)):(i=Vp(i,k,u),c==="mirror"&&ce.flipTarget()),R=!1,m&&m()}function me(){S.stop(),d&&d()}function Te(Ke){if(P||(Ke=-Ke),i+=Ke,!R){const Ce=ce.next(Math.max(0,i));E=Ce.value,V&&(E=V(E)),R=P?Ce.done:i<=0}g==null||g(E),R&&(x===0&&(k!=null||(k=i)),x<a?Qw(i,k,u,P)&&de():me())}function Ne(){p==null||p(),S=l(Te),S.start()}return r&&Ne(),{stop:()=>{h==null||h(),S.stop()}}}function Xp(e,t){return t?e*(1e3/t):0}function t3({from:e=0,velocity:t=0,min:o,max:s,power:r=.8,timeConstant:l=750,bounceStiffness:i=500,bounceDamping:a=10,restDelta:c=1,modifyTarget:u,driver:p,onUpdate:h,onComplete:d,onStop:m}){let g;function F(k){return o!==void 0&&k<o||s!==void 0&&k>s}function v(k){return o===void 0?s:s===void 0||Math.abs(o-k)<Math.abs(s-k)?o:s}function S(k){g==null||g.stop(),g=Up(Object.assign(Object.assign({},k),{driver:p,onUpdate:E=>{var R;h==null||h(E),(R=k.onUpdate)===null||R===void 0||R.call(k,E)},onComplete:d,onStop:m}))}function x(k){S(Object.assign({type:"spring",stiffness:i,damping:a,restDelta:c},k))}if(F(e))x({from:e,velocity:t,to:v(e)});else{let k=r*t+e;typeof u!="undefined"&&(k=u(k));const E=v(k),R=E===o?-1:1;let P,V;const oe=ce=>{P=V,V=ce,t=Xp(ce-P,Zw().delta),(R===1&&ce>E||R===-1&&ce<E)&&x({from:ce,to:E,velocity:t})};S({type:"decay",from:e,velocity:t,timeConstant:l,power:r,restDelta:c,modifyTarget:u,onUpdate:F(k)?oe:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const Gp=(e,t)=>1-3*t+3*e,Kp=(e,t)=>3*t-6*e,qp=e=>3*e,Ns=(e,t,o)=>((Gp(t,o)*e+Kp(t,o))*e+qp(t))*e,Wp=(e,t,o)=>3*Gp(t,o)*e*e+2*Kp(t,o)*e+qp(t),n3=1e-7,o3=10;function s3(e,t,o,s,r){let l,i,a=0;do i=t+(o-t)/2,l=Ns(i,s,r)-e,l>0?o=i:t=i;while(Math.abs(l)>n3&&++a<o3);return i}const r3=8,l3=.001;function i3(e,t,o,s){for(let r=0;r<r3;++r){const l=Wp(t,o,s);if(l===0)return t;t-=(Ns(t,o,s)-e)/l}return t}const xs=11,ps=1/(xs-1);function a3(e,t,o,s){if(e===t&&o===s)return Lp;const r=new Float32Array(xs);for(let i=0;i<xs;++i)r[i]=Ns(i*ps,e,o);function l(i){let a=0,c=1;const u=xs-1;for(;c!==u&&r[c]<=i;++c)a+=ps;--c;const p=(i-r[c])/(r[c+1]-r[c]),h=a+p*ps,d=Wp(h,e,o);return d>=l3?i3(i,h,e,o):d===0?h:s3(i,a,a+ps,e,o)}return i=>i===0||i===1?i:Ns(l(i),t,s)}const Yp=(e,t)=>o=>Math.max(Math.min(o,t),e),Io=e=>e%1?Number(e.toFixed(5)):e,qo=/(-)?([\d]*\.?[\d])+/g,Cl=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,c3=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function es(e){return typeof e=="string"}const ts={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Po=Object.assign(Object.assign({},ts),{transform:Yp(0,1)}),ds=Object.assign(Object.assign({},ts),{default:1}),di=e=>({test:t=>es(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fn=di("deg"),Mo=di("%"),se=di("px"),rc=Object.assign(Object.assign({},Mo),{parse:e=>Mo.parse(e)/100,transform:e=>Mo.transform(e*100)}),fi=(e,t)=>o=>Boolean(es(o)&&c3.test(o)&&o.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(o,t)),Zp=(e,t,o)=>s=>{if(!es(s))return s;const[r,l,i,a]=s.match(qo);return{[e]:parseFloat(r),[t]:parseFloat(l),[o]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},fs={test:fi("hsl","hue"),parse:Zp("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:o,alpha:s=1})=>"hsla("+Math.round(e)+", "+Mo.transform(Io(t))+", "+Mo.transform(Io(o))+", "+Io(Po.transform(s))+")"},u3=Yp(0,255),Ar=Object.assign(Object.assign({},ts),{transform:e=>Math.round(u3(e))}),Fo={test:fi("rgb","red"),parse:Zp("red","green","blue"),transform:({red:e,green:t,blue:o,alpha:s=1})=>"rgba("+Ar.transform(e)+", "+Ar.transform(t)+", "+Ar.transform(o)+", "+Io(Po.transform(s))+")"};function p3(e){let t="",o="",s="",r="";return e.length>5?(t=e.substr(1,2),o=e.substr(3,2),s=e.substr(5,2),r=e.substr(7,2)):(t=e.substr(1,1),o=e.substr(2,1),s=e.substr(3,1),r=e.substr(4,1),t+=t,o+=o,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(o,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const lc={test:fi("#"),parse:p3,transform:Fo.transform},bt={test:e=>Fo.test(e)||lc.test(e)||fs.test(e),parse:e=>Fo.test(e)?Fo.parse(e):fs.test(e)?fs.parse(e):lc.parse(e),transform:e=>es(e)?e:e.hasOwnProperty("red")?Fo.transform(e):fs.transform(e)},Jp="${c}",Qp="${n}";function d3(e){var t,o,s,r;return isNaN(e)&&es(e)&&((o=(t=e.match(qo))===null||t===void 0?void 0:t.length)!==null&&o!==void 0?o:0)+((r=(s=e.match(Cl))===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0)>0}function ed(e){typeof e=="number"&&(e=`${e}`);const t=[];let o=0;const s=e.match(Cl);s&&(o=s.length,e=e.replace(Cl,Jp),t.push(...s.map(bt.parse)));const r=e.match(qo);return r&&(e=e.replace(qo,Qp),t.push(...r.map(ts.parse))),{values:t,numColors:o,tokenised:e}}function td(e){return ed(e).values}function nd(e){const{values:t,numColors:o,tokenised:s}=ed(e),r=t.length;return l=>{let i=s;for(let a=0;a<r;a++)i=i.replace(a<o?Jp:Qp,a<o?bt.transform(l[a]):Io(l[a]));return i}}const f3=e=>typeof e=="number"?0:e;function h3(e){const t=td(e);return nd(e)(t.map(f3))}const hi={test:d3,parse:td,createTransformer:nd,getAnimatableNone:h3},m3=new Set(["brightness","contrast","saturate","opacity"]);function y3(e){let[t,o]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=o.match(qo)||[];if(!s)return e;const r=o.replace(s,"");let l=m3.has(t)?1:0;return s!==o&&(l*=100),t+"("+l+r+")"}const g3=/([a-z-]*)\(.*?\)/g,El=Object.assign(Object.assign({},hi),{getAnimatableNone:e=>{const t=e.match(g3);return t?t.map(y3).join(" "):e}}),Ir={};class b3{constructor(){this.subscriptions=new Set}add(t){return this.subscriptions.add(t),()=>this.subscriptions.delete(t)}notify(t,o,s){if(!!this.subscriptions.size)for(const r of this.subscriptions)r(t,o,s)}clear(){this.subscriptions.clear()}}const ic=e=>!isNaN(parseFloat(e));class _3{constructor(t){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new b3,this.canTrackVelocity=!1,this.updateAndNotify=o=>{this.prev=this.current,this.current=o;const{delta:s,timestamp:r}=YF();this.lastUpdated!==r&&(this.timeDelta=s,this.lastUpdated=r),Ya.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Ya.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{this.canTrackVelocity||(this.canTrackVelocity=ic(this.current)),o!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=t,this.canTrackVelocity=ic(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}set(t){this.updateAndNotify(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Xp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(o=>{const{stop:s}=t(o);this.stopAnimation=s}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function v3(e){return new _3(e)}const{isArray:F3}=Array;function w3(){const e=z({}),t=s=>{const r=l=>{!e.value[l]||(e.value[l].stop(),e.value[l].destroy(),ym(e.value,l))};s?F3(s)?s.forEach(r):r(s):Object.keys(e.value).forEach(r)},o=(s,r,l)=>{if(e.value[s])return e.value[s];const i=v3(r);return i.onChange(a=>{ot(l,s,a)}),ot(e.value,s,i),i};return Wl(t),{motionValues:e,get:o,stop:t}}const x3=e=>Array.isArray(e),hn=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),Pr=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),k3=e=>({type:"spring",stiffness:550,damping:e===0?100:30,restDelta:.01,restSpeed:10}),Mr=()=>({type:"keyframes",ease:"linear",duration:300}),C3=e=>({type:"keyframes",duration:800,values:e}),ac={default:k3,x:hn,y:hn,z:hn,rotate:hn,rotateX:hn,rotateY:hn,rotateZ:hn,scaleX:Pr,scaleY:Pr,scale:Pr,backgroundColor:Mr,color:Mr,opacity:Mr},od=(e,t)=>{let o;return x3(t)?o=C3:o=ac[e]||ac.default,be({to:t},o(t))},cc=Ze(be({},ts),{transform:Math.round}),sd={color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scale:ds,scaleX:ds,scaleY:ds,scaleZ:ds,skew:fn,skewX:fn,skewY:fn,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Po,originX:rc,originY:rc,originZ:se,zIndex:cc,filter:El,WebkitFilter:El,fillOpacity:Po,strokeOpacity:Po,numOctaves:cc},mi=e=>sd[e],rd=(e,t)=>t&&typeof e=="number"&&t.transform?t.transform(e):e;function E3(e,t){let o=mi(e);return o!==El&&(o=hi),o.getAnimatableNone?o.getAnimatableNone(t):void 0}const S3={linear:Lp,easeIn:ui,easeInOut:Rp,easeOut:$w,circIn:Dp,circInOut:Ow,circOut:Np,backIn:pi,backInOut:Iw,backOut:Aw,anticipate:Pw,bounceIn:Rw,bounceInOut:Dw,bounceOut:Ds},uc=e=>{if(Array.isArray(e)){const[t,o,s,r]=e;return a3(t,o,s,r)}else if(typeof e=="string")return S3[e];return e},B3=e=>Array.isArray(e)&&typeof e[0]!="number",pc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&hi.test(t)&&!t.startsWith("url("));function $3(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function O3(r){var l=r,{ease:e,times:t,delay:o}=l,s=cr(l,["ease","times","delay"]);const i=be({},s);return t&&(i.offset=t),e&&(i.ease=B3(e)?e.map(uc):uc(e)),o&&(i.elapsed=-o),i}function A3(e,t,o){return Array.isArray(t.to)&&(e.duration||(e.duration=800)),$3(t),I3(e)||(e=be(be({},e),od(o,t.to))),be(be({},t),O3(e))}function I3(i){var a=i,{delay:e,repeat:t,repeatType:o,repeatDelay:s,from:r}=a,l=cr(a,["delay","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(l).length}function P3(e,t){return e[t]||e.default||e}function M3(e,t,o,s,r){const l=P3(s,e);let i=l.from===null||l.from===void 0?t.get():l.from;const a=pc(e,o);i==="none"&&a&&typeof o=="string"&&(i=E3(e,o));const c=pc(e,i);function u(h){const d={from:i,to:o,velocity:s.velocity?s.velocity:t.getVelocity(),onUpdate:m=>t.set(m)};return l.type==="inertia"||l.type==="decay"?t3(be(be({},d),l)):Up(Ze(be({},A3(l,d,e)),{onUpdate:m=>{d.onUpdate(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{s.onComplete&&s.onComplete(),r&&r(),h&&h()}}))}function p(h){return t.set(o),s.onComplete&&s.onComplete(),r&&r(),h&&h(),{stop:()=>{}}}return!c||!a||l.type===!1?p:u}function T3(){const{motionValues:e,stop:t,get:o}=w3();return{motionValues:e,stop:t,push:(r,l,i,a={},c)=>{const u=i[r],p=o(r,u,i);if(a&&a.immediate){p.set(l);return}const h=M3(r,p,l,a,c);p.start(h)}}}function L3(e,t={},{motionValues:o,push:s,stop:r}=T3()){const l=_(t),i=z(!1),a=ae(o,d=>{i.value=Object.values(d).filter(m=>m.isAnimating()).length>0},{immediate:!0,deep:!0}),c=d=>{if(!l||!l[d])throw new Error(`The variant ${d} does not exist.`);return l[d]},u=d=>(typeof d=="string"&&(d=c(d)),Promise.all(Object.entries(d).map(([m,g])=>{if(m!=="transition")return new Promise(F=>{s(m,g,e,d.transition||od(m,d[m]),F)})}).filter(Boolean)));return{isAnimating:i,apply:u,set:d=>{const m=As(d)?d:c(d);Object.entries(m).forEach(([g,F])=>{g!=="transition"&&s(g,F,e,{immediate:!0})})},stopTransitions:()=>{a(),r()},leave:async d=>{let m;if(l&&(l.leave&&(m=l.leave),!l.leave&&l.initial&&(m=l.initial)),!m){d();return}await u(m),d()}}}const yi=typeof window!="undefined",R3=()=>yi&&window.onpointerdown===null,D3=()=>yi&&window.ontouchstart===null,N3=()=>yi&&window.onmousedown===null;function z3({target:e,state:t,variants:o,apply:s}){const r=_(o),l=[],i=(...g)=>{const F=Me.apply(null,g);return l.push(F),F},a=z(!1),c=z(!1),u=z(!1),p=$(()=>{let g=[];return r&&(r.hovered&&(g=[...g,...Object.keys(r.hovered)]),r.tapped&&(g=[...g,...Object.keys(r.tapped)]),r.focused&&(g=[...g,...Object.keys(r.focused)])),g}),h=$(()=>{const g={};Object.assign(g,t.value),a.value&&r.hovered&&Object.assign(g,r.hovered),c.value&&r.tapped&&Object.assign(g,r.tapped),u.value&&r.focused&&Object.assign(g,r.focused);for(const F in g)p.value.includes(F)||delete g[F];return g});r.hovered&&(i(e,"mouseenter",()=>{a.value=!0}),i(e,"mouseleave",()=>{a.value=!1,c.value=!1}),i(e,"mouseout",()=>{a.value=!1,c.value=!1})),r.tapped&&(N3()&&(i(e,"mousedown",()=>{c.value=!0}),i(e,"mouseup",()=>{c.value=!1})),R3()&&(i(e,"pointerdown",()=>{c.value=!0}),i(e,"pointerup",()=>{c.value=!1})),D3()&&(i(e,"touchstart",()=>{c.value=!0}),i(e,"touchend",()=>{c.value=!1}))),r.focused&&(i(e,"focus",()=>{u.value=!0}),i(e,"blur",()=>{u.value=!1}));const d=ae(h,s);return{stop:()=>{l.forEach(g=>g()),d()}}}function j3({set:e,target:t,variants:o,variant:s}){const r=_(o);return{stop:ae(()=>t,()=>{!r||(r.initial&&e("initial"),r.enter&&(s.value="enter"))},{immediate:!0,flush:"pre"})}}function H3({state:e,apply:t}){return{stop:ae(e,s=>{s&&t(s)},{immediate:!0})}}function V3({target:e,variants:t,variant:o}){const s=_(t);let r=sn;if(s&&(s.visible||s.visibleOnce)){const{stop:l}=w2(e,([{isIntersecting:i}])=>{s.visible?i?o.value="visible":o.value="initial":s.visibleOnce&&(i?o.value!=="visibleOnce"&&(o.value="visibleOnce"):o.value||(o.value="initial"))});r=l}return{stop:r}}function U3(e,t={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){const o=z([]);if(t.lifeCycleHooks){const{stop:r}=j3(e);o.value.push(r)}if(t.syncVariants){const{stop:r}=H3(e);o.value.push(r)}if(t.visibilityHooks){const{stop:r}=V3(e);o.value.push(r)}if(t.eventListeners){const{stop:r}=z3(e);o.value.push(r)}const s=()=>o.value.forEach(r=>r());return Wl(s),{stop:s}}function ld(e={}){const t=Le(be({},e)),o=z({});return ae(t,()=>{const s={};for(const[r,l]of Object.entries(t)){const i=mi(r),a=rd(l,i);s[r]=a}o.value=s},{immediate:!0,deep:!0}),{state:t,style:o}}const X3=["","X","Y","Z"],G3=["perspective","translate","scale","rotate","skew"],id=["transformPerspective","x","y","z"];G3.forEach(e=>{X3.forEach(t=>{const o=e+t;id.push(o)})});const K3=new Set(id);function gi(e){return K3.has(e)}const q3=new Set(["originX","originY","originZ"]);function ad(e){return q3.has(e)}function W3(e){const t={},o={};return Object.entries(e).forEach(([s,r])=>{gi(s)||ad(s)?t[s]=r:o[s]=r}),{transform:t,style:o}}function Y3(e,t){let o,s;const{state:r,style:l}=ld(),i=ae(()=>st(e),u=>{if(!!u){s=u;for(const p of Object.keys(sd))u.style[p]===null||u.style[p]===""||gi(p)||ad(p)||ot(r,p,u.style[p]);o&&Object.entries(o).forEach(([p,h])=>ot(u.style,p,h)),t&&t(r)}},{immediate:!0}),a=ae(l,u=>{if(!s){o=u;return}for(const p in u)ot(s.style,p,u[p])},{immediate:!0});return{style:r,stop:()=>{s=void 0,o=void 0,i(),a()}}}const Z3={x:"translateX",y:"translateY",z:"translateZ"};function cd(e={},t=!0){const o=Le(be({},e)),s=z("");return ae(o,r=>{let l="",i=!1;t&&(r.x||r.y||r.z)&&(l+=`translate3d(${[r.x||0,r.y||0,r.z||0].map(se.transform).join(",")}) `,i=!0);for(const[a,c]of Object.entries(r)){if(t&&(a==="x"||a==="y"||a==="z"))continue;const u=mi(a),p=rd(c,u);l+=`${Z3[a]||a}(${p}) `}t&&!i&&(l+="translateZ(0px) "),s.value=l.trim()},{immediate:!0,deep:!0}),{state:o,transform:s}}function J3(e){const t=e.trim().split(/\) |\)/);if(t.length===1)return{};const o=s=>s.endsWith("px")||s.endsWith("deg")?parseFloat(s):isNaN(Number(s))?Number(s):s;return t.reduce((s,r)=>{if(!r)return s;const[l,i]=r.split("("),c=i.split(",").map(p=>o(p.endsWith(")")?p.replace(")",""):p.trim())),u=c.length===1?c[0]:c;return Ze(be({},s),{[l]:u})},{})}function Q3(e,t){Object.entries(J3(t)).forEach(([o,s])=>{s=parseFloat(s);const r=["x","y","z"];if(o==="translate3d"){if(s===0){r.forEach(l=>{ot(e,l,0)});return}s.forEach((l,i)=>{ot(e,r[i],l)});return}if(o==="translateX"){ot(e,"x",s);return}if(o==="translateY"){ot(e,"y",s);return}if(o==="translateZ"){ot(e,"z",s);return}ot(e,o,s)})}function ex(e,t){let o,s;const{state:r,transform:l}=cd(),i=ae(()=>st(e),u=>{!u||(s=u,u.style.transform&&Q3(r,u.style.transform),o&&(u.style.transform=o),t&&t(r))},{immediate:!0}),a=ae(l,u=>{if(!s){o=u;return}s.style.transform=u},{immediate:!0});return{transform:r,stop:()=>{o=void 0,s=void 0,i(),a()}}}function tx(e,t){const o=Le({}),s=h=>{Object.entries(h).forEach(([d,m])=>{ot(o,d,m)})},{style:r,stop:l}=Y3(e,s),{transform:i,stop:a}=ex(e,s),c=ae(o,h=>{Object.entries(h).forEach(([d,m])=>{const g=gi(d)?i:r;g[d]&&g[d]===m||ot(g,d,m)})},{immediate:!0,deep:!0}),u=ae(()=>st(e),h=>{!h||t&&s(t)},{immediate:!0});return{motionProperties:o,style:r,transform:i,stop:()=>{l(),a(),c(),u()}}}function nx(e={}){const t=_(e),o=z();return{state:$(()=>{if(!!o.value)return t[o.value]}),variant:o}}function ox(e,t={},o){const{motionProperties:s,stop:r}=tx(e),{variant:l,state:i}=nx(t),a=L3(s,t),c=Ze(be({target:e,variant:l,variants:t,state:i,motionProperties:s},a),{stop:(p=!1)=>{}}),{stop:u}=U3(c,o);return c.stop=(p=!1)=>{const h=()=>{c.stopTransitions(),r(),u()};if(!p&&t.value&&t.value.leave){const d=ae(c.isAnimating,m=>{m||(d(),h())})}else h()},Wl(()=>c.stop()),Nm(()=>st(e),p=>{!p||p!=null&&p.motionInstance&&(c.stop(),Object.assign(c,p.motionInstance))}),c}const sx=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"],rx=(e,t)=>{const o=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};o&&(o.variants&&As(o.variants)&&(t.value=be(be({},t.value),o.variants)),sx.forEach(s=>{if(s==="delay"){if(o&&o[s]&&vm(o[s])){const r=o[s];t&&t.value&&(t.value.enter&&(t.value.enter.transition||(t.value.enter.transition={}),t.value.enter.transition=Ze(be({},t.value.enter.transition),{delay:r})),t.value.visible&&(t.value.visible.transition||(t.value.visible.transition={}),t.value.visible.transition=Ze(be({},t.value.visible.transition),{delay:r})),t.value.visibleOnce&&(t.value.visibleOnce.transition||(t.value.visibleOnce.transition={}),t.value.visibleOnce.transition=Ze(be({},t.value.visibleOnce.transition),{delay:r})))}return}s==="visible-once"&&(s="visibleOnce"),o&&o[s]&&As(o[s])&&(t.value[s]=o[s])}))},Tr=e=>{const t=(s,r,l)=>{const i=r.value&&typeof r.value=="string"?r.value:l.key;i&&Ir[i]&&Ir[i].stop();const a=z(e||{});typeof r.value=="object"&&(a.value=r.value),rx(l,a);const c=ox(s,a);s.motionInstance=c,i&&ot(Ir,i,c)},o=s=>{s.motionInstance&&s.motionInstance.stop()};return{created:t,unmounted:o,bind:t,unbind:o,getSSRProps(s,r){const{initial:l}=s.value||r&&r.props||{},i=UF((e==null?void 0:e.initial)||{},l||{});if(!i||Object.keys(i).length===0)return;const{transform:a,style:c}=W3(i),{transform:u}=cd(a),{style:p}=ld(c);return u.value&&(p.value.transform=u.value),{style:p.value}}}},lx={initial:{opacity:0},enter:{opacity:1}},ix={initial:{opacity:0},visible:{opacity:1}},ax={initial:{opacity:0},visibleOnce:{opacity:1}},cx={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},ux={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},px={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},dx={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},fx={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},hx={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},mx={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},yx={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},gx={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},bx={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},_x={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},vx={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},Fx={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},wx={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},xx={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},kx={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},Cx={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},Ex={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},Sx={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},Bx={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},$x={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},Ox={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},Ax={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},Ix={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},Px={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},Mx={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},Tx={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},dc={__proto__:null,fade:lx,fadeVisible:ix,fadeVisibleOnce:ax,pop:cx,popVisible:ux,popVisibleOnce:px,rollBottom:Fx,rollLeft:dx,rollRight:mx,rollTop:bx,rollVisibleBottom:wx,rollVisibleLeft:fx,rollVisibleRight:yx,rollVisibleTop:_x,rollVisibleOnceBottom:xx,rollVisibleOnceLeft:hx,rollVisibleOnceRight:gx,rollVisibleOnceTop:vx,slideBottom:Px,slideLeft:kx,slideRight:Sx,slideTop:Ox,slideVisibleBottom:Mx,slideVisibleLeft:Cx,slideVisibleRight:Bx,slideVisibleTop:Ax,slideVisibleOnceBottom:Tx,slideVisibleOnceLeft:Ex,slideVisibleOnceRight:$x,slideVisibleOnceTop:Ix};function Lx(e){const t="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",o="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",s=new RegExp(t.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,r=>`-${r}`).toLowerCase().replace(/\s+/g,"-").replace(s,r=>o.charAt(t.indexOf(r))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const Rx={install(e,t){if(e.directive("motion",Tr()),!t||t&&!t.excludePresets)for(const o in dc){const s=dc[o];e.directive(`motion-${Lx(o)}`,Tr(s))}if(t&&t.directives)for(const o in t.directives){const s=t.directives[o];s.initial,e.directive(`motion-${o}`,Tr(s))}}},bi="vue-starport-injection",ud="vue-starport-options",Dx={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},pd={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var Nx=Object.defineProperty,zs=Object.getOwnPropertySymbols,dd=Object.prototype.hasOwnProperty,fd=Object.prototype.propertyIsEnumerable,fc=(e,t,o)=>t in e?Nx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,zx=(e,t)=>{for(var o in t||(t={}))dd.call(t,o)&&fc(e,o,t[o]);if(zs)for(var o of zs(t))fd.call(t,o)&&fc(e,o,t[o]);return e},hc=(e,t)=>{var o={};for(var s in e)dd.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&zs)for(var s of zs(e))t.indexOf(s)<0&&fd.call(e,s)&&(o[s]=e[s]);return o};const jx=Oe({name:"StarportProxy",props:zx({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},pd),setup(e,t){const o=H(bi),s=$(()=>o.getInstance(e.port,e.component)),r=z(),l=s.value.generateId(),i=z(!1);return s.value.isVisible||(s.value.land(),i.value=!0),Wo(async()=>{s.value.el||(s.value.el=r.value,await Ge(),i.value=!0,s.value.rect.update())}),Qs(async()=>{s.value.rect.update(),s.value.liftOff(),s.value.el=void 0,i.value=!1,!s.value.options.keepAlive&&(await Ge(),await Ge(),!s.value.el&&o.dispose(s.value.port))}),ae(()=>e,async()=>{s.value.props&&await Ge();const a=e,{props:c}=a,u=hc(a,["props"]);s.value.props=c||{},s.value.setLocalOptions(u)},{deep:!0,immediate:!0}),()=>{const a=e,{initialProps:c,mountedProps:u}=a,p=hc(a,["initialProps","mountedProps"]),h=$s(p,(i.value?u:c)||{});return $t("div",$s(h,{id:l,ref:r,"data-starport-proxy":s.value.componentId,"data-starport-landed":s.value.isLanded?"true":void 0,"data-starport-floating":s.value.isLanded?void 0:"true"}),t.slots.default?$t(t.slots.default):void 0)}}});var Hx=Object.defineProperty,Vx=Object.defineProperties,Ux=Object.getOwnPropertyDescriptors,mc=Object.getOwnPropertySymbols,Xx=Object.prototype.hasOwnProperty,Gx=Object.prototype.propertyIsEnumerable,yc=(e,t,o)=>t in e?Hx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Kx=(e,t)=>{for(var o in t||(t={}))Xx.call(t,o)&&yc(e,o,t[o]);if(mc)for(var o of mc(t))Gx.call(t,o)&&yc(e,o,t[o]);return e},qx=(e,t)=>Vx(e,Ux(t));const Wx=Oe({name:"Starport",inheritAttrs:!0,props:pd,setup(e,t){const o=z(!1);return Wo(()=>{o.value=!0}),()=>{var i,a;const s=(a=(i=t.slots).default)==null?void 0:a.call(i);if(!s)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(s.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${s.length}`);const r=s[0];let l=r.type;return(!As(l)||Yn(l))&&(l={render(){return s}}),$t(jx,qx(Kx({},e),{key:e.port,component:Gs(l),props:r.props}))}}});function Yx(e){const t=Le({height:0,width:0,left:0,top:0,update:s,listen:l,pause:i}),o=vt?document.documentElement||document.body:void 0;function s(){if(!vt)return;const a=st(e);if(!a)return;const{height:c,width:u,left:p,top:h}=a.getBoundingClientRect();Object.assign(t,{height:c,width:u,left:p,top:o.scrollTop+h})}const r=Pu(s,{immediate:!1});function l(){!vt||(s(),r.resume())}function i(){r.pause()}return t}let Zx="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Jx=(e,t=21)=>(o=t)=>{let s="",r=o;for(;r--;)s+=e[Math.random()*e.length|0];return s},Qx=(e=21)=>{let t="",o=e;for(;o--;)t+=Zx[Math.random()*64|0];return t};var ek={nanoid:Qx,customAlphabet:Jx};const gc=ek.customAlphabet("abcdefghijklmnopqrstuvwxyz",5);function bc(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function tk(e){var t;return e.name||((t=e.__file)==null?void 0:t.split(/[\/\\.]/).slice(-2)[0])||""}var nk=Object.defineProperty,_c=Object.getOwnPropertySymbols,ok=Object.prototype.hasOwnProperty,sk=Object.prototype.propertyIsEnumerable,vc=(e,t,o)=>t in e?nk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Lr=(e,t)=>{for(var o in t||(t={}))ok.call(t,o)&&vc(e,o,t[o]);if(_c)for(var o of _c(t))sk.call(t,o)&&vc(e,o,t[o]);return e};function rk(e,t,o={}){const s=tk(t),r=bc(s)||gc(),l=z(),i=z(null),a=z(!1),c=z(!1),u=Od(!0),p=z({}),h=$(()=>Lr(Lr(Lr({},Dx),o),p.value)),d=z(0);let m;u.run(()=>{m=Yx(l),ae(l,async S=>{S&&(c.value=!0),await Ge(),l.value||(c.value=!1)})});const g=bc(e);function F(){return`starport-${r}-${g}-${gc()}`}const v=F();return Le({el:l,id:v,port:e,props:i,rect:m,scope:u,isLanded:a,isVisible:c,options:h,liftOffTime:d,component:t,componentName:s,componentId:r,generateId:F,setLocalOptions(S={}){p.value=JSON.parse(JSON.stringify(S))},elRef(){return l},liftOff(){!a.value||(a.value=!1,d.value=Date.now(),m.listen())},land(){a.value||(a.value=!0,m.pause())}})}function lk(e){const t=Le(new Map);function o(r,l){let i=t.get(r);return i||(i=rk(r,l,e),t.set(r,i)),i.component=l,i}function s(r){var l;(l=t.get(r))==null||l.scope.stop(),t.delete(r)}return{portMap:t,dispose:s,getInstance:o}}var ik=Object.defineProperty,ak=Object.defineProperties,ck=Object.getOwnPropertyDescriptors,Fc=Object.getOwnPropertySymbols,uk=Object.prototype.hasOwnProperty,pk=Object.prototype.propertyIsEnumerable,wc=(e,t,o)=>t in e?ik(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,dk=(e,t)=>{for(var o in t||(t={}))uk.call(t,o)&&wc(e,o,t[o]);if(Fc)for(var o of Fc(t))pk.call(t,o)&&wc(e,o,t[o]);return e},fk=(e,t)=>ak(e,ck(t));const hk=Oe({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(e){const t=H(bi);if(!t)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const o=$(()=>t.getInstance(e.port,e.component)),s=$(()=>{var i;return((i=o.value.el)==null?void 0:i.id)||o.value.id}),r=$(()=>{const i=Date.now()-o.value.liftOffTime,a=Math.max(0,o.value.options.duration-i),c=o.value.rect,u={position:"absolute",left:0,top:0,width:`${c.width}px`,height:`${c.height}px`,transform:`translate3d(${c.left}px,${c.top}px,0px)`};return!o.value.isVisible||!o.value.el?fk(dk({},u),{zIndex:-1,display:"none"}):(o.value.isLanded?u.display="none":Object.assign(u,{transitionProperty:"all",transitionDuration:`${a}ms`,transitionTimingFunction:o.value.options.easing}),u)}),l={};return()=>{const i=!!(o.value.isLanded&&o.value.el);return $t("div",{style:r.value,"data-starport-craft":o.value.componentId,"data-starport-landed":o.value.isLanded?"true":void 0,"data-starport-floating":o.value.isLanded?void 0:"true",onTransitionend:o.value.land},$t(sh,{to:i?`#${s.value}`:"body",disabled:!i},$t(o.value.component,$s(l,o.value.props))))}}}),mk=Oe({name:"StarportCarrier",setup(e,{slots:t}){const o=lk(H(ud,{}));return oo().appContext.app.provide(bi,o),()=>{var r;return[(r=t.default)==null?void 0:r.call(t),Array.from(o.portMap.entries()).map(([l,{component:i}])=>$t(hk,{key:l,port:l,component:i}))]}}});function yk(e={}){return{install(t){t.provide(ud,e),t.component("Starport",Wx),t.component("StarportCarrier",mk)}}}function gk(e){function t(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}t(),window.addEventListener("resize",t),e.app.use(Rx),e.app.use(yk({keepAlive:!0}))}function it(e,t,o){var s,r;return(r=((s=e.instance)==null?void 0:s.$).provides[t])!=null?r:o}function bk(){return{install(e){e.directive("click",{name:"v-click",mounted(t,o){var p,h,d,m;if($o.value||((p=it(o,gs))==null?void 0:p.value))return;const s=it(o,Dn),r=it(o,ys),l=it(o,tl),i=o.modifiers.hide!==!1&&o.modifiers.hide!=null,a=o.modifiers.fade!==!1&&o.modifiers.fade!=null,c=((h=s==null?void 0:s.value)==null?void 0:h.length)||0,u=a?om:gr;if(s&&!((d=s==null?void 0:s.value)!=null&&d.includes(t))&&s.value.push(t),o.value===null&&(o.value=s==null?void 0:s.value.length),!(l!=null&&l.value.has(o.value)))l==null||l.value.set(o.value,[t]);else if(!((m=l==null?void 0:l.value.get(o.value))!=null&&m.includes(t))){const g=(l==null?void 0:l.value.get(o.value))||[];l==null||l.value.set(o.value,[t].concat(g))}t==null||t.classList.toggle(In,!0),r&&ae(r,()=>{var S;const g=(S=r==null?void 0:r.value)!=null?S:0,F=o.value!=null?g>=o.value:g>c;t.classList.contains(br)||t.classList.toggle(u,!F),i!==!1&&i!==void 0&&t.classList.toggle(u,F),t.classList.toggle(po,!1);const v=l==null?void 0:l.value.get(g);v==null||v.forEach((x,k)=>{x.classList.toggle(cs,!1),k===v.length-1?x.classList.toggle(po,!0):x.classList.toggle(cs,!0)}),t.classList.contains(po)||t.classList.toggle(cs,F)},{immediate:!0})},unmounted(t,o){t==null||t.classList.toggle(In,!1);const s=it(o,Dn);s!=null&&s.value&&la(s.value,t)}}),e.directive("after",{name:"v-after",mounted(t,o){var a,c;if($o.value||((a=it(o,gs))==null?void 0:a.value))return;const s=it(o,Dn),r=it(o,ys),l=it(o,tl),i=s==null?void 0:s.value.length;o.value===void 0&&(o.value=s==null?void 0:s.value.length),l!=null&&l.value.has(o.value)?(c=l==null?void 0:l.value.get(o.value))==null||c.push(t):l==null||l.value.set(o.value,[t]),t==null||t.classList.toggle(In,!0),r&&ae(r,()=>{var p,h,d;const u=((p=r.value)!=null?p:0)>=((d=(h=o.value)!=null?h:i)!=null?d:0);t.classList.contains(br)||t.classList.toggle(gr,!u),t.classList.toggle(po,!1),t.classList.contains(po)||t.classList.toggle(cs,u)},{immediate:!0})},unmounted(t){t==null||t.classList.toggle(In,!0)}}),e.directive("click-hide",{name:"v-click-hide",mounted(t,o){var i,a,c;if($o.value||((i=it(o,gs))==null?void 0:i.value))return;const s=it(o,Dn),r=it(o,ys),l=((a=s==null?void 0:s.value)==null?void 0:a.length)||0;s&&!((c=s==null?void 0:s.value)!=null&&c.includes(t))&&s.value.push(t),t==null||t.classList.toggle(In,!0),r&&ae(r,()=>{var h;const u=(h=r==null?void 0:r.value)!=null?h:0,p=o.value!=null?u>=o.value:u>l;t.classList.toggle(gr,p),t.classList.toggle(br,p)},{immediate:!0})},unmounted(t,o){t==null||t.classList.toggle(In,!1);const s=it(o,Dn);s!=null&&s.value&&la(s.value,t)}})}}}function _k(e,t){const o=cp(e),s=up(t,o.currentRoute,o.currentPage);return{nav:Ze(be(be({},o),s),{downloadPDF:ml,next:rn,nextSlide:Uo,openInEditor:zF,prev:ln,prevSlide:Xo}),configs:Fe,themeConfigs:$(()=>Fe.themeConfig)}}function vk(){return{install(e){const t=_k(Kt,Ot);e.provide(q,Le(t))}}}const io=Nh(HF);io.use(ht);io.use(Jh());io.use(bk());io.use(vk());gk({app:io,router:ht});io.mount("#app");export{go as $,ie as A,np as B,pe as C,He as D,fp as E,Qe as F,we as G,jg as H,ke as I,wk as J,xk as K,Ot as L,Ls as M,TF as N,Er as O,_r as P,Ho as Q,kr as R,Xb as S,ei as T,ti as U,Hb as V,Yg as W,At as X,kk as Y,Xt as Z,lp as _,n as a,us as a0,Yo as a1,dl as a2,bg as a3,_g as a4,vg as a5,wg as a6,Ul as a7,Fu as a8,Bk as a9,Rt as aa,et as ab,O0 as ac,_n as ad,xu as ae,xg as af,Qs as ag,$ as b,j as c,Oe as d,q as e,ut as f,K as g,_ as h,H as i,Ag as j,NF as k,Fe as l,em as m,Re as n,C as o,Wo as p,Le as q,z as r,Ck as s,Cn as t,Ek as u,Sk as v,ae as w,W as x,rt as y,Cu as z};
